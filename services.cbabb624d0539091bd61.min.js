!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=730)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(){return null}function o(e){var t=e.nodeName,n=e.attributes;e.attributes={},t.defaultProps&&w(e.attributes,t.defaultProps),n&&w(e.attributes,n)}function i(e,t){var n,r,o;if(t){for(o in t)if(n=$.test(o))break;if(n){r=e.attributes={};for(o in t)t.hasOwnProperty(o)&&(r[$.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=t[o])}}}function a(e,t,n){var r=t&&t._preactCompatRendered&&t._preactCompatRendered.base;r&&r.parentNode!==t&&(r=null),!r&&t&&(r=t.firstElementChild);for(var o=t.childNodes.length;o--;)t.childNodes[o]!==r&&t.removeChild(t.childNodes[o]);var i=Object(L.render)(e,t,r);return t&&(t._preactCompatRendered=i&&(i._component||{base:i})),"function"==typeof n&&n(),i&&i._component||i}function u(e,t,n,r){var o=Object(L.h)(K,{context:e.context},t),i=a(o,n),u=i._component||i.base;return r&&r.call(u,i),u}function s(e){var t=e._preactCompatRendered&&e._preactCompatRendered.base;return!(!t||t.parentNode!==e)&&(Object(L.render)(Object(L.h)(r),e,t),!0)}function c(e){return p.bind(null,e)}function l(e,t){for(var n=t||0;n<e.length;n++){var r=e[n];Array.isArray(r)?l(r):r&&"object"==typeof r&&!m(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(e[n]=p(r.type||r.nodeName,r.props||r.attributes,r.children))}}function f(e){return"function"==typeof e&&!(e.prototype&&e.prototype.render)}function d(e){return S({displayName:e.displayName||e.name,render:function(){return e(this.props,this.context)}})}function h(e){var t=e[Y];return t?!0===t?e:t:(t=d(e),Object.defineProperty(t,Y,{configurable:!0,value:!0}),t.displayName=e.displayName,t.propTypes=e.propTypes,t.defaultProps=e.defaultProps,Object.defineProperty(e,Y,{configurable:!0,value:t}),t)}function p(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return l(e,2),v(L.h.apply(void 0,e))}function v(e){e.preactCompatNormalized=!0,_(e),f(e.nodeName)&&(e.nodeName=h(e.nodeName));var t=e.attributes.ref,n=t&&typeof t;return!Q||"string"!==n&&"number"!==n||(e.attributes.ref=g(t,Q)),b(e),e}function y(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!m(e))return e;var o=e.attributes||e.props,i=Object(L.h)(e.nodeName||e.type,o,e.children||o&&o.children),a=[i,t];return n&&n.length?a.push(n):t&&t.children&&a.push(t.children),v(L.cloneElement.apply(void 0,a))}function m(e){return e&&(e instanceof V||e.$$typeof===U)}function g(e,t){return t._refProxies[e]||(t._refProxies[e]=function(n){t&&t.refs&&(t.refs[e]=n,null===n&&(delete t._refProxies[e],t=null))})}function b(e){var t=e.nodeName,n=e.attributes;if(n&&"string"==typeof t){var r={};for(var o in n)r[o.toLowerCase()]=o;if(r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]),r.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var i=r.oninput||"oninput";n[i]||(n[i]=D([n[i],n[r.onchange]]),delete n[r.onchange])}}}function _(e){var t=e.attributes||(e.attributes={});re.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",re)}function w(e,t){for(var n=arguments,r=1,o=void 0;r<arguments.length;r++)if(o=n[r])for(var i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e}function k(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function E(e){return e&&e.base||e}function x(){}function S(e){function t(e,t){j(this),P.call(this,e,t,W),C.call(this,e,t)}return e=w({constructor:t},e),e.mixins&&A(e,O(e.mixins)),e.statics&&w(t,e.statics),e.propTypes&&(t.propTypes=e.propTypes),e.defaultProps&&(t.defaultProps=e.defaultProps),e.getDefaultProps&&(t.defaultProps=e.getDefaultProps()),x.prototype=P.prototype,t.prototype=w(new x,e),t.displayName=e.displayName||"Component",t}function O(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var o in r)r.hasOwnProperty(o)&&"function"==typeof r[o]&&(t[o]||(t[o]=[])).push(r[o])}return t}function A(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=D(t[n].concat(e[n]||Z),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}function j(e){for(var t in e){var n=e[t];"function"!=typeof n||n.__bound||H.hasOwnProperty(t)||((e[t]=n.bind(e)).__bound=!0)}}function T(e,t,n){if("string"==typeof t&&(t=e.constructor.prototype[t]),"function"==typeof t)return t.apply(e,n)}function D(e,t){return function(){for(var n,r=arguments,o=this,i=0;i<e.length;i++){var a=T(o,e[i],r);if(t&&null!=a){n||(n={});for(var u in a)a.hasOwnProperty(u)&&(n[u]=a[u])}else void 0!==a&&(n=a)}return n}}function C(e,t){M.call(this,e,t),this.componentWillReceiveProps=D([M,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=D([M,R,this.render||"render",I])}function M(e,t){if(e){var n=e.children;if(n&&Array.isArray(n)&&1===n.length&&("string"==typeof n[0]||"function"==typeof n[0]||n[0]instanceof V)&&(e.children=n[0],e.children&&"object"==typeof e.children&&(e.children.length=1,e.children[0]=e.children)),G){var r="function"==typeof this?this:this.constructor,o=this.propTypes||r.propTypes,i=this.displayName||r.name;o&&z.a.checkPropTypes(o,e,"prop",i)}}}function R(e){Q=this}function I(){Q===this&&(Q=null)}function P(e,t,n){L.Component.call(this,e,t),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},n!==W&&C.call(this,e,t)}function N(e,t){P.call(this,e,t)}n.d(t,"version",function(){return q}),n.d(t,"DOM",function(){return te}),n.d(t,"Children",function(){return ee}),n.d(t,"render",function(){return a}),n.d(t,"createClass",function(){return S}),n.d(t,"createFactory",function(){return c}),n.d(t,"createElement",function(){return p}),n.d(t,"cloneElement",function(){return y}),n.d(t,"isValidElement",function(){return m}),n.d(t,"findDOMNode",function(){return E}),n.d(t,"unmountComponentAtNode",function(){return s}),n.d(t,"Component",function(){return P}),n.d(t,"PureComponent",function(){return N}),n.d(t,"unstable_renderSubtreeIntoContainer",function(){return u}),n.d(t,"__spread",function(){return w});var F=n(12),z=n.n(F),L=n(278);n.n(L);n.d(t,"PropTypes",function(){return z.a});var q="15.1.0",B="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),U="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Y="undefined"!=typeof Symbol?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",H={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},$=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,W={},G=void 0===e||!e.env||!1,V=Object(L.h)("a",null).constructor;V.prototype.$$typeof=U,V.prototype.preactCompatUpgraded=!1,V.prototype.preactCompatNormalized=!1,Object.defineProperty(V.prototype,"type",{get:function(){return this.nodeName},set:function(e){this.nodeName=e},configurable:!0}),Object.defineProperty(V.prototype,"props",{get:function(){return this.attributes},set:function(e){this.attributes=e},configurable:!0});var X=L.options.event;L.options.event=function(e){return X&&(e=X(e)),e.persist=Object,e.nativeEvent=e,e};var J=L.options.vnode;L.options.vnode=function(e){if(!e.preactCompatUpgraded){e.preactCompatUpgraded=!0;var t=e.nodeName,n=e.attributes=w({},e.attributes);"function"==typeof t?(!0===t[Y]||t.prototype&&"isReactComponent"in t.prototype)&&(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),e.preactCompatNormalized||v(e),o(e)):(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),i(e,n))}J&&J(e)};var K=function(){};K.prototype.getChildContext=function(){return this.props.context},K.prototype.render=function(e){return e.children[0]};for(var Q,Z=[],ee={map:function(e,t,n){return null==e?null:(e=ee.toArray(e),n&&n!==e&&(t=t.bind(n)),e.map(t))},forEach:function(e,t,n){if(null==e)return null;e=ee.toArray(e),n&&n!==e&&(t=t.bind(n)),e.forEach(t)},count:function(e){return e&&e.length||0},only:function(e){if(e=ee.toArray(e),1!==e.length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return null==e?[]:Z.concat(e)}},te={},ne=B.length;ne--;)te[B[ne]]=c(B[ne]);var re={configurable:!0,get:function(){return this.class},set:function(e){this.class=e}};w(P.prototype=new L.Component,{constructor:P,isReactComponent:{},replaceState:function(e,t){var n=this;this.setState(e,t);for(var r in n.state)r in e||delete n.state[r]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),x.prototype=P.prototype,N.prototype=new x,N.prototype.isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(e,t){return k(this.props,e)||k(this.state,t)};var oe={version:q,DOM:te,PropTypes:z.a,Children:ee,render:a,createClass:S,createFactory:c,createElement:p,cloneElement:y,isValidElement:m,findDOMNode:E,unmountComponentAtNode:s,Component:P,PureComponent:N,unstable_renderSubtreeIntoContainer:u,__spread:w};t.default=oe}.call(t,n(18))},function(e,t,n){var r=n(6),o=n(49),i=n(24),a=n(35),u=n(30),s=function(e,t,n){var c,l,f,d,h=e&s.F,p=e&s.G,v=e&s.S,y=e&s.P,m=e&s.B,g=p?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,b=p?o:o[t]||(o[t]={}),_=b.prototype||(b.prototype={});p&&(n=t);for(c in n)l=!h&&g&&void 0!==g[c],f=(l?g:n)[c],d=m&&l?u(f,r):y&&"function"==typeof f?u(Function.call,f):f,g&&a(g,c,f,e&s.U),b[c]!=f&&i(b,c,d),y&&_[c]!=f&&(_[c]=f)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var o=r.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}var r=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=n},function(e,t,n){var r,o;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(o=function(){return n}.apply(t,r))&&(e.exports=o))}()},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.translate=t.I18n=t.DEFAULT_LANG=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(12),d=r(f),h=n(290),p=n(307),v=(t.DEFAULT_LANG="en",t.I18n=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.init(n.props),n}return a(t,e),s(t,[{key:"init",value:function(e){var t=e.lang,n=e.dictRequire,r=e.context,o=e.defaultLang;this.translation=(0,h.initTranslation)(t,n,r,o),this.format=(0,p.initFormat)(t,o)}},{key:"getChildContext",value:function(){return{t:this.translation.t.bind(this.translation),f:this.format,lang:this.props.lang}}},{key:"componentWillReceiveProps",value:function(e){e.locale!==this.props.locale&&this.init(e)}},{key:"render",value:function(){return this.props.children&&this.props.children[0]||null}}]),t}(c.Component));v.propTypes={lang:d.default.string.isRequired,dictRequire:d.default.func.isRequired,context:d.default.string,defaultLang:d.default.string},v.childContextTypes={t:d.default.func,f:d.default.func,lang:d.default.string};t.translate=function(){return function(e){return function(t,n){return l.default.createElement(e,u({},t,{t:n.t,f:n.f,lang:n.lang}))}}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(387),o=n(187),i=n(390);n.d(t,"Provider",function(){return r.b}),n.d(t,"createProvider",function(){return r.a}),n.d(t,"connectAdvanced",function(){return o.a}),n.d(t,"connect",function(){return i.a})},function(e,t,n){var r=n(213)("wks"),o=n(42),i=n(6).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(3)},function(e,t,n){n(2),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var n=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function v(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},f.call(h.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];y.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=h,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var o=new h(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:v(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new y(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){throw new Error("Missing onRegistered callback")}function a(e,t){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(void 0,[e].concat(r))}}function u(e,t,n,r){for(var o in n){var i=a(e,n[o]);r&&(i=(0,c.unpromiser)(i)),t[o]=i}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(4),n(45),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(88),n(89),n(93),n(94),n(95),n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(105),n(107),n(108),n(109),n(110),n(113),n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(127),n(129),n(133),n(134),n(135),n(137),n(139),n(140),n(141),n(142),n(144),n(145),n(146),n(147),n(148),n(62),n(149),n(150),n(152),n(153),n(154),n(155),n(156),n(157),n(159),n(160),n(161),n(163),n(164),n(165),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(180),n(181),n(182),n(184),n(185),n(188),n(189),n(190);var c=n(192),l=n(193),f=n(194),d=n(195),h=r(d),p=n(198),v=r(p),y=n(196),m=r(y),g=n(200),b=r(g),_=n(201),w=r(_),k=n(202),E=r(k),x=n(203),S=r(x),O=n(204),A=r(O),j=n(246),T=r(j),D=n(247),C=r(D),M=h.AppToken,R=h.AccessToken,I=h.Client,P={softwareID:"github.com/cozy/cozy-client-js"},N={create:v.create,find:v.find,findMany:v.findMany,findAll:v.findAll,update:v.update,delete:v._delete,updateAttributes:v.updateAttributes,changesFeed:v.changesFeed,defineIndex:b.defineIndex,query:b.query,addReferencedFiles:C.addReferencedFiles,removeReferencedFiles:C.removeReferencedFiles,listReferencedFiles:C.listReferencedFiles,fetchReferencedFiles:C.fetchReferencedFiles,destroy:function(){return(0,c.warn)("destroy is deprecated, use cozy.data.delete instead."),v._delete.apply(v,arguments)}},F={client:h.client,registerClient:h.registerClient,updateClient:h.updateClient,unregisterClient:h.unregisterClient,getClient:h.getClient,getAuthCodeURL:h.getAuthCodeURL,getAccessToken:h.getAccessToken,refreshToken:h.refreshToken},z={create:w.create,createDirectory:w.createDirectory,createDirectoryByPath:w.createDirectoryByPath,updateById:w.updateById,updateAttributesById:w.updateAttributesById,updateAttributesByPath:w.updateAttributesByPath,trashById:w.trashById,statById:w.statById,statByPath:w.statByPath,downloadById:w.downloadById,downloadByPath:w.downloadByPath,getDownloadLinkById:w.getDownloadLinkById,getDownloadLink:w.getDownloadLinkByPath,getDownloadLinkByPath:w.getDownloadLinkByPath,getArchiveLink:function(){return(0,c.warn)("getArchiveLink is deprecated, use cozy.files.getArchiveLinkByPaths instead."),w.getArchiveLinkByPaths.apply(w,arguments)},getArchiveLinkByPaths:w.getArchiveLinkByPaths,getArchiveLinkByIds:w.getArchiveLinkByIds,getFilePath:w.getFilePath,getCollectionShareLink:w.getCollectionShareLink,query:b.queryFiles,listTrash:w.listTrash,clearTrash:w.clearTrash,restoreById:w.restoreById,destroyById:w.destroyById},L={create:E.create,createService:E.createService},q={create:S.create,count:S.count,queued:S.queued},B={init:A.init,getDoctypes:A.getDoctypes,hasDatabase:A.hasDatabase,getDatabase:A.getDatabase,createDatabase:A.createDatabase,destroyDatabase:A.destroyDatabase,destroyAllDatabase:A.destroyAllDatabase,hasReplication:A.hasReplication,replicateFromCozy:A.replicateFromCozy,stopReplication:A.stopReplication,stopAllReplication:A.stopAllReplication,hasRepeatedReplication:A.hasRepeatedReplication,startRepeatedReplication:A.startRepeatedReplication,stopRepeatedReplication:A.stopRepeatedReplication,stopAllRepeatedReplication:A.stopAllRepeatedReplication},U={diskUsage:T.diskUsage,changePassphrase:T.changePassphrase,getInstance:T.getInstance,updateInstance:T.updateInstance,getClients:T.getClients,deleteClientById:T.deleteClientById,updateLastSync:T.updateLastSync},Y=function(){function e(t){o(this,e),this.data={},this.files={},this.intents={},this.jobs={},this.offline={},this.settings={},this.auth={Client:I,AccessToken:R,AppToken:M,AppTokenV2:f.AppToken,LocalStorage:l.LocalStorage,MemoryStorage:l.MemoryStorage},this._inited=!1,t&&this.init(t)}return s(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._inited=!0,this._oauth=!1,this._token=null,this._authstate=0,this._authcreds=null,this._storage=null,this._version=e.version||null,this._offline=null;var t=e.token,n=e.oauth;if(t&&n)throw new Error("Cannot specify an application token with a oauth activated");t?this._token=new M({token:t}):n&&(this._oauth=!0,this._storage=n.storage,this._clientParams=Object.assign({},P,n.clientParams),this._onRegistered=n.onRegistered||i);for(var r=e.cozyURL||"";"/"===r[r.length-1];)r=r.slice(0,-1);this._url=r;var o=!!e.disablePromises;u(this,this.data,N,o),u(this,this.auth,F,o),u(this,this.files,z,o),u(this,this.intents,L,o),u(this,this.jobs,q,o),u(this,this.offline,B,o),u(this,this.settings,U,o),e.offline&&this.offline.init(e.offline),this.fetchJSON=function(){var e=[this].concat(Array.prototype.slice.call(arguments));return m.cozyFetchJSON.apply(this,e)}}},{key:"authorize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._authstate;return 3===n||1===n?this._authcreds:(this._authstate=1,this._authcreds=this.isV2().then(function(n){if(n&&e._oauth)throw new Error("OAuth is not supported on the V2 stack");if(e._oauth){if(t&&e._clientParams.redirectURI){var r=new URL(e._clientParams.redirectURI);r.searchParams.has("reconnect")||r.searchParams.append("reconnect",1),e._clientParams.redirectURI=r.toString()}return h.oauthFlow(e,e._storage,e._clientParams,e._onRegistered,t)}if(n)return(0,f.getAppToken)();if(e._token)return Promise.resolve({client:null,token:e._token});throw new Error("Missing application token")}),this._authcreds.then(function(){e._authstate=3},function(){e._authstate=2}),this._authcreds)}},{key:"saveCredentials",value:function(e,t){var n={client:e,token:t};return this._storage&&1!==this._authstate?(this._storage.save(h.CredsKey,n),this._authcreds=Promise.resolve(n),this._authcreds):Promise.resolve(n)}},{key:"fullpath",value:function(e){var t=this;return this.isV2().then(function(n){var r=n?"/ds-api":"";return t._url+r+e})}},{key:"isV2",value:function(){var e=this;return this._version?Promise.resolve(2===this._version):(0,c.retry)(function(){return fetch(e._url+"/status/")},3)().then(function(e){if(e.ok)return e.json();throw new Error("Could not fetch cozy status")}).then(function(t){return e._version=void 0!==t.datasystem?2:3,e.isV2()})}}]),e}();e.exports=new Y,Object.assign(e.exports,{Client:Y,LocalStorage:l.LocalStorage,MemoryStorage:l.MemoryStorage})},function(e,t,n){var r=n(5);r(r.G+r.W+r.F*!n(23).ABV,{DataView:n(24).DataView})},function(e,t,n){var r=n(6),o=n(7),i=n(8),a=n(18),u=n(21),s=function(e,t,n){var c,l,f,d,h=e&s.F,p=e&s.G,v=e&s.S,y=e&s.P,m=e&s.B,g=p?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,b=p?o:o[t]||(o[t]={}),_=b.prototype||(b.prototype={});p&&(n=t);for(c in n)l=!h&&g&&void 0!==g[c],f=(l?g:n)[c],d=m&&l?u(f,r):y&&"function"==typeof f?u(Function.call,f):f,g&&a(g,c,f,e&s.U),b[c]!=f&&i(b,c,d),y&&_[c]!=f&&(_[c]=f)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(9),o=n(17);e.exports=n(13)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(10),o=n(12),i=n(16),a=Object.defineProperty;t.f=n(13)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(13)&&!n(14)(function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(14)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(11),o=n(6).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(6),o=n(8),i=n(19),a=n(20)("src"),u=Function.toString,s=(""+u).split("toString");n(7).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(22);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){for(var r,o=n(6),i=n(8),a=n(20),u=a("typed_array"),s=a("view"),c=!(!o.ArrayBuffer||!o.DataView),l=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=o[d[f++]])?(i(r.prototype,u,!0),i(r.prototype,s,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:u,VIEW:s}},function(e,t,n){"use strict";var r=n(6),o=n(13),i=n(25),a=n(23),u=n(8),s=n(26),c=n(14),l=n(27),f=n(28),d=n(29),h=n(30).f,p=n(9).f,v=n(41),y=n(43),m=r.ArrayBuffer,g=r.DataView,b=r.Math,_=r.RangeError,w=r.Infinity,k=m,E=b.abs,x=b.pow,S=b.floor,O=b.log,A=b.LN2,j=o?"_b":"buffer",T=o?"_l":"byteLength",D=o?"_o":"byteOffset",C=function(e,t,n){var r,o,i,a=Array(n),u=8*n-t-1,s=(1<<u)-1,c=s>>1,l=23===t?x(2,-24)-x(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for(e=E(e),e!=e||e===w?(o=e!=e?1:0,r=s):(r=S(O(e)/A),e*(i=x(2,-r))<1&&(r--,i*=2),e+=r+c>=1?l/i:l*x(2,1-c),e*i>=2&&(r++,i/=2),r+c>=s?(o=0,r=s):r+c>=1?(o=(e*i-1)*x(2,t),r+=c):(o=e*x(2,c-1)*x(2,t),r=0));t>=8;a[f++]=255&o,o/=256,t-=8);for(r=r<<t|o,u+=t;u>0;a[f++]=255&r,r/=256,u-=8);return a[--f]|=128*d,a},M=function(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,u=o-7,s=n-1,c=e[s--],l=127&c;for(c>>=7;u>0;l=256*l+e[s],s--,u-=8);for(r=l&(1<<-u)-1,l>>=-u,u+=t;u>0;r=256*r+e[s],s--,u-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:c?-w:w;r+=x(2,t),l-=a}return(c?-1:1)*r*x(2,l-t)},R=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},I=function(e){return[255&e]},P=function(e){return[255&e,e>>8&255]},N=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},F=function(e){return C(e,52,8)},z=function(e){return C(e,23,4)},L=function(e,t,n){p(e.prototype,t,{get:function(){return this[n]}})},q=function(e,t,n,r){var o=+n,i=f(o);if(o!=i||i<0||i+t>e[T])throw _("Wrong index!");var a=e[j]._b,u=i+e[D],s=a.slice(u,u+t);return r?s:s.reverse()},B=function(e,t,n,r,o,i){var a=+n,u=f(a);if(a!=u||u<0||u+t>e[T])throw _("Wrong index!");for(var s=e[j]._b,c=u+e[D],l=r(+o),d=0;d<t;d++)s[c+d]=l[i?d:t-d-1]},U=function(e,t){l(e,m,"ArrayBuffer");var n=+t,r=d(n);if(n!=r)throw _("Wrong length!");return r};if(a.ABV){if(!c(function(){new m})||!c(function(){new m(.5)})){m=function(e){return new k(U(this,e))};for(var Y,H=m.prototype=k.prototype,$=h(k),W=0;$.length>W;)(Y=$[W++])in m||u(m,Y,k[Y]);i||(H.constructor=m)}var G=new g(new m(2)),V=g.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||s(g.prototype,{setInt8:function(e,t){V.call(this,e,t<<24>>24)},setUint8:function(e,t){V.call(this,e,t<<24>>24)}},!0)}else m=function(e){var t=U(this,e);this._b=v.call(Array(t),0),this[T]=t},g=function(e,t,n){l(this,g,"DataView"),l(e,m,"DataView");var r=e[T],o=f(t);if(o<0||o>r)throw _("Wrong offset!");if(n=void 0===n?r-o:d(n),o+n>r)throw _("Wrong length!");this[j]=e,this[D]=o,this[T]=n},o&&(L(m,"byteLength","_l"),L(g,"buffer","_b"),L(g,"byteLength","_l"),L(g,"byteOffset","_o")),s(g.prototype,{getInt8:function(e){return q(this,1,e)[0]<<24>>24},getUint8:function(e){return q(this,1,e)[0]},getInt16:function(e){var t=q(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=q(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return R(q(this,4,e,arguments[1]))},getUint32:function(e){return R(q(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return M(q(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return M(q(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){B(this,1,e,I,t)},setUint8:function(e,t){B(this,1,e,I,t)},setInt16:function(e,t){B(this,2,e,P,t,arguments[2])},setUint16:function(e,t){B(this,2,e,P,t,arguments[2])},setInt32:function(e,t){B(this,4,e,N,t,arguments[2])},setUint32:function(e,t){B(this,4,e,N,t,arguments[2])},setFloat32:function(e,t){B(this,4,e,z,t,arguments[2])},setFloat64:function(e,t){B(this,8,e,F,t,arguments[2])}});y(m,"ArrayBuffer"),y(g,"DataView"),u(g.prototype,a.VIEW,!0),t.ArrayBuffer=m,t.DataView=g},function(e,t){e.exports=!1},function(e,t,n){var r=n(18);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(28),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(31),o=n(40).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(19),o=n(32),i=n(36)(!1),a=n(38)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(33),o=n(35);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(32),o=n(29),i=n(37);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(28),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(39)("keys"),o=n(20);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(6),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var r=n(42),o=n(37),i=n(29);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);c>u;)t[u++]=e;return t}},function(e,t,n){var r=n(35);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(9).f,o=n(19),i=n(44)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(39)("wks"),o=n(20),i=n(6).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){n(46)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";if(n(13)){var r=n(25),o=n(6),i=n(14),a=n(5),u=n(23),s=n(24),c=n(21),l=n(27),f=n(17),d=n(8),h=n(26),p=n(28),v=n(29),y=n(37),m=n(16),g=n(19),b=n(47),_=n(48),w=n(11),k=n(42),E=n(49),x=n(51),S=n(55),O=n(30).f,A=n(56),j=n(20),T=n(44),D=n(57),C=n(36),M=n(61),R=n(62),I=n(50),P=n(67),N=n(68),F=n(41),z=n(69),L=n(9),q=n(70),B=L.f,U=q.f,Y=o.RangeError,H=o.TypeError,$=o.Uint8Array,W=Array.prototype,G=s.ArrayBuffer,V=s.DataView,X=D(0),J=D(2),K=D(3),Q=D(4),Z=D(5),ee=D(6),te=C(!0),ne=C(!1),re=R.values,oe=R.keys,ie=R.entries,ae=W.lastIndexOf,ue=W.reduce,se=W.reduceRight,ce=W.join,le=W.sort,fe=W.slice,de=W.toString,he=W.toLocaleString,pe=T("iterator"),ve=T("toStringTag"),ye=j("typed_constructor"),me=j("def_constructor"),ge=u.CONSTR,be=u.TYPED,_e=u.VIEW,we=D(1,function(e,t){return Ae(M(e,e[me]),t)}),ke=i(function(){return 1===new $(new Uint16Array([1]).buffer)[0]}),Ee=!!$&&!!$.prototype.set&&i(function(){new $(1).set({})}),xe=function(e,t){if(void 0===e)throw H("Wrong length!");var n=+e,r=v(e);if(t&&!b(n,r))throw Y("Wrong length!");return r},Se=function(e,t){var n=p(e);if(n<0||n%t)throw Y("Wrong offset!");return n},Oe=function(e){if(w(e)&&be in e)return e;throw H(e+" is not a typed array!")},Ae=function(e,t){if(!(w(e)&&ye in e))throw H("It is not a typed array constructor!");return new e(t)},je=function(e,t){return Te(M(e,e[me]),t)},Te=function(e,t){for(var n=0,r=t.length,o=Ae(e,r);r>n;)o[n]=t[n++];return o},De=function(e,t,n){B(e,t,{get:function(){return this._d[n]}})},Ce=function(e){var t,n,r,o,i,a,u=k(e),s=arguments.length,l=s>1?arguments[1]:void 0,f=void 0!==l,d=A(u);if(void 0!=d&&!E(d)){for(a=d.call(u),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);u=r}for(f&&s>2&&(l=c(l,arguments[2],2)),t=0,n=v(u.length),o=Ae(this,n);n>t;t++)o[t]=f?l(u[t],t):u[t];return o},Me=function(){for(var e=0,t=arguments.length,n=Ae(this,t);t>e;)n[e]=arguments[e++];return n},Re=!!$&&i(function(){he.call(new $(1))}),Ie=function(){return he.apply(Re?fe.call(Oe(this)):Oe(this),arguments)},Pe={copyWithin:function(e,t){return z.call(Oe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(Oe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return F.apply(Oe(this),arguments)},filter:function(e){return je(this,J(Oe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Oe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Oe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(Oe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Oe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Oe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Oe(this),arguments)},lastIndexOf:function(e){return ae.apply(Oe(this),arguments)},map:function(e){return we(Oe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(Oe(this),arguments)},reduceRight:function(e){return se.apply(Oe(this),arguments)},reverse:function(){for(var e,t=this,n=Oe(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return K(Oe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Oe(this),e)},subarray:function(e,t){var n=Oe(this),r=n.length,o=y(e,r);return new(M(n,n[me]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,v((void 0===t?r:y(t,r))-o))}},Ne=function(e,t){return je(this,fe.call(Oe(this),e,t))},Fe=function(e){Oe(this);var t=Se(arguments[1],1),n=this.length,r=k(e),o=v(r.length),i=0;if(o+t>n)throw Y("Wrong length!");for(;i<o;)this[t+i]=r[i++]},ze={entries:function(){return ie.call(Oe(this))},keys:function(){return oe.call(Oe(this))},values:function(){return re.call(Oe(this))}},Le=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function(e,t){return Le(e,t=m(t,!0))?f(2,e[t]):U(e,t)},Be=function(e,t,n){return!(Le(e,t=m(t,!0))&&w(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?B(e,t,n):(e[t]=n.value,e)};ge||(q.f=qe,L.f=Be),a(a.S+a.F*!ge,"Object",{getOwnPropertyDescriptor:qe,defineProperty:Be}),i(function(){de.call({})})&&(de=he=function(){return ce.call(this)});var Ue=h({},Pe);h(Ue,ze),d(Ue,pe,ze.values),h(Ue,{slice:Ne,set:Fe,constructor:function(){},toString:de,toLocaleString:Ie}),De(Ue,"buffer","b"),De(Ue,"byteOffset","o"),De(Ue,"byteLength","l"),De(Ue,"length","e"),B(Ue,ve,{get:function(){return this[be]}}),e.exports=function(e,t,n,s){s=!!s;var c=e+(s?"Clamped":"")+"Array",f="Uint8Array"!=c,h="get"+e,p="set"+e,y=o[c],m=y||{},g=y&&S(y),b=!y||!u.ABV,k={},E=y&&y.prototype,A=function(e,n){var r=e._d;return r.v[h](n*t+r.o,ke)},j=function(e,n,r){var o=e._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[p](n*t+o.o,r,ke)},T=function(e,t){B(e,t,{get:function(){return A(this,t)},set:function(e){return j(this,t,e)},enumerable:!0})};b?(y=n(function(e,n,r,o){l(e,y,c,"_d");var i,a,u,s,f=0,h=0;if(w(n)){if(!(n instanceof G||"ArrayBuffer"==(s=_(n))||"SharedArrayBuffer"==s))return be in n?Te(y,n):Ce.call(y,n);i=n,h=Se(r,t);var p=n.byteLength;if(void 0===o){if(p%t)throw Y("Wrong length!");if((a=p-h)<0)throw Y("Wrong length!")}else if((a=v(o)*t)+h>p)throw Y("Wrong length!");u=a/t}else u=xe(n,!0),a=u*t,i=new G(a);for(d(e,"_d",{b:i,o:h,l:a,e:u,v:new V(i)});f<u;)T(e,f++)}),E=y.prototype=x(Ue),d(E,"constructor",y)):P(function(e){new y(null),new y(e)},!0)||(y=n(function(e,n,r,o){l(e,y,c);var i;return w(n)?n instanceof G||"ArrayBuffer"==(i=_(n))||"SharedArrayBuffer"==i?void 0!==o?new m(n,Se(r,t),o):void 0!==r?new m(n,Se(r,t)):new m(n):be in n?Te(y,n):Ce.call(y,n):new m(xe(n,f))}),X(g!==Function.prototype?O(m).concat(O(g)):O(m),function(e){e in y||d(y,e,m[e])}),y.prototype=E,r||(E.constructor=y));var D=E[pe],C=!!D&&("values"==D.name||void 0==D.name),M=ze.values;d(y,ye,!0),d(E,be,c),d(E,_e,!0),d(E,me,y),(s?new y(1)[ve]==c:ve in E)||B(E,ve,{get:function(){return c}}),k[c]=y,a(a.G+a.W+a.F*(y!=m),k),a(a.S,c,{BYTES_PER_ELEMENT:t,from:Ce,of:Me}),"BYTES_PER_ELEMENT"in E||d(E,"BYTES_PER_ELEMENT",t),a(a.P,c,Pe),N(c),a(a.P+a.F*Ee,c,{set:Fe}),a(a.P+a.F*!C,c,ze),a(a.P+a.F*(E.toString!=de),c,{toString:de}),a(a.P+a.F*i(function(){new y(1).slice()}),c,{slice:Ne}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!i(function(){E.toLocaleString.call([1,2])})),c,{toLocaleString:Ie}),I[c]=C?D:M,r||C||d(E,pe,M)}}else e.exports=function(){}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(34),o=n(44)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t,n){var r=n(50),o=n(44)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t){e.exports={}},function(e,t,n){var r=n(10),o=n(52),i=n(40),a=n(38)("IE_PROTO"),u=function(){},s=function(){var e,t=n(15)("iframe"),r=i.length;for(t.style.display="none",n(54).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(9),o=n(10),i=n(53);e.exports=n(13)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(31),o=n(40);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){e.exports=n(6).document&&document.documentElement},function(e,t,n){var r=n(19),o=n(42),i=n(38)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(48),o=n(44)("iterator"),i=n(50);e.exports=n(7).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(21),o=n(33),i=n(42),a=n(29),u=n(58);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,h=t||u;return function(t,u,p){for(var v,y,m=i(t),g=o(m),b=r(u,p,3),_=a(g.length),w=0,k=n?h(t,_):s?h(t,0):void 0;_>w;w++)if((d||w in g)&&(v=g[w],y=b(v,w,m),e))if(n)k[w]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:k.push(v)}else if(l)return!1;return f?-1:c||l?l:k}}},function(e,t,n){var r=n(59);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(11),o=n(60),i=n(44)("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(34);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(10),o=n(22),i=n(44)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){"use strict";var r=n(63),o=n(64),i=n(50),a=n(32);e.exports=n(65)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(44)("unscopables"),o=Array.prototype;void 0==o[r]&&n(8)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(25),o=n(5),i=n(18),a=n(8),u=n(19),s=n(50),c=n(66),l=n(43),f=n(55),d=n(44)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,v,y,m,g){c(n,t,v);var b,_,w,k=function(e){if(!h&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",x="values"==y,S=!1,O=e.prototype,A=O[d]||O["@@iterator"]||y&&O[y],j=A||k(y),T=y?x?k("entries"):j:void 0,D="Array"==t?O.entries||A:A;if(D&&(w=f(D.call(new e)))!==Object.prototype&&(l(w,E,!0),r||u(w,d)||a(w,d,p)),x&&A&&"values"!==A.name&&(S=!0,j=function(){return A.call(this)}),r&&!g||!h&&!S&&O[d]||a(O,d,j),s[t]=j,s[E]=p,y)if(b={values:x?j:k("values"),keys:m?j:k("keys"),entries:T},g)for(_ in b)_ in O||i(O,_,b[_]);else o(o.P+o.F*(h||S),t,b);return b}},function(e,t,n){"use strict";var r=n(51),o=n(17),i=n(43),a={};n(8)(a,n(44)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(44)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(6),o=n(9),i=n(13),a=n(44)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(42),o=n(37),i=n(29);e.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),u=o(e,a),s=o(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:o(c,a))-s,a-u),f=1;for(s<u&&u<s+l&&(f=-1,s+=l-1,u+=l-1);l-- >0;)s in n?n[u]=n[s]:delete n[u],u+=f,s+=f;return n}},function(e,t,n){var r=n(71),o=n(17),i=n(32),a=n(16),u=n(19),s=n(12),c=Object.getOwnPropertyDescriptor;t.f=n(13)?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){n(46)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(46)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r=n(81);e.exports=n(85)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(9).f,o=n(51),i=n(26),a=n(21),u=n(27),s=n(35),c=n(82),l=n(65),f=n(64),d=n(68),h=n(13),p=n(84).fastKey,v=h?"_s":"size",y=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var f=e(function(e,r){u(e,f,t,"_i"),e._i=o(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&c(r,n,e[l],e)});return i(f.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var t=this,n=y(t,e);if(n){var r=n.n,o=n.p;delete t._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),t._f==n&&(t._f=r),t._l==n&&(t._l=o),t[v]--}return!!n},forEach:function(e){u(this,f,"forEach");for(var t,n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!y(this,e)}}),h&&r(f.prototype,"size",{get:function(){return s(this[v])}}),f},def:function(e,t,n){var r,o,i=y(e,t);return i?i.v=n:(e._l=i={i:o=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[v]++,"F"!==o&&(e._i[o]=i)),e},getEntry:y,setStrong:function(e,t,n){l(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?f(0,n.k):"values"==t?f(0,n.v):f(0,[n.k,n.v]):(e._t=void 0,f(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var r=n(21),o=n(83),i=n(49),a=n(10),u=n(29),s=n(56),c={},l={},t=e.exports=function(e,t,n,f,d){var h,p,v,y,m=d?function(){return e}:s(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(h=u(e.length);h>b;b++)if((y=t?g(a(p=e[b])[0],p[1]):g(e[b]))===c||y===l)return y}else for(v=m.call(e);!(p=v.next()).done;)if((y=o(v,g,p.value,t))===c||y===l)return y};t.BREAK=c,t.RETURN=l},function(e,t,n){var r=n(10);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(20)("meta"),o=n(11),i=n(19),a=n(9).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(14)(function(){return s(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return c&&p.NEED&&s(e)&&!i(e,r)&&l(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},function(e,t,n){"use strict";var r=n(6),o=n(5),i=n(18),a=n(26),u=n(84),s=n(82),c=n(27),l=n(11),f=n(14),d=n(67),h=n(43),p=n(86);e.exports=function(e,t,n,v,y,m){var g=r[e],b=g,_=y?"set":"add",w=b&&b.prototype,k={},E=function(e){var t=w[e];i(w,e,"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(m||w.forEach&&!f(function(){(new b).entries().next()}))){var x=new b,S=x[_](m?{}:-0,1)!=x,O=f(function(){x.has(1)}),A=d(function(e){new b(e)}),j=!m&&f(function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)});A||(b=t(function(t,n){c(t,b,e);var r=p(new g,t,b);return void 0!=n&&s(n,y,r[_],r),r}),b.prototype=w,w.constructor=b),(O||j)&&(E("delete"),E("has"),y&&E("get")),(j||S)&&E(_),m&&w.clear&&delete w.clear}else b=v.getConstructor(t,e,y,_),a(b.prototype,n),u.NEED=!0;return h(b,e),k[e]=b,o(o.G+o.W+o.F*(b!=g),k),m||v.setStrong(b,e,y),b}},function(e,t,n){var r=n(11),o=n(87).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(11),o=n(10),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(21)(Function.call,n(70).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){"use strict";var r=n(81);e.exports=n(85)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,o=n(57)(0),i=n(18),a=n(84),u=n(90),s=n(92),c=n(11),l=a.getWeak,f=Object.isExtensible,d=s.ufstore,h={},p=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(c(e)){var t=l(e);return!0===t?d(this).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(this,e,t)}},y=e.exports=n(85)("WeakMap",p,v,s,!0,!0);7!=(new y).set((Object.freeze||Object)(h),7).get(h)&&(r=s.getConstructor(p),u(r.prototype,v),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=y.prototype,n=t[e];i(t,e,function(t,o){if(c(t)&&!f(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)})}))},function(e,t,n){"use strict";var r=n(53),o=n(91),i=n(71),a=n(42),u=n(33),s=Object.assign;e.exports=!s||n(14)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,c=1,l=o.f,f=i.f;s>c;)for(var d,h=u(arguments[c++]),p=l?r(h).concat(l(h)):r(h),v=p.length,y=0;v>y;)f.call(h,d=p[y++])&&(n[d]=h[d]);return n}:s},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(26),o=n(84).getWeak,i=n(10),a=n(11),u=n(27),s=n(82),c=n(57),l=n(19),f=c(5),d=c(6),h=0,p=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},y=function(e,t){return f(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var c=e(function(e,r){u(e,c,t,"_i"),e._i=h++,e._l=void 0,void 0!=r&&s(r,n,e[i],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var t=o(e);return!0===t?p(this).delete(e):t&&l(t,this._i)&&delete t[this._i]},has:function(e){if(!a(e))return!1;var t=o(e);return!0===t?p(this).has(e):t&&l(t,this._i)}}),c},def:function(e,t,n){var r=o(i(t),!0);return!0===r?p(e).set(t,n):r[e._i]=n,e},ufstore:p}},function(e,t,n){"use strict";var r=n(92);n(85)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e,!0)}},r,!1,!0)},function(e,t,n){var r=n(5),o=n(22),i=n(10),a=(n(6).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n(14)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),s=i(n);return a?a(r,t,s):u.call(r,t,s)}})},function(e,t,n){var r=n(5),o=n(51),i=n(22),a=n(10),u=n(11),s=n(14),c=n(96),l=(n(6).Reflect||{}).construct,f=s(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!s(function(){l(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var s=n.prototype,h=o(u(s)?s:Object.prototype),p=Function.apply.call(e,h,t);return u(p)?p:h}})},function(e,t,n){"use strict";var r=n(22),o=n(11),i=n(97),a=[].slice,u={},s=function(e,t,n){if(!(t in u)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?s(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(u.prototype=t.prototype),u}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(9),o=n(5),i=n(10),a=n(16);o(o.S+o.F*n(14)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(5),o=n(70).f,i=n(10);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){function r(e,t){var n,u,l=arguments.length<3?e:arguments[2];return c(e)===l?e[t]:(n=o.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:s(u=i(e))?r(u,t,l):void 0}var o=n(70),i=n(55),a=n(19),u=n(5),s=n(11),c=n(10);u(u.S,"Reflect",{get:r})},function(e,t,n){var r=n(70),o=n(5),i=n(10);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(5),o=n(55),i=n(10);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(5);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(5),o=n(10),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(5);r(r.S,"Reflect",{ownKeys:n(106)})},function(e,t,n){var r=n(30),o=n(91),i=n(10),a=n(6).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(5),o=n(10),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var s,d,h=arguments.length<4?e:arguments[3],p=i.f(l(e),t);if(!p){if(f(d=a(e)))return r(d,t,n,h);p=c(0)}return u(p,"value")?!(!1===p.writable||!f(h))&&(s=i.f(h,t)||c(0),s.value=n,o.f(h,t,s),!0):void 0!==p.set&&(p.set.call(h,n),!0)}var o=n(9),i=n(70),a=n(55),u=n(19),s=n(5),c=n(17),l=n(10),f=n(11);s(s.S,"Reflect",{set:r})},function(e,t,n){var r=n(5),o=n(87);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r,o,i,a=n(25),u=n(6),s=n(21),c=n(48),l=n(5),f=n(11),d=n(22),h=n(27),p=n(82),v=n(61),y=n(111).set,m=n(112)(),g=u.TypeError,b=u.process,_=u.Promise,b=u.process,w="process"==c(b),k=function(){},E=!!function(){try{var e=_.resolve(1),t=(e.constructor={})[n(44)("species")]=function(e){e(k,k)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t}catch(e){}}(),x=function(e,t){return e===t||e===_&&t===i},S=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},O=function(e){return x(_,e)?new A(e):new o(e)},A=o=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw g("Bad Promise constructor");t=e,n=r}),this.resolve=d(t),this.reject=d(n)},j=function(e){try{e()}catch(e){return{error:e}}},T=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,a=o?t.ok:t.fail,u=t.resolve,s=t.reject,c=t.domain;try{a?(o||(2==e._h&&M(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?s(g("Promise-chain cycle")):(i=S(n))?i.call(n,u,s):u(n)):s(r)}catch(e){s(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&D(e)})}},D=function(e){y.call(u,function(){var t,n,r,o=e._v;if(C(e)&&(t=j(function(){w?b.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=w||C(e)?2:1),e._a=void 0,t)throw t.error})},C=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!C(t.promise))return!1;return!0},M=function(e){y.call(u,function(){var t;w?b.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),T(t,!0))},I=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw g("Promise can't be resolved itself");(t=S(e))?m(function(){var r={_w:n,_d:!1};try{t.call(e,s(I,r,1),s(R,r,1))}catch(e){R.call(r,e)}}):(n._v=e,n._s=1,T(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};E||(_=function(e){h(this,_,"Promise","_h"),d(e),r.call(this);try{e(s(I,this,1),s(R,this,1))}catch(e){R.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(26)(_.prototype,{then:function(e,t){var n=O(v(this,_));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=w?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&T(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),A=function(){var e=new r;this.promise=e,this.resolve=s(I,e,1),this.reject=s(R,e,1)}),l(l.G+l.W+l.F*!E,{Promise:_}),n(43)(_,"Promise"),n(68)("Promise"),i=n(7).Promise,l(l.S+l.F*!E,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!E),"Promise",{resolve:function(e){if(e instanceof _&&x(e.constructor,this))return e;var t=O(this);return(0,t.resolve)(e),t.promise}}),l(l.S+l.F*!(E&&n(67)(function(e){_.all(e).catch(k)})),"Promise",{all:function(e){var t=this,n=O(t),r=n.resolve,o=n.reject,i=j(function(){var n=[],i=0,a=1;p(e,!1,function(e){var u=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},o)}),--a||r(n)});return i&&o(i.error),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,o=j(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},function(e,t,n){var r,o,i,a=n(21),u=n(97),s=n(54),c=n(15),l=n(6),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,v=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},g=function(e){m.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++v]=function(){u("function"==typeof e?e:Function(e),t)},r(v),v},h=function(e){delete y[e]},"process"==n(34)(f)?r=function(e){f.nextTick(a(m,e,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=g,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:d,clear:h}},function(e,t,n){var r=n(6),o=n(111).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(34)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(i){var l=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(u&&u.resolve){var d=u.resolve();n=function(){d.then(c)}}else n=function(){o.call(r,c)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){"use strict";var r=n(6),o=n(19),i=n(13),a=n(5),u=n(18),s=n(84).KEY,c=n(14),l=n(39),f=n(43),d=n(20),h=n(44),p=n(114),v=n(115),y=n(116),m=n(117),g=n(60),b=n(10),_=n(32),w=n(16),k=n(17),E=n(51),x=n(118),S=n(70),O=n(9),A=n(53),j=S.f,T=O.f,D=x.f,C=r.Symbol,M=r.JSON,R=M&&M.stringify,I=h("_hidden"),P=h("toPrimitive"),N={}.propertyIsEnumerable,F=l("symbol-registry"),z=l("symbols"),L=l("op-symbols"),q=Object.prototype,B="function"==typeof C,U=r.QObject,Y=!U||!U.prototype||!U.prototype.findChild,H=i&&c(function(){return 7!=E(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=j(q,t);r&&delete q[t],T(e,t,n),r&&e!==q&&T(q,t,r)}:T,$=function(e){var t=z[e]=E(C.prototype);return t._k=e,t},W=B&&"symbol"==typeof C.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof C},G=function(e,t,n){return e===q&&G(L,t,n),b(e),t=w(t,!0),b(n),o(z,t)?(n.enumerable?(o(e,I)&&e[I][t]&&(e[I][t]=!1),n=E(n,{enumerable:k(0,!1)})):(o(e,I)||T(e,I,k(1,{})),e[I][t]=!0),H(e,t,n)):T(e,t,n)},V=function(e,t){b(e);for(var n,r=m(t=_(t)),o=0,i=r.length;i>o;)G(e,n=r[o++],t[n]);return e},X=function(e,t){return void 0===t?E(e):V(E(e),t)},J=function(e){var t=N.call(this,e=w(e,!0));return!(this===q&&o(z,e)&&!o(L,e))&&(!(t||!o(this,e)||!o(z,e)||o(this,I)&&this[I][e])||t)},K=function(e,t){if(e=_(e),t=w(t,!0),e!==q||!o(z,t)||o(L,t)){var n=j(e,t);return!n||!o(z,t)||o(e,I)&&e[I][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=D(_(e)),r=[],i=0;n.length>i;)o(z,t=n[i++])||t==I||t==s||r.push(t);return r},Z=function(e){for(var t,n=e===q,r=D(n?L:_(e)),i=[],a=0;r.length>a;)!o(z,t=r[a++])||n&&!o(q,t)||i.push(z[t]);return i};B||(C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===q&&t.call(L,n),o(this,I)&&o(this[I],e)&&(this[I][e]=!1),H(this,e,k(1,n))};return i&&Y&&H(q,e,{configurable:!0,set:t}),$(e)},u(C.prototype,"toString",function(){return this._k}),S.f=K,O.f=G,n(30).f=x.f=Q,n(71).f=J,n(91).f=Z,i&&!n(25)&&u(q,"propertyIsEnumerable",J,!0),p.f=function(e){return $(h(e))}),a(a.G+a.W+a.F*!B,{Symbol:C});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ee=A(h.store),te=0;ee.length>te;)v(ee[te++]);a(a.S+a.F*!B,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=C(e)},keyFor:function(e){if(W(e))return y(F,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!B,"Object",{create:X,defineProperty:G,defineProperties:V,getOwnPropertyDescriptor:K,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),M&&a(a.S+a.F*(!B||c(function(){var e=C();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!W(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&g(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!W(t))return t}),r[1]=t,R.apply(M,r)}}}),C.prototype[P]||n(8)(C.prototype,P,C.prototype.valueOf),f(C,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){t.f=n(44)},function(e,t,n){var r=n(6),o=n(7),i=n(25),a=n(114),u=n(9).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(53),o=n(32);e.exports=function(e,t){for(var n,i=o(e),a=r(i),u=a.length,s=0;u>s;)if(i[n=a[s++]]===t)return n}},function(e,t,n){var r=n(53),o=n(91),i=n(71);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,u=n(e),s=i.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,n){var r=n(32),o=n(30).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?u(e):o(r(e))}},function(e,t,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(90)})},function(e,t,n){var r=n(5);r(r.S,"Object",{is:n(47)})},function(e,t,n){var r=n(5);r(r.S,"Object",{setPrototypeOf:n(87).set})},function(e,t,n){var r=n(9).f,o=n(17),i=n(19),a=Function.prototype,u=/^\s*function ([^ (]*)/,s=Object.isExtensible||function(){return!0};"name"in a||n(13)&&r(a,"name",{configurable:!0,get:function(){try{var e=this,t=(""+e).match(u)[1];return i(e,"name")||!s(e)||r(e,"name",o(5,t)),t}catch(e){return""}}})},function(e,t,n){var r=n(5),o=n(32),i=n(29);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],u=0;n>u;)a.push(String(t[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},function(e,t,n){var r=n(5),o=n(37),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(5),o=n(126)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){var r=n(28),o=n(35);e.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s),i<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536)}}},function(e,t,n){var r=n(5);r(r.P,"String",{repeat:n(128)})},function(e,t,n){"use strict";var r=n(28),o=n(35);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(5),o=n(29),i=n(130),a="".startsWith;r(r.P+r.F*n(132)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(131),o=n(35);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(11),o=n(34),i=n(44)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(44)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var r=n(5),o=n(29),i=n(130),a="".endsWith;r(r.P+r.F*n(132)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),u=void 0===n?r:Math.min(o(n),r),s=String(e);return a?a.call(t,s,u):t.slice(u-s.length,u)===s}})},function(e,t,n){"use strict";var r=n(5),o=n(130);r(r.P+r.F*n(132)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(13)&&"g"!=/./g.flags&&n(9).f(RegExp.prototype,"flags",{configurable:!0,get:n(136)})},function(e,t,n){"use strict";var r=n(10);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){n(138)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";var r=n(8),o=n(18),i=n(14),a=n(35),u=n(44);e.exports=function(e,t,n){var s=u(e),c=n(a,s,""[e]),l=c[0],f=c[1];i(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,l),r(RegExp.prototype,s,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){n(138)("replace",2,function(e,t,n){return[function(r,o){"use strict";var i=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},n]})},function(e,t,n){n(138)("split",2,function(e,t,r){"use strict";var o=n(131),i=r,a=[].push,u="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[u]||2!="ab".split(/(?:ab)*/)[u]||4!=".".split(/(.?)(.?)/)[u]||".".split(/()()/)[u]>1||"".split(/.?/)[u]){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!o(e))return i.call(n,e,t);var r,c,l,f,d,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,y=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,p+"g");for(s||(r=new RegExp("^"+m.source+"$(?!\\s)",p));(c=m.exec(n))&&!((l=c.index+c[0][u])>v&&(h.push(n.slice(v,c.index)),!s&&c[u]>1&&c[0].replace(r,function(){for(d=1;d<arguments[u]-2;d++)void 0===arguments[d]&&(c[d]=void 0)}),c[u]>1&&c.index<n[u]&&a.apply(h,c.slice(1)),f=c[0][u],v=l,h[u]>=y));)m.lastIndex===c.index&&m.lastIndex++;return v===n[u]?!f&&m.test("")||h.push(""):h.push(n.slice(v)),h[u]>y?h.slice(0,y):h}}else"0".split(void 0,0)[u]&&(r=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(n,o){var i=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i,o):r.call(String(i),n,o)},r]})},function(e,t,n){n(138)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";var r=n(21),o=n(5),i=n(42),a=n(83),u=n(49),s=n(29),c=n(143),l=n(56);o(o.S+o.F*!n(67)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=i(e),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,m=0,g=l(d);if(y&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==g||h==Array&&u(g))for(t=s(d.length),n=new h(t);t>m;m++)c(n,m,y?v(d[m],m):d[m]);else for(f=g.call(d),n=new h;!(o=f.next()).done;m++)c(n,m,y?a(f,v,[o.value,m],!0):o.value);return n.length=m,n}})},function(e,t,n){"use strict";var r=n(9),o=n(17);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){"use strict";var r=n(5),o=n(143);r(r.S+r.F*n(14)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){var r=n(5);r(r.P,"Array",{copyWithin:n(69)}),n(63)("copyWithin")},function(e,t,n){"use strict";var r=n(5),o=n(57)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(63)("find")},function(e,t,n){"use strict";var r=n(5),o=n(57)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(63)(i)},function(e,t,n){var r=n(5);r(r.P,"Array",{fill:n(41)}),n(63)("fill")},function(e,t,n){var r=n(5),o=n(6).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(5);r(r.S,"Number",{isInteger:n(151)})},function(e,t,n){var r=n(11),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t,n){var r=n(5),o=n(151),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(5);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(5);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(5);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(5);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(5),o=n(158),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var o=n(5),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(5),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(5),o=n(162);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var r=n(5);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(5),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(5),o=n(166);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(5),o=n(162),i=Math.pow,a=i(2,-52),u=i(2,-23),s=i(2,127)*(2-u),c=i(2,-126),l=function(e){return e+1/a-1/a};r(r.S,"Math",{fround:function(e){var t,n,r=Math.abs(e),i=o(e);return r<c?i*l(r/c/u)*c*u:(t=(1+u/a)*r,n=t-(t-r),n>s||n!=n?i*(1/0):i*n)}})},function(e,t,n){var r=n(5),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,u=arguments.length,s=0;a<u;)n=o(arguments[a++]),s<n?(r=s/n,i=i*r*r+1,s=n):n>0?(r=n/s,i+=r*r):i+=n;return s===1/0?1/0:s*Math.sqrt(i)}})},function(e,t,n){var r=n(5),o=Math.imul;r(r.S+r.F*n(14)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(5);r(r.S,"Math",{log1p:n(158)})},function(e,t,n){var r=n(5);r(r.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},function(e,t,n){var r=n(5);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(5);r(r.S,"Math",{sign:n(162)})},function(e,t,n){var r=n(5),o=n(166),i=Math.exp;r(r.S+r.F*n(14)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(5),o=n(166),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(5);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){"use strict";var r=n(5),o=n(36)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(63)("includes")},function(e,t,n){var r=n(5),o=n(179)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(53),o=n(32),i=n(71).f;e.exports=function(e){return function(t){for(var n,a=o(t),u=r(a),s=u.length,c=0,l=[];s>c;)i.call(a,n=u[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t,n){var r=n(5),o=n(179)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){var r=n(5),o=n(106),i=n(32),a=n(70),u=n(143);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n=i(e),r=a.f,s=o(n),c={},l=0;s.length>l;)u(c,t=s[l++],r(n,t));return c}})},function(e,t,n){"use strict";var r=n(5),o=n(183);r(r.P,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){var r=n(29),o=n(128),i=n(35);e.exports=function(e,t,n,a){var u=String(i(e)),s=u.length,c=void 0===n?" ":String(n),l=r(t);if(l<=s||""==c)return u;var f=l-s,d=o.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+u:u+d}},function(e,t,n){"use strict";var r=n(5),o=n(183);r(r.P,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){var r=n(6),o=n(5),i=n(97),a=n(186),u=r.navigator,s=!!u&&/MSIE .\./.test(u.userAgent),c=function(e){return s?function(t,n){return e(i(a,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),n)}:e};o(o.G+o.B+o.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(e,t,n){"use strict";var r=n(187),o=n(97),i=n(22);e.exports=function(){for(var e=i(this),t=arguments.length,n=Array(t),a=0,u=r._,s=!1;t>a;)(n[a]=arguments[a++])===u&&(s=!0);return function(){var r,i=this,a=arguments.length,c=0,l=0;if(!s&&!a)return o(e,n,i);if(r=n.slice(),s)for(;t>c;c++)r[c]===u&&(r[c]=arguments[l++]);for(;a>l;)r.push(arguments[l++]);return o(e,r,i)}}},function(e,t,n){e.exports=n(6)},function(e,t,n){var r=n(5),o=n(111);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){for(var r=n(62),o=n(18),i=n(6),a=n(8),u=n(50),s=n(44),c=s("iterator"),l=s("toStringTag"),f=u.Array,d=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],h=0;h<5;h++){var p,v=d[h],y=i[v],m=y&&y.prototype;if(m){m[c]||a(m,c,f),m[l]||a(m,l,v),u[v]=f;for(p in r)m[p]||o(m,p,r[p],!0)}}},function(e,t,n){(function(t,n){!function(t){"use strict";function r(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),u=new p(r||[]);return a._invoke=l(e,n,u),a}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function a(){}function u(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function t(n,r,i,a){var u=o(e[n],e,r);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&b.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}function r(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return i=i?i.then(r,r):r()}"object"==typeof n&&n.domain&&(t=n.domain.bind(t));var i;this._invoke=r}function l(e,t,n){var r=S;return function(i,a){if(r===A)throw new Error("Generator is already running");if(r===j){if("throw"===i)throw a;return y()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=f(u,n);if(s){if(s===T)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===S)throw r=j,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=A;var c=o(e,t,n);if("normal"===c.type){if(r=n.done?j:O,c.arg===T)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=j,n.method="throw",n.arg=c.arg)}}}function f(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,f(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var r=o(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,T;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,T):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function v(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(b.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return r.next=r}}return{next:y}}function y(){return{value:m,done:!0}}var m,g=Object.prototype,b=g.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},w=_.iterator||"@@iterator",k=_.toStringTag||"@@toStringTag",E="object"==typeof e,x=t.regeneratorRuntime;if(x)return void(E&&(e.exports=x));x=t.regeneratorRuntime=E?e.exports:{},x.wrap=r;var S="suspendedStart",O="suspendedYield",A="executing",j="completed",T={},D={};D[w]=function(){return this};var C=Object.getPrototypeOf,M=C&&C(C(v([])));M&&M!==g&&b.call(M,w)&&(D=M);var R=u.prototype=i.prototype=Object.create(D);a.prototype=R.constructor=u,u.constructor=a,u[k]=a.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(R),e},x.awrap=function(e){return{__await:e}},s(c.prototype),x.AsyncIterator=c,x.async=function(e,t,n,o){var i=new c(r(e,t,n,o));return x.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(R),R[k]="Generator",R.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},x.values=v,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),u=b.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,T):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;h(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:v(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),T}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}(),n(191))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&h&&(v=!1,h.length?p=h.concat(p):y=-1,p.length&&u())}function u(){if(!v){var e=o(a);v=!0;for(var t=p.length;t;){for(h=p,p=[];++y<t;)h&&h[y].run();y=-1,t=p.length}h=null,v=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],v=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||v||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){"use strict";function n(e){return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=e.apply(this,n);if(!r(i))return i;var a=n.length;if(0!==a&&"function"==typeof n[a-1]){var u=n[a-1];i.then(function(e){return u(null,e)},function(e){return u(e,null)})}}}function r(e){return!!e&&"function"==typeof e.then}function o(){return"undefined"==typeof navigator||navigator.onLine}function i(){return!o()}function a(e,t){return new Promise(function(n){setTimeout(n,e,t)})}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return function r(){for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return e.apply(void 0,i).catch(function(e){if(--t<0)throw e;return a(c(n,t)).then(function(){return r.apply(void 0,i)})})}}function s(e){return e*(1+(2*Math.random()-1)*p)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s(e*Math.pow(2,t-1))}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i="/data/";t||(i+=encodeURIComponent(n)+"/"),""!==r&&(i+=encodeURIComponent(r));var a=f(o);return""!==a&&(i+="?"+a),i}function f(e){if(!e)return"";var t="";for(var n in e)""!==t&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]);return t}function d(e){var t=e.indexOf("?");t<0&&(t=e.length);var n={},r=e.indexOf("#");if(r<0&&(r=e.length),r<t)return n;var o=e.slice(t+1,r);if(""===o)return n;for(var i=o.split("&"),a=0;a<i.length;a++){var u=i[a].split("=");if(0!==u.length&&""!==u[0]){var s=decodeURIComponent(u[0]);if(!n.hasOwnProperty(s))if(1===u.length)n[s]=!0;else{if(2!==u.length)throw new Error("Malformed URL");n[s]=decodeURIComponent(u[1])}}}return n}function h(e){-1===v.indexOf(e)&&(v.push(e),console.warn("cozy-client-js",e))}Object.defineProperty(t,"__esModule",{value:!0}),t.unpromiser=n,t.isPromise=r,t.isOnline=o,t.isOffline=i,t.sleep=a,t.retry=u,t.getFuzzedDelay=s,t.getBackedoffDelay=c,t.createPath=l,t.encodeQuery=f,t.decodeQuery=d,t.warn=h;var p=.3,v=[]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.LocalStorage=function(){function e(t,r){n(this,e),t||"undefined"==typeof window||(t=window.localStorage),this.storage=t,this.prefix=r||"cozy:oauth:"}return r(e,[{key:"save",value:function(e,t){var n=this;return new Promise(function(r){n.storage.setItem(n.prefix+e,JSON.stringify(t)),r(t)})}},{key:"load",value:function(e){var t=this;return new Promise(function(n){var r=t.storage.getItem(t.prefix+e);r?n(JSON.parse(r)):n()})}},{key:"delete",value:function(e){var t=this;return new Promise(function(n){return n(t.storage.removeItem(t.prefix+e))})}},{key:"clear",value:function(){var e=this;return new Promise(function(t){for(var n=e.storage,r=0;r<n.length;r++){var o=n.key(r);0===o.indexOf(e.prefix)&&n.removeItem(o)}t()})}}]),e}(),t.MemoryStorage=function(){function e(){n(this,e),this.hash=Object.create(null)}return r(e,[{key:"save",value:function(e,t){return this.hash[e]=t,Promise.resolve(t)}},{key:"load",value:function(e){return Promise.resolve(this.hash[e])}},{key:"delete",value:function(e){var t=delete this.hash[e];return Promise.resolve(t)}},{key:"clear",value:function(){return this.hash=Object.create(null),Promise.resolve()}}]),e}()},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return new Promise(function(e,t){if("undefined"==typeof window)return t(new Error("getV2Token should be used in browser"));if(!window.parent)return t(new Error("getV2Token should be used in iframe"));if(!window.parent.postMessage)return t(new Error("getV2Token should be used in modern browser"));var n=window.location.origin,r={action:"getToken"},o=null,u=function n(r){var i=void 0;try{i=new a({appName:r.data.appName,token:r.data.token})}catch(e){return void t(e)}window.removeEventListener("message",n),clearTimeout(o),e({client:null,token:i})};window.addEventListener("message",u,!1),window.parent.postMessage(r,n),o=setTimeout(function(){t(new Error("No response from parent iframe after 3s"))},i)})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getAppToken=r;var i=3e3,a=t.AppToken=function(){function e(t){n(this,e),this.appName=t.appName||"",this.token=t.token||""}return o(e,[{key:"toAuthHeader",value:function(){return"Basic "+btoa(this.appName+":"+this.token)}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return t||(t=e._clientParams),t instanceof x?t:new x(t)}function i(e,t){var n=o(e,t);return n.isRegistered()?Promise.reject(new Error("Client already registered")):(0,_.cozyFetchJSON)(e,"POST","/auth/register",n.toRegisterJSON(),{disableAuth:!0}).then(function(e){return new x(e)})}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=o(e,t);if(!r.isRegistered())return Promise.reject(new Error("Client not registered"));var i=r.toRegisterJSON();return i.client_id=r.clientID,n&&(i.client_secret=r.clientSecret),(0,_.cozyFetchJSON)(e,"PUT","/auth/register/"+r.clientID,i,{manualAuthCredentials:{token:r}}).then(function(e){return c(e,r)})}function u(e,t){var n=o(e,t);return n.isRegistered()?(0,_.cozyFetchJSON)(e,"DELETE","/auth/register/"+n.clientID,null,{manualAuthCredentials:{token:n}}):Promise.reject(new Error("Client not registered"))}function s(e,t){var n=o(e,t);return n.isRegistered()?(0,b.isOffline)()?Promise.resolve(n):(0,_.cozyFetchJSON)(e,"GET","/auth/register/"+n.clientID,null,{manualAuthCredentials:{token:n}}).then(function(e){return c(e,n)}).catch(function(e){if(_.FetchError.isUnauthorized(e)||_.FetchError.isNotFound(e))throw new Error("Client has been revoked");throw e}):Promise.reject(new Error("Client not registered"))}function c(e,t){var n=new x(e);return!!t&&""!==t.registrationAccessToken&&""===n.registrationAccessToken&&(n.registrationAccessToken=t.registrationAccessToken),n}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t instanceof x||(t=new x(t)),!t.isRegistered())throw new Error("Client not registered");var r=y(),o={client_id:t.clientID,redirect_uri:t.redirectURI,state:r,response_type:"code",scope:n.join(" ")};return{url:e._url+"/auth/authorize?"+(0,b.encodeQuery)(o),state:r}}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!n)return Promise.reject(new Error("Missing state value"));var o=v(r);return null===o?Promise.reject(new Error("Missing states from current URL")):n!==o.state?Promise.reject(new Error("Given state does not match url query state")):p(e,t,null,{grant_type:"authorization_code",code:o.code})}function d(e,t,n){return p(e,t,n,{grant_type:"refresh_token",refresh_token:n.refreshToken})}function h(e,t,n,r){function o(o){if(u++>0)throw o;return t.clear().then(function(){return h(e,t,n,r)})}function a(){return t.clear().then(function(){return i(e,n)}).then(function(r){var o=l(e,r,n.scopes),i=o.url,a=o.state;return t.save(E,{client:r,url:i,state:a})})}if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return t.clear().then(function(){return h(e,t,n,r,!1)});var u=0;return Promise.all([t.load(k),t.load(E)]).then(function(n){var i=m(n,2),u=i[0],c=i[1];if(u){var l=void 0,d=void 0;try{l=new x(u.client),d=new S(u.token)}catch(e){return o(e)}return s(e,l).then(function(e){return{client:e,token:d}}).catch(function(e){if(_.FetchError.isUnauthorized(e)||_.FetchError.isNotFound(e))throw new Error("Client has been revoked");return{client:l,token:d}})}var h=void 0;h=c?Promise.resolve(c):a();var p=void 0,v=void 0,y=void 0;return h.then(function(e){return p=e.client,v=e.state,Promise.resolve(r(p,e.url))}).then(function(t){return f(e,p,v,t)}).then(function(e){y=e}).then(function(){return t.delete(E)}).then(function(){return{client:p,token:y}})}).then(function(e){return t.save(k,e)},function(e){if(_.FetchError.isUnauthorized(e))return o(e);throw e})}function p(e,t,n,r){if(t instanceof x||(t=new x(t)),!t.isRegistered())return Promise.reject(new Error("Client not registered"));var o=(0,b.encodeQuery)(Object.assign({},r,{client_id:t.clientID,client_secret:t.clientSecret}));return(0,_.cozyFetchJSON)(e,"POST","/auth/access_token",o,{disableAuth:null===n,dontRetry:!0,manualAuthCredentials:{client:t,token:n},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e.refreshToken=e.refreshToken||r.refresh_token,new S(e)})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===e&&"undefined"!=typeof window&&(e=window.location.href);var t=(0,b.decodeQuery)(e);return t.hasOwnProperty("state")?{state:t.state,code:t.access_code}:null}function y(){var e=void 0;if("undefined"!=typeof window&&void 0!==window.crypto&&"function"==typeof window.crypto.getRandomValues)e=new Uint8Array(w),window.crypto.getRandomValues(e);else try{e=n(!function(){var e=new Error('Cannot find module "crypto"');throw e.code="MODULE_NOT_FOUND",e}()).randomBytes(w)}catch(e){}if(!e){e=new Array(w);for(var t=0;t<e.length;t++)e[t]=Math.floor(255*Math.random())}return btoa(String.fromCharCode.apply(null,e)).replace(/=+$/,"").replace(/\//g,"_").replace(/\+/g,"-")}Object.defineProperty(t,"__esModule",{value:!0}),t.AppToken=t.AccessToken=t.Client=t.StateKey=t.CredsKey=void 0;var m=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.client=o,t.registerClient=i,t.updateClient=a,t.unregisterClient=u,t.getClient=s,t.getAuthCodeURL=l,t.getAccessToken=f,t.refreshToken=d,t.oauthFlow=h;var b=n(192),_=n(196),w=16,k=t.CredsKey="creds",E=t.StateKey="state",x=t.Client=function(){function e(t){if(r(this,e),this.clientID=t.clientID||t.client_id||"",this.clientSecret=t.clientSecret||t.client_secret||"",this.registrationAccessToken=t.registrationAccessToken||t.registration_access_token||"",t.redirect_uris?this.redirectURI=t.redirect_uris[0]||"":this.redirectURI=t.redirectURI||"",this.softwareID=t.softwareID||t.software_id||"",this.softwareVersion=t.softwareVersion||t.software_version||"",this.clientName=t.clientName||t.client_name||"",this.clientKind=t.clientKind||t.client_kind||"",this.clientURI=t.clientURI||t.client_uri||"",this.logoURI=t.logoURI||t.logo_uri||"",this.policyURI=t.policyURI||t.policy_uri||"",!this.registrationAccessToken){if(""===this.redirectURI)throw new Error("Missing redirectURI field");if(""===this.softwareID)throw new Error("Missing softwareID field");if(""===this.clientName)throw new Error("Missing clientName field")}}return g(e,[{key:"isRegistered",value:function(){return""!==this.clientID}},{key:"toRegisterJSON",value:function(){return{redirect_uris:[this.redirectURI],software_id:this.softwareID,software_version:this.softwareVersion,client_name:this.clientName,client_kind:this.clientKind,client_uri:this.clientURI,logo_uri:this.logoURI,policy_uri:this.policyURI}}},{key:"toAuthHeader",value:function(){return"Bearer "+this.registrationAccessToken}}]),e}(),S=t.AccessToken=function(){function e(t){r(this,e),this.tokenType=t.tokenType||t.token_type,this.accessToken=t.accessToken||t.access_token,this.refreshToken=t.refreshToken||t.refresh_token,this.scope=t.scope}return g(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:"+this.accessToken+"@"}}]),e}();t.AppToken=function(){function e(t){r(this,e),this.token=t.token||""}return g(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.token}},{key:"toBasicAuth",value:function(){return"user:"+this.token+"@"}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fullpath(t).then(function(t){var r=void 0;return r=n.disableAuth?fetch(t,n):n.manualAuthCredentials?u(e,t,n,n.manualAuthCredentials):e.authorize().then(function(r){return u(e,t,n,r)}),r.then(f)})}function u(e,t,n,r){return r&&(n.headers=n.headers||{},n.headers.Authorization=r.token.toAuthHeader()),n.credentials="include",Promise.all([e.isV2(),fetch(t,n)]).then(function(o){var i=h(o,2),a=i[0],s=i[1];if(400!==s.status&&401!==s.status||a||!r||n.dontRetry)return s;var c=r.client,l=r.token;return c&&l instanceof p.AccessToken?(n.dontRetry=!0,(0,v.retry)(function(){return(0,p.refreshToken)(e,c,l)},3)().then(function(t){return e.saveCredentials(c,t)}).then(function(r){return u(e,t,n,r)})):s})}function s(e,t,n,r){return l(e,t,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).then(d)}function c(e,t,n,r){return l(e,t,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).then(function(e){return d(e,!1)})}function l(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o.method=t;var i=o.headers=o.headers||{};return i.Accept="application/json","GET"!==t&&"HEAD"!==t&&void 0!==r&&(i["Content-Type"]?o.body=r:(i["Content-Type"]="application/json",o.body=JSON.stringify(r))),a(e,n,o)}function f(e){if(e.ok)return e;var t=void 0,n=e.headers.get("content-type");return t=n&&n.indexOf("json")>=0?e.json():e.text(),t.then(function(t){throw new g(e,t)})}function d(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.headers.get("content-type");if(!n||n.indexOf("json")<0)return e.text(function(t){throw new g(e,new Error("Response is not JSON: "+t))});var r=e.json();return 0===n.indexOf("application/vnd.api+json")&&t?r.then(m.default):r}Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=void 0;var h=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.cozyFetch=a,t.cozyFetchJSON=s,t.cozyFetchRawJSON=c;var p=n(195),v=n(192),y=n(197),m=function(e){return e&&e.__esModule?e:{default:e}}(y),g=t.FetchError=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i.name="FetchError",i.response=e,i.url=e.url,i.status=e.status,i.reason=n,Object.defineProperty(i,"message",{value:n.message||("string"==typeof n?n:JSON.stringify(n))}),i}return i(t,e),t}(Error);g.isUnauthorized=function(e){return"FetchError"===e.name&&401===e.status},g.isNotFound=function(e){return"FetchError"===e.name&&404===e.status}},function(e,t){"use strict";function n(e){return e.type+"/"+e.id}function r(e,t){return e[n(t)]}function o(e,t,o){var i={_id:e.id,_type:e.type,_rev:e.meta&&e.meta.rev,links:Object.assign({},e.links,o),attributes:e.attributes,relations:function(n){var o=e.relationships[n];if(void 0!==o&&void 0!==o.data)return null===o.data?null:Array.isArray(o.data)?o.data.map(function(e){return r(t,e)}):r(t,o.data)}};return e.relationships&&(i.relationships=e.relationships),t[n(e)]=i,i}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.included;return Array.isArray(n)&&n.forEach(function(n){return o(n,t,e.links)}),Array.isArray(e.data)?e.data.map(function(n){return o(n,t,e.links)}):o(e.data,t,e.links)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function r(e,t,n){return e.isV2().then(function(r){t=(0,d.normalizeDoctype)(e,r,t),r&&(n.docType=t);var i=(0,f.createPath)(e,r,t,n._id),a=n._id?"PUT":"POST";return delete n._id,(0,h.cozyFetchJSON)(e,a,i,n).then(function(n){return r?o(e,t,n._id):n.data})})}function o(e,t,n){return e.isV2().then(function(r){if(t=(0,d.normalizeDoctype)(e,r,t),!n)return Promise.reject(new Error("Missing id parameter"));var o=(0,f.createPath)(e,r,t,n);return(0,h.cozyFetchJSON)(e,"GET",o).then(function(e){return r?Object.assign(e,{_rev:p}):e})})}function i(e,t,n){return n instanceof Array?0===n.length?Promise.resolve({}):e.isV2().then(function(r){if(r)return Promise.reject(new Error("findMany is not available on v2"));var o=(0,f.createPath)(e,r,t,"_all_docs",{include_docs:!0});return(0,h.cozyFetchJSON)(e,"POST",o,{keys:n}).then(function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e.rows[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=u.key,c=u.doc,l=u.error;t[s]=l?{error:l}:{doc:c}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}).catch(function(e){if(404!==e.status)return Promise.reject(e);var t={},r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){t[a.value]={error:e}}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return t})}):Promise.reject(new Error("Parameter ids must be a non-empty array"))}function a(e,t){return e.isV2().then(function(n){if(n)return Promise.reject(new Error("findAll is not available on v2"));var r=(0,f.createPath)(e,n,t,"_all_docs",{include_docs:!0});return(0,h.cozyFetchJSON)(e,"POST",r,{}).then(function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e.rows[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=u.doc;s._id.match(/_design\//)||t.push(s)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}).catch(function(e){if(404===e.status)return[];throw e})})}function u(e,t,n){return e.isV2().then(function(r){t=(0,d.normalizeDoctype)(e,r,t);var o=(0,f.createPath)(e,r,t,"_changes",n);return(0,h.cozyFetchJSON)(e,"GET",o)})}function s(e,t,n,r){return e.isV2().then(function(i){t=(0,d.normalizeDoctype)(e,i,t);var a=n._id,u=n._rev;if(!a)return Promise.reject(new Error("Missing _id field in passed document"));if(!i&&!u)return Promise.reject(new Error("Missing _rev field in passed document"));r=i?Object.assign({_id:a},r):Object.assign({_id:a,_rev:u},r);var s=(0,f.createPath)(e,i,t,a);return(0,h.cozyFetchJSON)(e,"PUT",s,r).then(function(n){return i?o(e,t,a):n.data})})}function c(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;return e.isV2().then(function(a){return t=(0,d.normalizeDoctype)(e,a,t),o(e,t,n).then(function(o){return s(e,t,o,Object.assign({_id:n},o,r))}).catch(function(o){if(i>0)return c(e,t,n,r,i-1);throw o})})}function l(e,t,n){return e.isV2().then(function(r){t=(0,d.normalizeDoctype)(e,r,t);var o=n._id,i=n._rev;if(!o)return Promise.reject(new Error("Missing _id field in passed document"));if(!r&&!i)return Promise.reject(new Error("Missing _rev field in passed document"));var a=r?null:{rev:i},u=(0,f.createPath)(e,r,t,o,a);return(0,h.cozyFetchJSON)(e,"DELETE",u).then(function(e){return r?{id:o,rev:p}:e})})}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.find=o,t.findMany=i,t.findAll=a,t.changesFeed=u,t.update=s,t.updateAttributes=c,t._delete=l;var f=n(192),d=n(199),h=n(196),p="stack-v2-no-rev"},function(e,t,n){"use strict";function r(e,t,n){var r=-1!==n.indexOf(".");if(t&&r){var i=u[n];return i||n.replace(/\./g,"-")}if(!t&&!r){var s=a[n];if(s)return(0,o.warn)("you are using a non-qualified doctype "+n+" assumed to be "+s),s;throw new Error("Doctype "+n+" should be qualified.")}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.DOCTYPE_FILES=void 0,t.normalizeDoctype=r;var o=n(192),i=t.DOCTYPE_FILES="io.cozy.files",a={files:i,folder:i,contact:"io.cozy.contacts",event:"io.cozy.events",track:"io.cozy.labs.music.track",playlist:"io.cozy.labs.music.playlist"},u={};Object.keys(a).forEach(function(e){u[a[e]]=e})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){return e.isV2().then(function(r){if(t=(0,w.normalizeDoctype)(e,r,t),!Array.isArray(n)||0===n.length)throw new Error("defineIndex fields should be a non-empty array");return r?u(e,t,n):s(e,t,n)})}function i(e,t,n){return e.isV2().then(function(r){if(!t)throw new Error("query should be passed the indexRef");return r?c(e,t,n):l(e,t,n)})}function a(e,t,n){var r=f(t,n);return(0,k.cozyFetchRawJSON)(e,"POST","/files/_find",r).then(function(e){return n.wholeResponse?e:e.docs})}function u(e,t,n){var r="by"+n.map(d).join(""),o={map:h(t,n),reduce:"_count"},i="/request/"+t+"/"+r+"/";return(0,k.cozyFetchJSON)(e,"PUT",i,o).then(function(){return{doctype:t,type:"mapreduce",name:r,fields:n}})}function s(e,t,n){var r=(0,_.createPath)(e,!1,t,"_index"),o={index:{fields:n}};return(0,k.cozyFetchJSON)(e,"POST",r,o).then(function(r){var o={doctype:t,type:"mango",name:r.id,fields:n};if("exists"===r.result)return o;var i={};i[n[0]]={$gt:null};var a=f(o,{selector:i}),u=(0,_.createPath)(e,!1,o.doctype,"_find");return(0,k.cozyFetchJSON)(e,"POST",u,a).then(function(){return o}).catch(function(){return(0,_.sleep)(1e3).then(function(){return(0,k.cozyFetchJSON)(e,"POST",u,a)}).then(function(){return o}).catch(function(){return(0,_.sleep)(500).then(function(){return o})})})})}function c(e,t,n){if("mapreduce"!==t.type)throw new Error("query indexRef should be the return value of defineIndexV2");n.fields&&(0,_.warn)("query fields will be ignored on v2");var r="/request/"+t.doctype+"/"+t.name+"/",o=m(t,n);return(0,k.cozyFetchJSON)(e,"POST",r,o).then(function(e){return e.map(function(e){return e.value})})}function l(e,t,n){var r=f(t,n),o=(0,_.createPath)(e,!1,t.doctype,"_find");return(0,k.cozyFetchJSON)(e,"POST",o,r).then(function(e){return n.wholeResponse?e:e.docs})}function f(e,t){if("mango"!==e.type)throw new Error("indexRef should be the return value of defineIndexV3");var n={use_index:e.name,fields:t.fields,selector:t.selector,limit:t.limit,skip:t.skip,since:t.since,sort:t.sort};return t.descending&&(n.sort=e.fields.map(function(e){return r({},e,"desc")})),n}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(e,t){return t="["+t.map(function(e){return"doc."+e}).join(",")+"]",S.replace("DOCTYPEPLACEHOLDER",e.toLowerCase()).replace("FIELDSPLACEHOLDER",t)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$eq";if("object"!==(void 0===e?"undefined":b(e)))return[[t,n,e]];var r=Object.keys(e);if(0===r.length)throw new Error("empty selector");return r.reduce(function(n,r){if(-1!==x.indexOf(r))throw new Error("cozy-client-js does not support mango logic ops");return-1!==E.indexOf(r)?n.concat(p(e[r],t,r)):n.concat(p(e[r],t.concat(r),"$eq"))},[])}function v(e){return p(e).reduce(function(e,t){var n=g(t,3),r=n[0],o=n[1],i=n[2],a=r.join(".");return e[a]=e[a]||{},e[a][o]=i,e},{})}function y(e,t){var n=e.$eq,r=A,o=O,i=void 0;if(n)return t.startkey.push(n),t.endkey.push(n),!1;if(n=e.$gt)throw new Error("operator $gt (strict greater than) not supported");return n=e.$gte,n&&(r=n),n=e.$lte,n&&(o=n,i=!0),n=e.$lt,n&&(o=n,i=!1),t.startkey.push(r),t.endkey.push(o),void 0!==i&&(t.inclusive_end=i),!0}function m(e,t){var n={startkey:[],endkey:[],reduce:!1},r=null,o=v(t.selector);return e.fields.forEach(function(e){var t=o[e];if(t&&null!=r)throw new Error("Selector on field "+e+", but not on "+r+" which is higher in index fields.");if(t){t.used=!0;y(t,n)&&(r=e)}else null==r&&(r=e,n.endkey.push(O))}),Object.keys(o).forEach(function(e){if(!o[e].used)throw new Error("Cant apply selector on "+e+", it is not in index")}),t.descending&&(n={descending:!0,reduce:!1,startkey:n.endkey,endkey:n.startkey,inclusive_end:n.inclusive_end}),n}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.defineIndex=o,t.query=i,t.queryFiles=a,t.parseSelector=p,t.normalizeSelector=v,t.makeMapReduceQuery=m;var _=n(192),w=n(199),k=n(196),E=["$eq","$gt","$gte","$lt","$lte"],x=["$or","$and","$not"],S=function(e){"DOCTYPEPLACEHOLDER"===e.docType.toLowerCase()&&emit(FIELDSPLACEHOLDER,e)}.toString().replace(/ /g,"").replace(/\n/g,""),O={"￿":"￿"},A=null},function(e,t,n){"use strict";function r(e,t,n,r,o){if(!t)throw new Error("missing data argument");t.buffer&&t.buffer instanceof ArrayBuffer&&(t=t.buffer);var i="undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer,a="undefined"!=typeof File&&t instanceof File,u="undefined"!=typeof Blob&&t instanceof Blob,s=!0===t.readable&&"function"==typeof t.pipe,c="string"==typeof t;if(!(i||a||u||s||c))throw new Error("invalid data type");var l=o||{},f=l.contentType,d=l.checksum,h=l.lastModifiedDate,p=l.ifMatch;return f||(i?f=q:a?(f=t.type||q,h||(h=t.lastModifiedDate)):u?f=t.type||q:s?f=q:"string"==typeof t&&(f="text/plain")),h&&"string"==typeof h&&(h=new Date(h)),(0,I.cozyFetch)(e,r,{method:n,headers:{"Content-Type":f,"Content-MD5":d||"",Date:h?h.toGMTString():"","If-Match":p||""},body:t}).then(function(e){var t=e.json();return e.ok?t.then(N.default):t.then(function(e){throw e})})}function o(e,t,n){var o=n||{},i=o.name,a=o.dirID,u=o.executable;if(i||"string"!=typeof t.name||(i=t.name),"string"!=typeof i||""===i)throw new Error("missing name argument");return void 0===u&&(u=!1),r(e,t,"POST","/files/"+encodeURIComponent(a||"")+"?Name="+encodeURIComponent(i)+"&Type=file&Executable="+u,n)}function i(e,t){var n=t||{},r=n.name,o=n.dirID,i=n.lastModifiedDate;if("string"!=typeof r||""===r)throw new Error("missing name argument");i&&"string"==typeof i&&(i=new Date(i));var a="/files/"+encodeURIComponent(o||""),u="?Name="+encodeURIComponent(r)+"&Type=directory";return(0,I.cozyFetchJSON)(e,"POST",""+a+u,void 0,{headers:{Date:i?i.toGMTString():""}})}function a(e,t,n){if(n&&!n.attributes)throw new Error("Malformed parent directory");var r=(n._id===z?"":n.attributes.path)+"/"+t;return e.files.statByPath(r||"/").catch(function(r){var o=JSON.parse(r.message),i=o.errors;if(i&&i.length&&"404"===i[0].status)return e.files.createDirectory({name:t,dirID:n&&n._id});throw i})}function u(e,t){var n=t.split("/").filter(function(e){return""!==e}),r=e.files.statById(z);return n.length?n.reduce(function(t,n){return t.then(function(t){return a(e,n,t)})},r):r}function s(e,t,n,o){return r(e,n,"PUT","/files/"+encodeURIComponent(t),o)}function c(e,t,n,r){if(!t||"object"!==(void 0===t?"undefined":R(t)))throw new Error("missing attrs argument");var o=r||{},i=o.ifMatch,a={data:{attributes:t}};return(0,I.cozyFetchJSON)(e,"PATCH",n,a,{headers:{"If-Match":i||""}})}function l(e,t,n,r){return c(e,n,"/files/"+encodeURIComponent(t),r)}function f(e,t,n,r){return c(e,n,"/files/metadata?Path="+encodeURIComponent(t),r)}function d(e,t,n){if("string"!=typeof t||""===t)throw new Error("missing id argument");var r=n||{},o=r.ifMatch;return(0,I.cozyFetchJSON)(e,"DELETE","/files/"+encodeURIComponent(t),void 0,{headers:{"If-Match":o||""}})}function h(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n&&e.offline.hasDatabase(F.DOCTYPE_FILES)){var o=e.offline.getDatabase(F.DOCTYPE_FILES);return Promise.all([o.get(t),o.find(Object.assign({selector:{dir_id:t}},r))]).then(function(n){var r=M(n,2),o=r[0],i=r[1];return t===z&&(i.docs=i.docs.filter(function(e){return e._id!==L})),i=C(i.docs.map(function(t){return j(D(e,t))})),j(D(e,o,i))})}var i=0===Object.keys(r).length?"":"?"+T(r);return(0,I.cozyFetchJSON)(e,"GET","/files/"+encodeURIComponent(t)+i).then(j)}function p(e,t){return(0,I.cozyFetchJSON)(e,"GET","/files/metadata?Path="+encodeURIComponent(t)).then(j)}function v(e,t){return(0,I.cozyFetch)(e,"/files/download/"+encodeURIComponent(t))}function y(e,t){return(0,I.cozyFetch)(e,"/files/download?Path="+encodeURIComponent(t))}function m(e){var t=e.links&&e.links.related;if(!t)throw new Error("No related link in server response");return t}function g(e,t){return(0,I.cozyFetchJSON)(e,"POST","/files/downloads?Path="+encodeURIComponent(t)).then(m)}function b(e,t){return(0,I.cozyFetchJSON)(e,"POST","/files/downloads?Id="+encodeURIComponent(t)).then(m)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(!n||!n.attributes)throw Error("Folder should be valid with an attributes.path property");return""+(n.attributes.path.endsWith("/")?n.attributes.path:n.attributes.path+"/")+t.name}function w(e,t,n){return t?(0,I.cozyFetchJSON)(e,"POST","/permissions?codes=email",{data:{type:"io.cozy.permissions",attributes:{permissions:{files:{type:"io.cozy.files",verbs:["GET"],values:[t],selector:"referenced_by"},collection:{type:n,verbs:["GET"],values:[t]}}}}}).then(function(e){return{sharecode:"sharecode="+e.attributes.codes.email,id:"id="+t}}):Promise.reject(Error("An id should be provided to create a share link"))}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"files",r={type:"io.cozy.archives",attributes:{name:n,files:t}};return(0,I.cozyFetchJSON)(e,"POST","/files/archive",{data:r}).then(m)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"files",r={type:"io.cozy.archives",attributes:{name:n,ids:t}};return(0,I.cozyFetchJSON)(e,"POST","/files/archive",{data:r}).then(m)}function x(e){return(0,I.cozyFetchJSON)(e,"GET","/files/trash")}function S(e){return(0,I.cozyFetchJSON)(e,"DELETE","/files/trash")}function O(e,t){return(0,I.cozyFetchJSON)(e,"POST","/files/trash/"+encodeURIComponent(t))}function A(e,t,n){var r=n||{},o=r.ifMatch;return(0,I.cozyFetchJSON)(e,"DELETE","/files/trash/"+encodeURIComponent(t),void 0,{headers:{"If-Match":o||""}})}function j(e){return e.isDir="directory"===e.attributes.type,e}function T(e){var t=[];for(var n in e)t.push("page["+encodeURIComponent(n)+"]="+encodeURIComponent(e[n]));return t.join("&")}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=JSON.parse(JSON.stringify(t));return delete r._id,delete r._rev,{_id:t._id,_rev:t._rev,_type:F.DOCTYPE_FILES,attributes:r,relationships:{contents:{data:n,meta:{count:n.length}}},relations:function(e){if("contents"===e)return n}}}function C(e){var t=e.filter(function(e){return"directory"===e.attributes.type}),n=e.filter(function(e){return"directory"!==e.attributes.type}),r=function(e){return e.sort(function(e,t){return e.attributes.name.localeCompare(t.attributes.name)})};return r(t).concat(r(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.TRASH_DIR_ID=t.ROOT_DIR_ID=void 0;var M=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.create=o,t.createDirectory=i,t.createDirectoryByPath=u,t.updateById=s,t.updateAttributesById=l,t.updateAttributesByPath=f,t.trashById=d,t.statById=h,t.statByPath=p,t.downloadById=v,t.downloadByPath=y,t.getDownloadLinkByPath=g,t.getDownloadLinkById=b,t.getFilePath=_,t.getCollectionShareLink=w,t.getArchiveLinkByPaths=k,t.getArchiveLinkByIds=E,t.listTrash=x,t.clearTrash=S,t.restoreById=O,t.destroyById=A;var I=n(196),P=n(197),N=function(e){return e&&e.__esModule?e:{default:e}}(P),F=n(199),z=t.ROOT_DIR_ID="io.cozy.files.root-dir",L=t.TRASH_DIR_ID="io.cozy.files.trash-dir",q="application/octet-stream"},function(e,t,n){"use strict";function r(e,t,n,r,o){var i=t.ownerDocument;if(!i)throw new Error("Cannot retrieve document object from given element");var a=i.defaultView;if(!a)throw new Error("Cannot retrieve window object from document");var u=i.createElement("iframe");"function"==typeof o&&(u.onload=o),u.setAttribute("src",e),u.classList.add(s),t.appendChild(u),u.focus();var l=e.split("/",3).join("/");return new Promise(function(e,o){var i=!1,s=function s(f){if(f.origin===l){if("load"===f.data.type)return void(console.warn&&console.warn("Cozy Client ignored MessageEvent having data.type `load`."));if(f.data.type==="intent-"+n._id+":ready")return i=!0,f.source.postMessage(r,f.origin);if(i&&f.data.type==="intent-"+n._id+":resize")return["width","height","maxWidth","maxHeight"].forEach(function(e){f.data.transition&&(t.style.transition=f.data.transition),f.data.dimensions[e]&&(t.style[e]=f.data.dimensions[e]+"px")}),!0;a.removeEventListener("message",s);var d=function(){u.parentNode&&u.parentNode.removeChild(u)};return i&&f.data.type==="intent-"+n._id+":exposeFrameRemoval"?e({removeIntentFrame:d,doc:f.data.document}):(d(),f.data.type==="intent-"+n._id+":error"?o(c.deserialize(f.data.error)):i&&f.data.type==="intent-"+n._id+":cancel"?e(null):i&&f.data.type==="intent-"+n._id+":done"?e(f.data.document):i?void 0:o(new Error("Unexpected handshake message from intent service")))}};a.addEventListener("message",s)})}function o(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!t)throw new Error('Misformed intent, "action" property must be provided');if(!n)throw new Error('Misformed intent, "type" property must be provided');var a=(0,u.cozyFetchJSON)(e,"POST","/intents",{data:{type:"io.cozy.intents",attributes:{action:t,type:n,data:o,permissions:i}}});return a.start=function(e,t){return a.then(function(n){var i=n.attributes.services&&n.attributes.services[0];return i?r(i.href,e,n,o,t):Promise.reject(new Error("Unable to find a service"))})},a}function i(e,t){return new Promise(function(n,r){var o=function r(o){o.origin===e.attributes.client&&(t.removeEventListener("message",r),n(o.data))};t.addEventListener("message",o),t.parent.postMessage({type:"intent-"+e._id+":ready"},e.attributes.client)})}function a(e,t,n){if(!(n=n||"undefined"!=typeof window&&window))throw new Error("Intent service should be used in browser");if(!(t=t||n.location.search.split("=")[1]))throw new Error("Cannot retrieve intent from URL");return(0,u.cozyFetchJSON)(e,"GET","/intents/"+t).then(function(e){var t=!1,r=function(r){if(t)throw new Error("Intent service has already been terminated");t=!0,n.parent.postMessage(r,e.attributes.client)},o=function(r,o){if(t)throw new Error("Intent service has been terminated");var i={type:"intent-"+e._id+":resize",dimensions:r.element?Object.assign({},r,{maxHeight:r.element.clientHeight,maxWidth:r.element.clientWidth}):r,transition:o};n.parent.postMessage(i,e.attributes.client)},a=function(){r({type:"intent-"+e._id+":cancel"})};return n.addEventListener("unload",function(){t||a()}),i(e,n).then(function(t){return{getData:function(){return t},getIntent:function(){return e},terminate:function(n){return r(t&&t.exposeIntentFrameRemoval?{type:"intent-"+e._id+":exposeFrameRemoval",document:n}:{type:"intent-"+e._id+":done",document:n})},throw:function(t){return r({type:"intent-"+e._id+":error",error:c.serialize(t)})},resizeClient:o,cancel:a}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.create=o,t.createService=a;var u=n(196),s="coz-intent",c=function(){function e(e,t){var n=Object.assign(t,e);return["name","message"].reduce(function(n,r){return e[r]&&(t[r]=e[r]),n},n)}return{serialize:function(t){return e(t,{})},deserialize:function(t){return e(t,new Error(t.message))}}}()},function(e,t,n){"use strict";function r(e,t){return(0,a.cozyFetchJSON)(e,"GET","/jobs/queue/"+t).then(function(e){return e.length})}function o(e,t){return(0,a.cozyFetchJSON)(e,"GET","/jobs/queue/"+t)}function i(e,t,n,r){return(0,a.cozyFetchJSON)(e,"POST","/jobs/queue/"+t,{data:{type:"io.cozy.jobs",attributes:{arguments:n||{},options:r||{}}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.count=r,t.queued=o,t.create=i;var a=n(196)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.options,r=void 0===n?{}:n,o=t.doctypes,i=void 0===o?[]:o,a=!0,u=!1,s=void 0;try{for(var c,f=i[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){l(e,c.value,r)}}catch(e){u=!0,s=e}finally{try{!a&&f.return&&f.return()}finally{if(u)throw s}}}function i(e,t){return e._offline=e._offline||[],e._offline[t]=e._offline[t]||{},e._offline[t]}function a(e){return e._offline=e._offline||[],Object.keys(e._offline)}function u(e,t){return void 0!==s(e,t)}function s(e,t){return i(e,t).database}function c(e,t,n){return e._offline[t].database=n,s(e,t)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return F||(R.default.plugin(P.default),"undefined"!=typeof pouchdbAdapterCordovaSqlite&&R.default.plugin(pouchdbAdapterCordovaSqlite),F=!0),u(e,t)?Promise.resolve(s(e,t)):(c(e,t,new R.default(t,n)),h(e,t).then(function(){return s(e,t)}))}function f(e,t){return u(e,t)?A(e,t).then(function(){return w(e,t)}).then(function(){return s(e,t).destroy()}).then(function(n){return c(e,t,void 0),n}):Promise.resolve(!1)}function d(e){var t=a(e),n=function(t){return f(e,t)};return Promise.all(t.map(n))}function h(e,t){return t===T.DOCTYPE_FILES?s(e,t).createIndex({index:{fields:["dir_id"]}}):Promise.resolve()}function p(e,t){return void 0!==v(e,t)}function v(e,t){return i(e,t).replication}function y(e,t,n){return e._offline[t].replication=n,v(e,t)}function m(e,t){return e.authorize().then(function(n){var r=n.token.toBasicAuth();return(e._url+"/data/"+t).replace("//","//"+r)})}function g(e,t){return i(e,t).replicationPromise}function b(e,t,n){return e._offline[t].replicationPromise=n,g(e,t)}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b(e,t,new Promise(function(r,o){return u(e,t)||l(e,t),!0===n.live?o(new Error("You can't use `live` option with Cozy couchdb.")):(0,C.isOffline)()?(o(N),void(n.onError&&n.onError(N))):void m(e,t).then(function(i){return y(e,t,s(e,t).replicate.from(i,n).on("complete",function(o){y(e,t,void 0),r(o),n.onComplete&&n.onComplete(o)}).on("error",function(r){"code=400, message=Expired token"===r.error?e.authorize().then(function(r){var o=r.client,i=r.token;(0,D.refreshToken)(e,o,i).then(function(t){return e.saveCredentials(o,t)}).then(function(r){return _(e,t,n)})}):(console.warn("ReplicateFromCozy '"+t+"' Error:"),console.warn(r),y(e,t,void 0),o(r),n.onError&&n.onError(r))}))})}))}function w(e,t){return s(e,t)&&p(e,t)?new Promise(function(n){try{g(e,t).then(function(){n()}),v(e,t).cancel()}catch(e){n()}}):Promise.resolve()}function k(e){var t=a(e),n=function(t){return w(e,t)};return Promise.all(t.map(n))}function E(e,t){return i(e,t).interval}function x(e,t,n){e._offline[t].interval=n}function S(e,t){return void 0!==E(e,t)}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return S(e,t)?E(e,t):x(e,t,setInterval(function(){if((0,C.isOffline)())return void console.info(N);p(e,t)||_(e,t,r)},1e3*n))}function A(e,t){return S(e,t)&&(clearInterval(E(e,t)),x(e,t,void 0)),p(e,t)?w(e,t):Promise.resolve()}function j(e){var t=a(e),n=function(t){return A(e,t)};return Promise.all(t.map(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.replicationOfflineError=void 0,t.init=o,t.getDoctypes=a,t.hasDatabase=u,t.getDatabase=s,t.setDatabase=c,t.createDatabase=l,t.destroyDatabase=f,t.destroyAllDatabase=d,t.hasReplication=p,t.replicateFromCozy=_,t.stopReplication=w,t.stopAllReplication=k,t.hasRepeatedReplication=S,t.startRepeatedReplication=O,t.stopRepeatedReplication=A,t.stopAllRepeatedReplication=j;var T=n(199),D=n(195),C=n(192),M=n(205),R=r(M),I=n(217),P=r(I),N=t.replicationOfflineError="Replication abort, your device is actually offline.",F=!1},function(e,t,n){(function(t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function i(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function a(e){if(e instanceof ArrayBuffer)return i(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function u(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Qr.call(n)==Zr}function s(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=s(e[n]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return a(e);if(!u(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=s(e[n]);void 0!==i&&(t[n]=i)}return t}function c(e){var t=!1;return Yr(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function l(e){return Yr(function(t){t=s(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),o=new Kr(function(r,o){var i;try{var a=c(function(e,t){e?o(e):r(t)});t.push(a),i=e.apply(n,t),i&&"function"==typeof i.then&&r(i)}catch(e){o(e)}});return r&&o.then(function(e){r(null,e)},r),o})}function f(e,t){function n(e,t,n){if(eo.enabled){for(var r=[e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);eo.apply(null,r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=[e.name,t];o=o.concat(n?["error",n]:["success",r]),eo.apply(null,o),i(n,r)}}}return l(Yr(function(r){if(this._closed)return Kr.reject(new Error("database is closed"));if(this._destroyed)return Kr.reject(new Error("database is destroyed"));var o=this;return n(o,e,r),this.taskqueue.isReady?t.apply(this,r):new Kr(function(t,n){o.taskqueue.addTask(function(i){i?n(i):t(o[e].apply(o,r))})})}))}function d(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function h(e){return"$"+e}function p(e){return e.substring(1)}function v(){this._store={}}function y(e){if(this._store=new v,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function m(e){return e}function g(e){return[{ok:e}]}function b(e,t,n){function r(){var e=[];h.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++f===l&&r()}function i(e,t,n){h[e]={id:t,docs:n},o()}function a(){if(!(v>=p.length)){var e=Math.min(v+oo,p.length),t=p.slice(v,e);u(t,v),v+=t.length}}function u(n,r){n.forEach(function(n,o){var u=r+o,s=c.get(n),l=d(s[0],["atts_since","attachments"]);l.open_revs=s.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(m);var f=m;0===l.open_revs.length&&(delete l.open_revs,f=g),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r;r=e?[{error:e}]:f(t),i(u,n,r),a()})})}var s=t.docs,c=new no;s.forEach(function(e){c.has(e.id)?c.get(e.id).push(e):c.set(e.id,[e])});var l=c.size,f=0,h=new Array(l),p=[];c.forEach(function(e,t){p.push(t)});var v=0;a()}function _(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function w(){return ro}function k(e){_()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):w()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function E(){$r.EventEmitter.call(this),this._listeners={},k(this)}function x(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function S(e,t){return e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function O(e){var t=0;return e||(t=2e3),S(e,t)}function A(e,t){x("info","The above "+e+" is totally normal. "+t)}function j(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}function T(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=j.prototype,new n(t)}function D(e){if("object"!=typeof e){var t=e;e=po,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function C(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return T(go,r)}}function M(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&C(e.filter,r.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function R(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function I(){}function P(e){var t;if(e?"string"!=typeof e?t=T(lo):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=T(ho)):t=T(fo),t)throw t}function N(e,t){return"listenerCount"in e?e.listenerCount(t):$r.EventEmitter.listenerCount(e,t)}function F(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function z(e){var t=F(e);return t?t.join("/"):null}function L(e){for(var t=jo.exec(e),n={},r=14;r--;){var o=So[r],i=t[r]||"",a=-1!==["user","password"].indexOf(o);n[o]=a?decodeURIComponent(i):i}return n[Oo]={},n[So[12]].replace(Ao,function(e,t,r){t&&(n[Oo][t]=r)}),n}function q(e,t,n){return new Kr(function(r,o){e.get(t,function(i,a){if(i){if(404!==i.status)return o(i);a={}}var u=a._rev,s=n(a);if(!s)return r({updated:!1,rev:u});s._id=t,s._rev=u,r(B(e,s,n))})})}function B(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return q(e,t._id,n)})}function U(e){return 0|Math.random()*e}function Y(e,t){t=t||To.length;var n="",r=-1;if(e){for(;++r<e;)n+=To[U(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=To[3&U(16)|8];break;default:n+=To[U(16)]}return n}function H(e){for(var t,n,r,o,i=e.rev_tree.slice();o=i.pop();){var a=o.ids,u=a[2],s=o.pos;if(u.length)for(var c=0,l=u.length;c<l;c++)i.push({pos:s+1,ids:u[c]});else{var f=!!a[1].deleted,d=a[0];t&&!(r!==f?r:n!==s?n<s:t<d)||(t=d,n=s,r=f)}}return n+"-"+t}function $(e,t){for(var n,r=e.slice();n=r.pop();)for(var o=n.pos,i=n.ids,a=i[2],u=t(0===a.length,o,i[0],n.ctx,i[1]),s=0,c=a.length;s<c;s++)r.push({pos:o+1,ids:a[s],ctx:u})}function W(e,t){return e.pos-t.pos}function G(e){var t=[];$(e,function(e,n,r,o,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort(W).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function V(e){for(var t=H(e),n=G(e.rev_tree),r=[],o=0,i=n.length;o<i;o++){var a=n[o];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function X(e){var t=[];return $(e.rev_tree,function(e,n,r,o,i){"available"!==i.status||e||(t.push(n+"-"+r),i.status="missing")}),t}function J(e){for(var t,n=[],r=e.slice();t=r.pop();){var o=t.pos,i=t.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=t.history?t.history.slice():[];l.push({id:a,opts:u}),c&&n.push({pos:o+1-l.length,ids:l});for(var f=0,d=s.length;f<d;f++)r.push({pos:o+1,ids:s[f],history:l})}return n.reverse()}function K(e,t){return e.pos-t.pos}function Q(e,t,n){for(var r,o=0,i=e.length;o<i;)r=o+i>>>1,n(e[r],t)<0?o=r+1:i=r;return o}function Z(e,t,n){var r=Q(e,t,n);e.splice(r,0,t)}function ee(e,t){for(var n,r,o=t,i=e.length;o<i;o++){var a=e[o],u=[a.id,a.opts,[]];r?(r[2].push(u),r=u):n=r=u}return n}function te(e,t){return e[0]<t[0]?-1:1}function ne(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,a=o.tree2;(i[1].status||a[1].status)&&(i[1].status="available"===i[1].status||"available"===a[1].status?"available":"missing");for(var u=0;u<a[2].length;u++)if(i[2][0]){for(var s=!1,c=0;c<i[2].length;c++)i[2][c][0]===a[2][u][0]&&(n.push({tree1:i[2][c],tree2:a[2][u]}),s=!0);s||(r="new_branch",Z(i[2],a[2][u],te))}else r="new_leaf",i[2][0]=a[2][u]}return{conflicts:r,tree:e}}function re(e,t,n){var r,o=[],i=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var u=0,s=e.length;u<s;u++){var c=e[u];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=ne(c.ids,t.ids),o.push({pos:c.pos,ids:r.tree}),i=i||r.conflicts,a=!0;else if(!0!==n){var l=c.pos<t.pos?c:t,f=c.pos<t.pos?t:c,d=f.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:d,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var y=v.ids[2],m=0,g=y.length;m<g;m++)p.push({ids:y[m],diff:v.diff-1,parent:v.ids,parentIdx:m});else v.ids[0]===f.ids[0]&&h.push(v)}var b=h[0];b?(r=ne(b.ids,f.ids),b.parent[2][b.parentIdx]=r.tree,o.push({pos:l.pos,ids:l.ids}),i=i||r.conflicts,a=!0):o.push(c)}else o.push(c)}return a||o.push(t),o.sort(K),{tree:o,conflicts:i||"internal_node"}}function oe(e,t){for(var n,r=J(e),o={},i=0,a=r.length;i<a;i++){for(var u=r[i],s=u.ids,c=Math.max(0,s.length-t),l={pos:u.pos+c,ids:ee(s,c)},f=0;f<c;f++){var d=u.pos+f+"-"+s[f].id;o[d]=!0}n=n?re(n,l,!0).tree:[l]}return $(n,function(e,t,n){delete o[t+"-"+n]}),{tree:n,revs:Object.keys(o)}}function ie(e,t,n){var r=re(e,t),o=oe(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function ae(e,t){for(var n,r=e.slice(),o=t.split("-"),i=parseInt(o[0],10),a=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===a)return!0;for(var u=n.ids[2],s=0,c=u.length;s<c;s++)r.push({pos:n.pos+1,ids:u[s]})}return!1}function ue(e){return e.ids}function se(e,t){t||(t=H(e));for(var n,r=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(ue);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function ce(e){return/^_local/.test(e)}function le(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:o,opts:u}),c)for(var f=0,d=l.length;f<d;f++){var h=l[f],p=h.pos+"-"+h.id;if(p===e)return o+"-"+a}for(var v=0,y=s.length;v<y;v++)r.push({pos:o+1,ids:s[v],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function fe(e){return Vr('"use strict";\nreturn '+e+";",{})}function de(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return Vr(t,{})}function he(e,t){try{e.emit("change",t)}catch(e){x("error",'Error in .on("change", function):',e)}}function pe(e,t,n){function r(){o.cancel()}$r.EventEmitter.call(this);var o=this;this.db=e,t=t?s(t):{};var i=t.complete=c(function(t,n){t?N(o,"error")>0&&o.emit("error",t):o.emit("complete",n),o.removeAllListeners(),e.removeListener("destroyed",r)});n&&(o.on("complete",function(e){n(null,e)}),o.on("error",n)),e.once("destroyed",r),t.onChange=function(e){o.isCancelled||he(o,e)};var a=new Kr(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});o.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?o.doChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.doChanges(t)})}function ve(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=G(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:r,doc:e};return se(t,e._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=V(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function ye(e,t){return e<t?-1:e>t?1:0}function me(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function ge(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=d(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function be(e,t){var n=ye(e._id,t._id);return 0!==n?n:ye(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function _e(e){var t={},n=[];return $(e,function(e,r,o,i){var a=r+"-"+o;return e&&(t[a]=0),void 0!==i&&n.push({from:i,to:a}),a}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function we(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var o={offset:t.skip};return Kr.all(r.map(function(n){var r=ao({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new Kr(function(t,i){e._allDocs(r,function(e,r){if(e)return i(e);o.total_rows=r.total_rows,t(r.rows[0]||{key:n,error:"not_found"})})})})).then(function(e){return o.rows=e,o})}function ke(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(n.last_seq=t.last_seq),e._compact(n,function(t,n){t?r(t):r(null,n),Gr(function(){e._compactionQueue.shift(),e._compactionQueue.length&&ke(e)})})})}function Ee(e){return"_"===e.charAt(0)&&e+"is not a valid attachment name, attachment names cannot start with '_'"}function xe(){$r.EventEmitter.call(this)}function Se(){this.isReady=!1,this.failed=!1,this.queue=[]}function Oe(e,t){var n=e.match(/([a-z\-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=je.adapters,o=je.preferredAdapters,i=je.prefix,a=t.adapter;if(!a)for(var u=0;u<o.length;++u){a=o[u];{if(!("idb"===a&&"websql"in r&&w()&&localStorage["_pouch__websqldb_"+i+e]))break;x("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var s=r[a];return{name:s&&"use_prefix"in s&&!s.use_prefix?e:i+e,adapter:a}}function Ae(e){function t(){e.removeListener("closed",r),e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.removeListener("closed",r),e.emit("destroyed")}function r(){e.removeListener("destroyed",t),o.delete(e.name)}var o=e.constructor._destructionListeners;e.once("destroyed",t),e.once("closed",r),o.has(e.name)||o.set(e.name,[]),o.get(e.name).push(n)}function je(e,t){if(!(this instanceof je))return new je(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(t=e,e=t.name,delete t.name),this.__opts=t=s(t),n.auto_compaction=t.auto_compaction,n.prefix=je.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=(t.prefix||"")+e,o=Oe(r,t);if(t.name=o.name,t.adapter=t.adapter||o.adapter,n.name=e,n._adapter=t.adapter,Hr("pouchdb:adapter")("Picked adapter: "+t.adapter),!je.adapters[t.adapter]||!je.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);xe.call(n),n.taskqueue=new Se,n.adapter=t.adapter,je.adapters[t.adapter].call(n,t,function(e){if(e)return n.taskqueue.fail(e);Ae(n),n.emit("created",n),je.emit("created",n.name),n.taskqueue.ready(n)})}function Te(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function De(e){if(!/^\d+\-./.test(e))return T(ko);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function Ce(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,o=[r[0],t,[]],i=1,a=r.length;i<a;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function Me(e,t){var n,r,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=Y()),r=Y(32,16).toLowerCase(),e._rev){if(o=De(e._rev),o.error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,i,[]]]]}],n=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,i,[]]}],n=1;else if(e._revisions&&(e._rev_tree=Ce(e._revisions,i),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(o=De(e._rev),o.error)return o;n=o.prefix,r=o.id,e._rev_tree=[{pos:n,ids:[r,i,[]]}]}P(e._id),e._rev=n+"-"+r;var a={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s="_"===u[0];if(s&&!Mo[u]){var c=T(mo,u);throw c.message=mo.message+": "+u,c}s&&!Ro[u]?a.metadata[u.slice(1)]=e[u]:a.data[u]=e[u]}return a}function Re(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function Ie(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function Pe(e,t){return Re([Ie(e)],{type:t})}function Ne(e,t){return Pe(Io(e),t)}function Fe(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function ze(e,t){if("undefined"==typeof FileReader)return t(Fe((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(Fe(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Le(e,t){ze(e,function(e){t(e)})}function qe(e,t){Le(e,function(e){t(Po(e))})}function Be(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function Ue(e){return Po(e)}function Ye(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function He(e,t,n,r,o){(n>0||r<t.size)&&(t=Ye(t,n,r)),Be(t,function(t){e.append(t),o()})}function $e(e,t,n,r,o){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),o()}function We(e,t){function n(){No(o)}function r(){var e=l.end(!0),n=Ue(e);t(n),l.destroy()}function o(){var t=c*u,o=t+u;c++,c<s?f(l,e,t,o,n):f(l,e,t,o,r)}var i="string"==typeof e,a=i?e.length:e.size,u=Math.min(Fo,a),s=Math.ceil(a/u),c=0,l=i?new Xr:new Xr.ArrayBuffer,f=i?$e:He;o()}function Ge(e){return Xr.hash(e)}function Ve(e){try{return Io(e)}catch(e){var t=T(vo,"Attachment is not a valid base64 string");return{error:t}}}function Xe(e,t,n){var r=Ve(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Pe(r,e.content_type):"base64"===t?Po(r):r,We(r,function(t){e.digest="md5-"+t,n()})}function Je(e,t,n){We(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Le(e.data,function(t){e.data=t,n()}):"base64"===t?qe(e.data,function(t){e.data=t,n()}):n()})}function Ke(e,t,n){if(e.stub)return n();"string"==typeof e.data?Xe(e,t,n):Je(e,t,n)}function Qe(e,t,n){function r(){i++,e.length===i&&(o?n(o):n())}if(!e.length)return n();var o,i=0;e.forEach(function(e){function n(e){o=e,++a===i.length&&r()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!i.length)return r();for(var u in e.data._attachments)e.data._attachments.hasOwnProperty(u)&&Ke(e.data._attachments[u],t,n)})}function Ze(e,t,n,r,o,i,a,u){if(ae(t.rev_tree,n.metadata.rev))return r[o]=n,i();var s=t.winningRev||H(t),c="deleted"in t?t.deleted:se(t,s),l="deleted"in n.metadata?n.metadata.deleted:se(n.metadata),f=/^1-/.test(n.metadata.rev);if(c&&!l&&u&&f){var d=n.data;d._rev=s,d._id=n.metadata.id,n=Me(d,u)}var h=ie(t.rev_tree,n.metadata.rev_tree[0],e);if(u&&(c&&l||!c&&"new_leaf"!==h.conflicts||c&&!l&&"new_branch"===h.conflicts)){var p=T(co);return r[o]=p,i()}var v=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var y,m=H(n.metadata),g=se(n.metadata,m),b=c===g?0:c<g?-1:1;y=v===m?g:se(n.metadata,v),a(n,m,g,y,!0,b,o,i)}function et(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function tt(e,t,n,r,o,i,a,u,s){function c(e,t,n){var r=H(e.metadata),o=se(e.metadata,r);if("was_delete"in u&&o)return i[t]=T(so,"deleted"),n();if(f&&et(e)){var s=T(co);return i[t]=s,n()}a(e,r,o,o,!1,o?0:1,t,n)}function l(){++h===p&&s&&s()}e=e||1e3;var f=u.new_edits,d=new no,h=0,p=t.length;t.forEach(function(e,t){if(e._id&&ce(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:o},function(e,n){i[t]=e||n,l()})}var a=e.metadata.id;d.has(a)?(p--,d.get(a).push([e,t])):d.set(a,[[e,t]])}),d.forEach(function(t,n){function o(){++s<t.length?u():l()}function u(){var u=t[s],l=u[0],d=u[1];if(r.has(n))Ze(e,r.get(n),l,i,d,o,a,f);else{var h=ie([],l.metadata.rev_tree[0],e);l.metadata.rev_tree=h.tree,l.stemmedRevs=h.stemmedRevs||[],c(l,d,o)}}var s=0;u()})}function nt(e){try{return JSON.parse(e)}catch(t){return Jr.parse(e)}}function rt(e){try{return JSON.stringify(e)}catch(t){return Jr.stringify(e)}}function ot(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(T(_o,n,t.type))}}function it(e,t,n){return{data:rt(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function at(e){if(!e)return null;var t=nt(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function ut(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function st(e,t,n,r){n?r(e?"string"!=typeof e?e:Ne(e,t):Re([""],{type:t})):e?"string"!=typeof e?ze(e,function(e){r(Po(e))}):r(e):r("")}function ct(e,t,n,r){function o(){++u===a.length&&r&&r()}function i(e,t){var r=e._attachments[t],i=r.digest;n.objectStore(Bo).get(i).onsuccess=function(e){r.body=e.target.result.body,o()}}var a=Object.keys(e._attachments||{});if(!a.length)return r&&r();var u=0;a.forEach(function(n){t.attachments&&t.include_docs?i(e,n):(e._attachments[n].stub=!0,o())})}function lt(e,t){return Kr.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Kr.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new Kr(function(a){st(o,i,t,function(t){e.doc._attachments[n]=ao(d(r,["digest","content_type"]),{data:t}),a()})})}}))}}))}function ft(e,t,n){function r(){--c||o()}function o(){i.length&&i.forEach(function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||u.delete(e)}})}var i=[],a=n.objectStore(qo),u=n.objectStore(Bo),s=n.objectStore(Uo),c=e.length;e.forEach(function(e){var n=a.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();a.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else r()}}})}function dt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}function ht(e,t,n,r,o,i){function a(){var e=[Lo,qo,Bo,Ho,Uo,Yo],t=dt(o,e,"readwrite");if(t.error)return i(t.error);b=t.txn,b.onabort=ot(i),b.ontimeout=ot(i),b.oncomplete=f,_=b.objectStore(Lo),w=b.objectStore(qo),k=b.objectStore(Bo),E=b.objectStore(Uo),x=b.objectStore(Yo),x.get(Yo).onsuccess=function(e){O=e.target.result,c()},h(function(e){if(e)return N=!0,i(e);l()})}function u(){M=!0,c()}function s(){tt(e.revs_limit,A,r,P,b,I,p,n,u)}function c(){O&&M&&(O.docCount+=R,x.put(O))}function l(){function e(){++n===A.length&&s()}function t(t){var n=at(t.target.result);n&&P.set(n.id,n),e()}if(A.length)for(var n=0,r=0,o=A.length;r<o;r++){var i=A[r];if(i._id&&ce(i._id))e();else{var a=_.get(i.metadata.id);a.onsuccess=t}}}function f(){N||(Wo.notify(r._meta.name),i(null,I))}function d(e,t){k.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=T(Eo,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function h(e){function t(){++o===n.length&&e(r)}var n=[];if(A.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){d(e,function(e){e&&!r&&(r=e),t()})})}function p(e,t,n,r,o,i,a,u){e.metadata.winningRev=t,e.metadata.deleted=n;var s=e.data;if(s._id=e.metadata.id,s._rev=e.metadata.rev,r&&(s._deleted=!0),s._attachments&&Object.keys(s._attachments).length)return y(e,t,n,o,a,u);R+=i,c(),v(e,t,n,o,a,u)}function v(e,t,n,o,i,a){function u(i){var a=e.stemmedRevs||[];o&&r.auto_compaction&&(a=a.concat(X(e.metadata))),a&&a.length&&ft(a,e.metadata.id,b),f.seq=i.target.result;var u=it(f,t,n);_.put(u).onsuccess=c}function s(e){e.preventDefault(),e.stopPropagation(),w.index("_doc_id_rev").getKey(l._doc_id_rev).onsuccess=function(e){w.put(l,e.target.result).onsuccess=u}}function c(){I[i]={ok:!0,id:f.id,rev:f.rev},P.set(e.metadata.id,e.metadata),m(e,f.seq,a)}var l=e.data,f=e.metadata;l._doc_id_rev=f.id+"::"+f.rev,delete l._id,delete l._rev;var d=w.put(l);d.onsuccess=u,d.onerror=s}function y(e,t,n,r,o,i){function a(){c===l.length&&v(e,t,n,r,o,i)}function u(){c++,a()}var s=e.data,c=0,l=Object.keys(s._attachments);l.forEach(function(n){var r=e.data._attachments[n];if(r.stub)c++,a();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);g(r.digest,o,u)}})}function m(e,t,n){function r(){++o===i.length&&n()}var o=0,i=Object.keys(e.data._attachments||{});if(!i.length)return n();for(var a=0;a<i.length;a++)!function(n){var o=e.data._attachments[n].digest,i=E.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=r,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}(i[a])}function g(e,t,n){k.count(e).onsuccess=function(r){if(r.target.result)return n();var o={digest:e,body:t};k.put(o).onsuccess=n}}for(var b,_,w,k,E,x,S,O,A=t.docs,j=0,D=A.length;j<D;j++){var C=A[j];C._id&&ce(C._id)||(C=A[j]=Me(C,n.new_edits),C.error&&!S&&(S=C))}if(S)return i(S);var M=!1,R=0,I=new Array(A.length),P=new no,N=!1,F=r._meta.blobSupport?"blob":"base64";Qe(A,F,function(e){if(e)return i(e);a()})}function pt(e,t,n,r,o){function i(e){l=e.target.result,c&&o(c,l,f)}function a(e){c=e.target.result,l&&o(c,l,f)}function u(){if(!c.length)return o();var n,u=c[c.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(u,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return o()}else n=IDBKeyRange.lowerBound(u,!0);t=n,c=null,l=null,e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a}function s(e){var t=e.target.result;if(!t)return o();o([t.key],[t.value],t)}var c,l,f,d="function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n;d?(f={continue:u},e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a):n?e.openCursor(t,"prev").onsuccess=s:e.openCursor(t).onsuccess=s}function vt(e,t,n){function r(e){var t=e.target.result;t?(o.push(t.value),t.continue()):n({target:{result:o}})}if("function"==typeof e.getAll)return void(e.getAll(t).onsuccess=n);var o=[];e.openCursor(t).onsuccess=r}function yt(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}function mt(e,t,n){function r(t,n,r){var o=t.id+"::"+r;S.get(o).onsuccess=function(r){if(n.doc=ut(r.target.result),e.conflicts){var o=V(t);o.length&&(n.doc._conflicts=o)}ct(n.doc,e,_)}}function o(t,n){var o={id:n.id,key:n.id,value:{rev:t}},i=n.deleted;"ok"===e.deleted?(O.push(o),i?(o.value.deleted=!0,o.doc=null):e.include_docs&&r(n,o,t)):!i&&h--<=0&&(O.push(o),e.include_docs&&r(n,o,t))}function i(e){for(var t=0,n=e.length;t<n&&O.length!==p;t++){var r=e[t],i=at(r);o(i.winningRev,i)}}function a(e,t,n){n&&(i(t),O.length<p&&n.continue())}function u(t){var n=t.target.result;e.descending&&(n=n.reverse()),i(n)}function s(){n(null,{total_rows:w,offset:e.skip,rows:O})}function c(){e.attachments?lt(O,e.binary).then(s):s()}var l="startkey"in e&&e.startkey,f="endkey"in e&&e.endkey,d="key"in e&&e.key,h=e.skip||0,p="number"==typeof e.limit?e.limit:-1,v=!1!==e.inclusive_end,y=yt(l,f,v,d,e.descending),m=y&&y.error;if(m&&("DataError"!==m.name||0!==m.code))return n(T(_o,m.name,m.message));var g=[Lo,qo,Yo];e.attachments&&g.push(Bo);var b=dt(t,g,"readonly");if(b.error)return n(b.error);var _=b.txn;_.oncomplete=c,_.onabort=ot(n);var w,k=_.objectStore(Lo),E=_.objectStore(qo),x=_.objectStore(Yo),S=E.index("_doc_id_rev"),O=[];return x.get(Yo).onsuccess=function(e){w=e.target.result.docCount},m||0===p?void 0:-1===p?vt(k,y,u):void pt(k,y,e.descending,p+h,a)}function gt(e){return new Kr(function(t){var n=Re([""]);e.objectStore($o).put(n,"key").onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function bt(e,t){e.objectStore(Lo).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function _t(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}function wt(){!Go&&Vo.length&&(Go=!0,Vo.shift()())}function kt(e,t,n){Vo.push(function(){e(function(e,r){_t(t,e,r,n),Go=!1,Gr(function(){wt(n)})})}),wt()}function Et(e,t,n,r){function o(t,n,r){function o(t,n){var r=e.processChange(n,t,e);d=r.seq=t.seq;var o=w(r);if("object"==typeof o)return e.complete(o);o&&(_++,p&&b.push(r),e.attachments&&e.include_docs?ct(n,e,v,function(){lt([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r))}function i(){for(var e=0,t=u.length;e<t&&_!==h;e++){var n=u[e];if(n){o(s[e],n)}}_!==h&&r.continue()}if(r&&t.length){var u=new Array(t.length),s=new Array(t.length),c=0;n.forEach(function(e,n){a(ut(e),t[n],function(e,r){s[n]=e,u[n]=r,++c===t.length&&i()})})}}function i(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var o=e._id+"::"+n.winningRev;g.get(o).onsuccess=function(e){r(n,ut(e.target.result))}}function a(e,t,n){if(f&&!f.has(e._id))return n();var r=k.get(e._id);if(r)return i(e,t,r,n);m.get(e._id).onsuccess=function(o){r=at(o.target.result),k.set(e._id,r),i(e,t,r,n)}}function u(){e.complete(null,{results:b,last_seq:d})}function c(){!e.continuous&&e.attachments?lt(b).then(u):u()}if(e=s(e),e.continuous){var l=n+":"+Y();return Wo.addListener(n,l,t,e),Wo.notify(n),{cancel:function(){Wo.removeListener(n,l)}}}var f=e.doc_ids&&new to(e.doc_ids);e.since=e.since||0;var d=e.since,h="limit"in e?e.limit:-1;0===h&&(h=1);var p;p="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var v,y,m,g,b=[],_=0,w=M(e),k=new no,E=[Lo,qo];e.attachments&&E.push(Bo);var x=dt(r,E,"readonly");if(x.error)return e.complete(x.error);v=x.txn,v.onabort=ot(e.complete),v.oncomplete=c,y=v.objectStore(qo),m=v.objectStore(Lo),g=y.index("_doc_id_rev"),pt(y,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,h,o)}function xt(e,t){var n=this;kt(function(t){St(n,e,t)},t,n.constructor)}function St(e,t,n){function r(e){var t=e.createObjectStore(Lo,{keyPath:"id"});e.createObjectStore(qo,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Bo,{keyPath:"digest"}),e.createObjectStore(Yo,{keyPath:"id",autoIncrement:!1}),e.createObjectStore($o),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(Ho,{keyPath:"_id"});var n=e.createObjectStore(Uo,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(e,t){var n=e.objectStore(Lo);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value,i=se(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else t()}}function i(e){e.createObjectStore(Ho,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(e,t){var n=e.objectStore(Ho),r=e.objectStore(Lo),o=e.objectStore(qo);r.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var a=i.value,u=a.id,s=ce(u),c=H(a);if(s){var l=u+"::"+c,f=u+"::",d=u+"::~",h=o.index("_doc_id_rev"),p=IDBKeyRange.bound(f,d,!1,!1),v=h.openCursor(p);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===l&&n.put(t),o.delete(v.primaryKey),v.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function u(e){var t=e.createObjectStore(Uo,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function s(e,t){var n=e.objectStore(qo),r=e.objectStore(Bo),o=e.objectStore(Uo);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,a=Object.keys(r._attachments||{}),u={},s=0;s<a.length;s++)u[r._attachments[a[s]].digest]=!0;var c=Object.keys(u);for(s=0;s<c.length;s++){var l=c[s];o.put({seq:i,digestSeq:l+"::"+i})}n.continue()}}}function c(e){function t(e){return e.data?at(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(qo),r=e.objectStore(Lo);r.openCursor().onsuccess=function(e){function o(){var e=it(a,a.winningRev,a.deleted);r.put(e).onsuccess=function(){i.continue()}}var i=e.target.result;if(i){var a=t(i.value);if(a.winningRev=a.winningRev||H(a),a.seq)return o();!function(){var e=a.id+"::",t=a.id+"::￿",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=i,o();var n=t.primaryKey;n>i&&(i=n),t.continue()}}()}}}var f=t.name,d=null;e._meta=null,e.type=function(){return"idb"},e._id=l(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,o){ht(t,n,r,e,d,o)},e._get=function(e,t,n){function r(){n(a,{doc:o,metadata:i,ctx:u})}var o,i,a,u=t.ctx;if(!u){var s=dt(d,[Lo,qo,Bo],"readonly");if(s.error)return n(s.error);u=s.txn}u.objectStore(Lo).get(e).onsuccess=function(e){if(!(i=at(e.target.result)))return a=T(so,"missing"),r();var n;if(t.rev)n=t.latest?le(t.rev,i):t.rev;else{n=i.winningRev;if(se(i))return a=T(so,"deleted"),r()}var s=u.objectStore(qo),c=i.id+"::"+n;s.index("_doc_id_rev").get(c).onsuccess=function(e){if(o=e.target.result,o&&(o=ut(o)),!o)return a=T(so,"missing"),r();r()}}},e._getAttachment=function(e,t,n,r,o){var i;if(r.ctx)i=r.ctx;else{var a=dt(d,[Lo,qo,Bo],"readonly");if(a.error)return o(a.error);i=a.txn}var u=n.digest,s=n.content_type;i.objectStore(Bo).get(u).onsuccess=function(e){st(e.target.result.body,s,r.binary,function(e){o(null,e)})}},e._info=function(t){var n,r,o=dt(d,[Yo,qo],"readonly");if(o.error)return t(o.error);var i=o.txn;i.objectStore(Yo).get(Yo).onsuccess=function(e){r=e.target.result.docCount},i.objectStore(qo).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){mt(e,d,t)},e._changes=function(t){Et(t,e,f,d)},e._close=function(e){d.close(),Xo.delete(f),e()},e._getRevisionTree=function(e,t){var n=dt(d,[Lo],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Lo).get(e).onsuccess=function(e){var n=at(e.target.result);n?t(null,n.rev_tree):t(T(so))}},e._doCompaction=function(e,t,n){var r=[Lo,qo,Bo,Uo],o=dt(d,r,"readwrite");if(o.error)return n(o.error);var i=o.txn;i.objectStore(Lo).get(e).onsuccess=function(n){var r=at(n.target.result);$(r.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")}),ft(t,e,i);var o=r.winningRev,a=r.deleted;i.objectStore(Lo).put(it(r,o,a))},i.onabort=ot(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=dt(d,[Ho],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(Ho).get(e);o.onerror=ot(t),o.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(T(so))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var i,a=t.ctx;if(!a){var u=dt(d,[Ho],"readwrite");if(u.error)return n(u.error);a=u.txn,a.onerror=ot(n),a.oncomplete=function(){i&&n(null,i)}}var s,c=a.objectStore(Ho);r?(s=c.get(o),s.onsuccess=function(o){var a=o.target.result;if(a&&a._rev===r){c.put(e).onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}}else n(T(co))}):(s=c.add(e),s.onerror=function(e){n(T(co)),e.preventDefault(),e.stopPropagation()},s.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var o=dt(d,[Ho],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,a=e._id,u=r.objectStore(Ho),s=u.get(a);s.onerror=ot(n),s.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(u.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(T(so))}},e._destroy=function(e,t){Wo.removeAllListeners(f);var n=Jo.get(f);n&&n.result&&(n.result.close(),Xo.delete(f));var r=indexedDB.deleteDatabase(f);r.onsuccess=function(){Jo.delete(f),w()&&f in localStorage&&delete localStorage[f],t(null,{ok:!0})},r.onerror=ot(t)};var h=Xo.get(f);if(h)return d=h.idb,e._meta=h.global,Gr(function(){n(null,e)});var p;p=t.storage?Ot(f,t.storage):indexedDB.open(f,zo),Jo.set(f,p),p.onupgradeneeded=function(e){function t(){var e=f[d-1];d++,e&&e(l,t)}var n=e.target.result;if(e.oldVersion<1)return r(n);var l=e.currentTarget.transaction;e.oldVersion<3&&i(n),e.oldVersion<4&&u(n);var f=[o,a,s,c],d=e.oldVersion;t()},p.onsuccess=function(t){function r(){void 0!==u&&l&&(e._meta={name:f,instanceId:s,blobSupport:u},Xo.set(f,{idb:d,global:e._meta}),n(null,e))}function o(){if(void 0!==a&&void 0!==i){var e=f+"_id";e in i?s=i[e]:i[e]=s=Y(),i.docCount=a,c.objectStore(Yo).put(i)}}d=t.target.result,d.onversionchange=function(){d.close(),Xo.delete(f)},d.onabort=function(e){x("error","Database has a global failure",e.target.error),d.close(),Xo.delete(f)};var i,a,u,s,c=d.transaction([Yo,$o,Lo],"readwrite"),l=!1;c.objectStore(Yo).get(Yo).onsuccess=function(e){i=e.target.result||{id:Yo},o()},bt(c,function(e){a=e,o()}),Co||(Co=gt(c)),Co.then(function(e){u=e,r()}),c.oncomplete=function(){l=!0,r()}},p.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";x("error",e),n(T(_o,e))}}function Ot(e,t){try{return indexedDB.open(e,{version:zo,storage:t})}catch(t){return indexedDB.open(e,zo)}}function At(e){return decodeURIComponent(escape(e))}function jt(e){return e<65?e-48:e-55}function Tt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(jt(e.charCodeAt(t++))<<4|jt(e.charCodeAt(t++)));return r}function Dt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(jt(e.charCodeAt(t+2))<<12|jt(e.charCodeAt(t+3))<<8|jt(e.charCodeAt(t))<<4|jt(e.charCodeAt(t+1))),t+=4;return r}function Ct(e,t){return"UTF-8"===t?At(Tt(e,0,e.length)):Dt(e,0,e.length)}function Mt(e){return"'"+e+"'"}function Rt(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function It(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Pt(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Nt(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function Ft(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function zt(e,t,n,r,o){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function Lt(e,t,n){function r(){++i===e.length&&o()}function o(){if(a.length){var e="SELECT DISTINCT digest AS digest FROM "+oi+" WHERE seq IN "+Ft(a.length);n.executeSql(e,a,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var o="DELETE FROM "+oi+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";e.executeSql(o,a,function(e){var t="SELECT digest FROM "+oi+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new to,o=0;o<t.rows.length;o++)r.add(t.rows.item(o).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+oi+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+ti+" WHERE digest=?",[t]))})})})}})}}if(e.length){var i=0,a=[];e.forEach(function(e){var o="SELECT seq FROM "+ei+" WHERE doc_id=? AND rev=?";n.executeSql(o,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;a.push(n),e.executeSql("DELETE FROM "+ei+" WHERE seq=?",[n],r)})})}}function qt(e){return function(t){x("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,o=t.target||t.message;e(T(wo,o,r))}}function Bt(e){return"size"in e?1e6*e.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}function Ut(e,t,n,r,o,i,a){function u(){if(b)return a(b);i.notify(r._name),a(null,_)}function s(e,t){var n="SELECT count(*) as cnt FROM "+ti+" WHERE digest=?";g.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var o=T(Eo,"unknown stub attachment with digest "+e);t(o)}else t()})}function c(e){function t(){++o===n.length&&e(r)}var n=[];if(y.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){s(e,function(e){e&&!r&&(r=e),t()})})}function l(e,t,n,o,i,a,u,s){function c(){function t(e,t){function r(){return++o===i.length&&t(),!1}var o=0,i=Object.keys(n._attachments||{});if(!i.length)return t();for(var a=0;a<i.length;a++)!function(t){var o="INSERT INTO "+oi+" (digest, seq) VALUES (?,?)",i=[n._attachments[t].digest,e];g.executeSql(o,i,r,r)}(i[a])}var n=e.data,r=o?1:0,i=n._id,a=n._rev,u=Pt(n),s="INSERT INTO "+ei+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[i,a,u,r];g.executeSql(s,c,function(e,n){var r=n.insertId;t(r,function(){d(e,r)})},function(){var e=zt("seq",ei,null,"doc_id=? AND rev=?");return g.executeSql(e,[i,a],function(e,n){var o=n.rows.item(0).seq,s="UPDATE "+ei+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[u,r,i,a];e.executeSql(s,c,function(e){t(o,function(){d(e,o)})})}),!1})}function l(e){p||(e?(p=e,s(p)):v===y.length&&c())}function f(e){v++,l(e)}function d(n,o){var a=e.metadata.id,c=e.stemmedRevs||[];i&&r.auto_compaction&&(c=X(e.metadata).concat(c)),c.length&&Lt(c,a,n),e.metadata.seq=o;var l=e.metadata.rev;delete e.metadata.rev;var f=i?"UPDATE "+Zo+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+ei+" WHERE doc_id="+Zo+".id AND rev=?) WHERE id=?":"INSERT INTO "+Zo+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",d=rt(e.metadata),h=i?[d,o,t,a]:[a,o,o,d];n.executeSql(f,h,function(){_[u]={ok:!0,id:e.metadata.id,rev:l},w.set(a,e.metadata),s()})}var p=null,v=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var y=Object.keys(e.data._attachments||{});o&&(e.data._deleted=!0),y.forEach(function(n){var r=e.data._attachments[n];if(r.stub)v++,l();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);h(r.digest,o,f)}}),y.length||c()}function f(){tt(e.revs_limit,y,r,w,g,_,l,n)}function d(e){function t(){++n===y.length&&e()}if(!y.length)return e();var n=0;y.forEach(function(e){if(e._id&&ce(e._id))return t();var n=e.metadata.id;g.executeSql("SELECT json FROM "+Zo+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var o=nt(r.rows.item(0).json);w.set(n,o)}t()})})}function h(e,t,n){var r="SELECT digest FROM "+ti+" WHERE digest=?";g.executeSql(r,[e],function(o,i){if(i.rows.length)return n();r="INSERT INTO "+ti+" (digest, body, escaped) VALUES (?,?,1)",o.executeSql(r,[e,Rt(t)],function(){n()},function(){return n(),!1})})}var p=n.new_edits,v=t.docs,y=v.map(function(e){return e._id&&ce(e._id)?e:Me(e,p)}),m=y.filter(function(e){return e.error});if(m.length)return a(m[0]);var g,b,_=new Array(y.length),w=new no;Qe(y,"binary",function(e){if(e)return a(e);o.transaction(function(e){g=e,c(function(e){e?b=e:d(f)})},qt(a),u)})}function Yt(e){return e.websql(e.name,e.version,e.description,e.size)}function Ht(e){try{return{db:Yt(e)}}catch(e){return{error:e}}}function $t(e){var t=ii.get(e.name);return t||(t=Ht(e),ii.set(e.name,t)),t}function Wt(e,t,n,r,o){function i(){++s===u.length&&o&&o()}function a(e,o){var a=e._attachments[o],u={binary:t.binary,ctx:r};n._getAttachment(e._id,o,a,u,function(t,n){e._attachments[o]=ao(d(a,["digest","content_type"]),{data:n}),i()})}var u=Object.keys(e._attachments||{});if(!u.length)return o&&o();var s=0;u.forEach(function(n){t.attachments&&t.include_docs?a(e,n):(e._attachments[n].stub=!0,i())})}function Gt(e,t){function n(){w()&&(window.localStorage["_pouch__websqldb_"+b._name]=!0),t(null,b)}function r(e,t){e.executeSql(li),e.executeSql("ALTER TABLE "+ei+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(si),e.executeSql("ALTER TABLE "+Zo+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Zo+" (local, id)");var n="SELECT "+Zo+".winningseq AS seq, "+Zo+".json AS metadata FROM "+ei+" JOIN "+Zo+" ON "+ei+".seq = "+Zo+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],o=[],i=0;i<n.rows.length;i++){var a=n.rows.item(i),u=a.seq,s=JSON.parse(a.metadata);se(s)&&r.push(u),ce(s.id)&&o.push(s.id)}e.executeSql("UPDATE "+Zo+"SET local = 1 WHERE id IN "+Ft(o.length),o,function(){e.executeSql("UPDATE "+ei+" SET deleted = 1 WHERE seq IN "+Ft(r.length),r,t)})})})})}function o(e,t){var n="CREATE TABLE IF NOT EXISTS "+ni+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+Zo+".id AS id, "+ei+".json AS data FROM "+ei+" JOIN "+Zo+" ON "+ei+".seq = "+Zo+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!o.length)return t(e);var n=o.shift(),i=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+ni+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(e){e.executeSql("DELETE FROM "+Zo+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+ei+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function i(e,t){function n(n){function r(){if(!n.length)return t(e);var o=n.shift(),i=Ct(o.hex,g),a=i.lastIndexOf("::"),u=i.substring(0,a),s=i.substring(a+2),c="UPDATE "+ei+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[u,s,i],function(){r()})}r()}var r="ALTER TABLE "+ei+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+ei+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(ci,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+ei;e.executeSql(t,[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o));n(r)})})})})}function a(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+ti;e.executeSql(n,[],function(e,n){function r(){var n=zt(pi+", "+Zo+".id AS id",[Zo,ei],hi,null,Zo+".id ");n+=" LIMIT "+i+" OFFSET "+o,o+=i,e.executeSql(n,[],function(e,n){if(!n.rows.length)return t(e);for(var o={},i=0;i<n.rows.length;i++)for(var a=n.rows.item(i),u=Nt(a.data,a.id,a.rev),s=Object.keys(u._attachments||{}),c=0;c<s.length;c++){var l=u._attachments[s[c]];!function(e,t){var n=o[e]=o[e]||[];-1===n.indexOf(t)&&n.push(t)}(l.digest,a.seq)}var f=[];if(Object.keys(o).forEach(function(e){o[e].forEach(function(t){f.push([e,t])})}),!f.length)return r();var d=0;f.forEach(function(t){var n="INSERT INTO "+oi+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++d===f.length&&r()})})})}if(!n.rows.item(0).cnt)return t(e);var o=0,i=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+oi+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(di,[],function(e){e.executeSql(fi,[],n)})})}function u(e,t){var n="ALTER TABLE "+ti+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function c(e,t){var n="ALTER TABLE "+Zo+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+Zo+" SET max_seq=(SELECT MAX(seq) FROM "+ei+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Zo+" (max_seq)";e.executeSql(n,[],t)})})}function f(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;g=2===r.length?"UTF-8":"UTF-16",t()})}function d(){for(;E.length>0;){E.pop()(null,_)}}function h(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+ri+" (dbid, db_version INTEGER)",s="CREATE TABLE IF NOT EXISTS "+ti+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",l="CREATE TABLE IF NOT EXISTS "+oi+" (digest, seq INTEGER)",f="CREATE TABLE IF NOT EXISTS "+Zo+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",h="CREATE TABLE IF NOT EXISTS "+ei+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+ni+" (id UNIQUE, rev, json)";e.executeSql(s),e.executeSql(p),e.executeSql(l,[],function(){e.executeSql(fi),e.executeSql(di)}),e.executeSql(f,[],function(){e.executeSql(li),e.executeSql(h,[],function(){e.executeSql(si),e.executeSql(ci),e.executeSql(n,[],function(){var t="INSERT INTO "+ri+" (db_version, dbid) VALUES (?,?)";_=Y();var n=[Qo,_];e.executeSql(t,n,function(){d()})})})})}else{var v=function(){t<Qo&&e.executeSql("UPDATE "+ri+" SET db_version = "+Qo);var n="SELECT dbid FROM "+ri;e.executeSql(n,[],function(e,t){_=t.rows.item(0).dbid,d()})},y=[r,o,i,a,u,c,v],m=t,g=function(e){y[m-1](e,g),m++};g(e)}}function p(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+ri;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+ri,[],function(e,t){h(e,t.rows.item(0).db_version)}):e.executeSql("ALTER TABLE "+ri+" ADD COLUMN db_version INTEGER",[],function(){h(e,1)}):h(e,0)})}function v(e,t){var n="SELECT MAX(seq) AS seq FROM "+ei;e.executeSql(n,[],function(e,n){var r=n.rows.item(0).seq||0;t(r)})}function y(e,t){var n=zt("COUNT("+Zo+".id) AS 'num'",[Zo,ei],hi,ei+".deleted=0");e.executeSql(n,[],function(e,n){t(n.rows.item(0).num)})}function m(e,t,n,r,o){var i=zt(pi,[Zo,ei],hi,Zo+".id=?"),a=[t];e.executeSql(i,a,function(e,t){if(!t.rows.length){var i=T(so,"missing");return o(i)}var a=t.rows.item(0),u=nt(a.metadata);r(le(n,u))})}var g,b=this,_=null,k=Bt(e),E=[];b._name=e.name;var x=ao({},e,{version:ui,description:e.name,size:k}),S=$t(x);if(S.error)return qt(t)(S.error);var O=S.db;"function"!=typeof O.readTransaction&&(O.readTransaction=O.transaction),function(){O.transaction(function(e){f(e,function(){p(e)})},qt(t),n)}(),b.type=function(){return"websql"},b._id=l(function(e){e(null,_)}),b._info=function(e){var t,n;O.readTransaction(function(e){v(e,function(e){t=e}),y(e,function(e){n=e})},qt(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:g})})},b._bulkDocs=function(t,n,r){Ut(e,t,n,b,O,ai,r)},b._get=function(e,t,n){function r(e){n(e,{doc:o,metadata:i,ctx:a})}var o,i,a=t.ctx;if(!a)return O.readTransaction(function(r){b._get(e,ao({ctx:r},t),n)});var u,s;if(t.rev){if(t.latest)return void m(a,e,t.rev,function(r){t.latest=!1,t.rev=r,b._get(e,t,n)},r);u=zt(pi,[Zo,ei],Zo+".id="+ei+".doc_id",[ei+".doc_id=?",ei+".rev=?"]),s=[e,t.rev]}else u=zt(pi,[Zo,ei],hi,Zo+".id=?"),s=[e];a.executeSql(u,s,function(e,n){if(!n.rows.length){return r(T(so,"missing"))}var a=n.rows.item(0);if(i=nt(a.metadata),a.deleted&&!t.rev){return r(T(so,"deleted"))}o=Nt(a.data,i.id,a.rev),r()})},b._allDocs=function(e,t){var n,r=[],o="startkey"in e&&e.startkey,i="endkey"in e&&e.endkey,a="key"in e&&e.key,u="descending"in e&&e.descending,s="limit"in e?e.limit:-1,c="skip"in e?e.skip:0,l=!1!==e.inclusive_end,f=[],d=[];if(!1!==a)d.push(Zo+".id = ?"),f.push(a);else if(!1!==o||!1!==i){if(!1!==o&&(d.push(Zo+".id "+(u?"<=":">=")+" ?"),f.push(o)),!1!==i){var h=u?">":"<";l&&(h+="="),d.push(Zo+".id "+h+" ?"),f.push(i)}!1!==a&&(d.push(Zo+".id = ?"),f.push(a))}"ok"!==e.deleted&&d.push(ei+".deleted = 0"),O.readTransaction(function(t){if(y(t,function(e){n=e}),0!==s){var o=zt(pi,[Zo,ei],hi,d,Zo+".id "+(u?"DESC":"ASC"));o+=" LIMIT "+s+" OFFSET "+c,t.executeSql(o,f,function(t,n){for(var o=0,i=n.rows.length;o<i;o++){var a=n.rows.item(o),u=nt(a.metadata),s=u.id,c=Nt(a.data,s,a.rev),l=c._rev,f={id:s,key:s,value:{rev:l}};if(e.include_docs){if(f.doc=c,f.doc._rev=l,e.conflicts){var d=V(u);d.length&&(f.doc._conflicts=d)}Wt(f.doc,e,b,t)}if(a.deleted){if("ok"!==e.deleted)continue;f.value.deleted=!0,f.doc=null}r.push(f)}})}},qt(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},b._changes=function(e){if(e=s(e),e.continuous){var t=b._name+":"+Y();return ai.addListener(b._name,t,b,e),ai.notify(b._name),{cancel:function(){ai.removeListener(b._name,t)}}}var n=e.descending;e.since=e.since&&!n?e.since:0;var r="limit"in e?e.limit:-1;0===r&&(r=1);var o;o="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var i=[],a=0;!function(){var t=Zo+".json AS metadata, "+Zo+".max_seq AS maxSeq, "+ei+".json AS winningDoc, "+ei+".rev AS winningRev ",u=Zo+" JOIN "+ei,s=Zo+".id="+ei+".doc_id AND "+Zo+".winningseq="+ei+".seq",c=["maxSeq > ?"],l=[e.since];e.doc_ids&&(c.push(Zo+".id IN "+Ft(e.doc_ids.length)),l=l.concat(e.doc_ids));var f="maxSeq "+(n?"DESC":"ASC"),d=zt(t,u,s,c,f),h=M(e);e.view||e.filter||(d+=" LIMIT "+r);var p=e.since||0;O.readTransaction(function(t){t.executeSql(d,l,function(t,n){function u(t){return function(){e.onChange(t)}}for(var s=0,c=n.rows.length;s<c;s++){var l=n.rows.item(s),f=nt(l.metadata);p=l.maxSeq;var d=Nt(l.winningDoc,f.id,l.winningRev),v=e.processChange(d,f,e);v.seq=l.maxSeq;var y=h(v);if("object"==typeof y)return e.complete(y);if(y&&(a++,o&&i.push(v),e.attachments&&e.include_docs?Wt(d,e,b,t,u(v)):u(v)()),a===r)break}})},qt(e.complete),function(){e.continuous||e.complete(null,{results:i,last_seq:p})})}()},b._close=function(e){e()},b._getAttachment=function(e,t,n,r,o){var i,a=r.ctx,u=n.digest,s=n.content_type,c="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+ti+" WHERE digest=?";a.executeSql(c,[u],function(e,t){var n=t.rows.item(0),a=n.escaped?It(n.body):Ct(n.body,g);i=r.binary?Pe(a,s):Po(a),o(null,i)})},b._getRevisionTree=function(e,t){O.readTransaction(function(n){var r="SELECT json AS metadata FROM "+Zo+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=nt(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(T(so))})})},b._doCompaction=function(e,t,n){if(!t.length)return n();O.transaction(function(n){var r="SELECT json AS metadata FROM "+Zo+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var o=nt(r.rows.item(0).metadata);$(o.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")});var i="UPDATE "+Zo+" SET json = ? WHERE id = ?";n.executeSql(i,[rt(o),e])}),Lt(t,e,n)},qt(n),function(){n()})},b._getLocal=function(e,t){O.readTransaction(function(n){var r="SELECT json, rev FROM "+ni+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var o=r.rows.item(0),i=Nt(o.json,e,o.rev);t(null,i)}else t(T(so))})})},b._putLocal=function(e,t,n){function r(e){var r,c;i?(r="UPDATE "+ni+" SET rev=?, json=? WHERE id=? AND rev=?",c=[o,s,a,i]):(r="INSERT INTO "+ni+" (id, rev, json) VALUES (?,?,?)",c=[a,o,s]),e.executeSql(r,c,function(e,r){r.rowsAffected?(u={ok:!0,id:a,rev:o},t.ctx&&n(null,u)):n(T(co))},function(){return n(T(co)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var o,i=e._rev,a=e._id;o=e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var u,s=Pt(e);t.ctx?r(t.ctx):O.transaction(r,qt(n),function(){u&&n(null,u)})},b._removeLocal=function(e,t,n){function r(r){var i="DELETE FROM "+ni+" WHERE id=? AND rev=?",a=[e._id,e._rev];r.executeSql(i,a,function(r,i){if(!i.rowsAffected)return n(T(so));o={ok:!0,id:e._id,rev:"0-0"},t.ctx&&n(null,o)})}"function"==typeof t&&(n=t,t={});var o;t.ctx?r(t.ctx):O.transaction(r,qt(n),function(){o&&n(null,o)})},b._destroy=function(e,t){ai.removeAllListeners(b._name),O.transaction(function(e){[Zo,ei,ti,ri,ni,oi].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},qt(t),function(){w()&&(delete window.localStorage["_pouch__websqldb_"+b._name],delete window.localStorage[b._name]),t(null,{ok:!0})})}}function Vt(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}function Xt(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=w(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=Vt();return e&&(localStorage[t]=n?"1":"0"),n}function Jt(){return"function"==typeof openDatabase&&Xt()}function Kt(e,t,n,r){return openDatabase(e,t,n,r)}function Qt(e,t){var n=ao({websql:Kt},e);Gt.call(this,n,t)}function Zt(){for(var e={},t=new Kr(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,Kr.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function en(e,t){var n,r,o,i=new Headers,a={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?a.body=JSON.stringify(e.body):a.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),n=Zt(e.url,a),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):(e.status=o.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:n.reject}}function tn(e,t){var n,r,o=!1,i=function(){n.abort(),s()},a=function(){o=!0,n.abort(),s()},u={abort:i},s=function(){clearTimeout(r),u.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(r=setTimeout(a,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(a,e.timeout))},void 0!==n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?Re([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var a={};if(o)a=new Error("ETIMEDOUT"),a.code="ETIMEDOUT";else if("string"==typeof n.response)try{a=JSON.parse(n.response)}catch(e){}a.status=n.status,t(a)}s()}},e.body&&e.body instanceof Blob?Be(e.body,function(e){n.send(e)}):n.send(e.body),u}function nn(e,t){return yi||e.xhr?tn(e,t):en(e,t)}function rn(){return""}function on(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?D(e):e})),e.binary&&mi(t,n),r(null,t,n)}return e=s(e),e=ao({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),nn(e,function(r,o,i){if(r)return t(D(r));var a,u=o.headers&&o.headers["content-type"],s=i||rn();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof s&&(/json/.test(u)||/^[\s]*\{/.test(s)&&/\}[\s]*$/.test(s)))try{s=JSON.parse(s.toString())}catch(e){}o.statusCode>=200&&o.statusCode<300?n(s,o,t):(a=D(s),a.status=o.statusCode,t(a))})}function an(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),o=-1!==n.indexOf("msie"),i=-1!==n.indexOf("edge"),a=r||(o||i)&&"GET"===e.method,u=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(a||!u)){var s=-1!==e.url.indexOf("?");e.url+=(s?"&":"?")+"_nonce="+Date.now()}return on(e,t)}function un(e,t){return new Kr(function(n,r){function o(){l++,e[f++]().then(a,u)}function i(){++d===h?c?r(c):n():s()}function a(){l--,i()}function u(e){l--,c=c||e,i()}function s(){for(;l<t&&f<h;)o()}var c,l=0,f=0,d=0,h=e.length;s()})}function sn(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=Ne(n.data,n.content_type)})}function cn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function ln(e){return e._attachments&&Object.keys(e._attachments)?Kr.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Kr(function(e){qe(n.data,e)}).then(function(e){n.data=e})})):Kr.resolve()}function fn(e){if(!e.prefix)return!1;var t=L(e.prefix).protocol;return"http"===t||"https"===t}function dn(e,t){if(fn(t)){var n=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(n)}var r=L(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function hn(e,t){return pn(e,e.db+"/"+t)}function pn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function vn(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function yn(e,t){function n(e,t,n){var r=e.ajax||{},o=ao(s(h),r,t);return wi(o.method+" "+o.url),u._ajax(o,n)}function r(e,t){return new Kr(function(r,o){n(e,t,function(e,t){if(e)return o(e);r(t)})})}function o(e,t){return f(e,Yr(function(e){i().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}))}function i(){return e.skipSetup||e.skip_setup?Kr.resolve():m||(m=r({},{method:"GET",url:l}).catch(function(e){return e&&e.status&&404===e.status?(A(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:l})):Kr.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||Kr.reject(e)}),m.catch(function(){m=null}),m)}function a(e){return e.split("/").map(encodeURIComponent).join("/")}var u=this,c=dn(e.name,e),l=hn(c,"");e=s(e);var h=e.ajax||{};if(e.auth||c.auth){var p=e.auth||c.auth,v=p.username+":"+p.password,y=Po(unescape(encodeURIComponent(v)));h.headers=h.headers||{},h.headers.Authorization="Basic "+y}u._ajax=an;var m;Gr(function(){t(null,u)}),u.type=function(){return"http"},u.id=o("id",function(e){n({},{method:"GET",url:pn(c,"")},function(t,n){var r=n&&n.uuid?n.uuid+c.db:hn(c,"");e(null,r)})}),u.request=o("request",function(e,t){e.url=hn(c,e.url),n({},e,t)}),u.compact=o("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=s(e),n(e,{url:hn(c,"_compact"),method:"POST"},function(){function n(){u.info(function(r,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),u.bulkGet=f("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),n(e,{url:hn(c,"_bulk_get"+vn(r)),method:"POST",body:{docs:e.docs}},t)}function o(){for(var n=bi,r=Math.ceil(e.docs.length/n),o=0,a=new Array(r),u=0;u<r;u++){var s=d(e,["revs","attachments","latest"]);s.ajax=h,s.docs=e.docs.slice(u*n,Math.min(e.docs.length,(u+1)*n)),b(i,s,function(e){return function(n,i){a[e]=i.results,++o===r&&t(null,{results:R(a)})}}(u))}}var i=this,a=pn(c,""),u=_i[a];"boolean"!=typeof u?r(function(e,n){e?(_i[a]=!1,A(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(_i[a]=!0,t(null,n))}):u?r(t):o()}),u._info=function(e){i().then(function(){n({},{method:"GET",url:hn(c,"")},function(t,n){if(t)return e(t);n.host=hn(c,""),e(null,n)})}).catch(e)},u.get=o("get",function(e,t,n){function o(e){function n(n){var i=o[n],u=cn(e._id)+"/"+a(n)+"?rev="+e._rev;return r(t,{method:"GET",url:hn(c,u),binary:!0}).then(function(e){return t.binary?e:new Kr(function(t){qe(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}var o=e._attachments,i=o&&Object.keys(o);if(o&&i.length){return un(i.map(function(e){return function(){return n(e)}}),5)}}function i(e){return Array.isArray(e)?Kr.all(e.map(function(e){if(e.ok)return o(e.ok)})):o(e)}"function"==typeof t&&(n=t,t={}),t=s(t);var u={};t.revs&&(u.revs=!0),t.revs_info&&(u.revs_info=!0),t.latest&&(u.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),u.open_revs=t.open_revs),t.rev&&(u.rev=t.rev),t.conflicts&&(u.conflicts=t.conflicts),e=cn(e);var l={method:"GET",url:hn(c,e+vn(u))};r(t,l).then(function(e){return Kr.resolve().then(function(){if(t.attachments)return i(e)}).then(function(){n(null,e)})}).catch(n)}),u.remove=o("remove",function(e,t,r,o){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(i=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var a=i._rev||r.rev;n(r,{method:"DELETE",url:hn(c,cn(i._id))+"?rev="+a},o)}),u.getAttachment=o("getAttachment",function(e,t,r,o){"function"==typeof r&&(o=r,r={});var i=r.rev?"?rev="+r.rev:"";n(r,{method:"GET",url:hn(c,cn(e))+"/"+a(t)+i,binary:!0},o)}),u.removeAttachment=o("removeAttachment",function(e,t,r,o){n({},{method:"DELETE",url:hn(c,cn(e)+"/"+a(t))+"?rev="+r},o)}),u.putAttachment=o("putAttachment",function(e,t,r,o,i,u){"function"==typeof i&&(u=i,i=o,o=r,r=null);var s=cn(e)+"/"+a(t),l=hn(c,s);if(r&&(l+="?rev="+r),"string"==typeof o){var f;try{f=Io(o)}catch(e){return u(T(vo,"Attachment is not a valid base64 string"))}o=f?Pe(f,i):""}n({},{headers:{"Content-Type":i},method:"PUT",url:l,processData:!1,body:o,timeout:h.timeout||6e4},u)}),u._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,i().then(function(){return Kr.all(e.docs.map(ln))}).then(function(){n(t,{method:"POST",url:hn(c,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return r(e);t.forEach(function(e){e.ok=!0}),r(null,t)})}).catch(r)},u._put=function(e,t,r){i().then(function(){return ln(e)}).then(function(){n(t,{method:"PUT",url:hn(c,cn(e._id)),body:e},function(e,t){if(e)return r(e);r(null,t)})}).catch(r)},u.allDocs=o("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=s(e);var n,o={},i="GET";e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(o.limit=e.limit),void 0!==e.skip&&(o.skip=e.skip);var a=vn(o);void 0!==e.keys&&(i="POST",n={keys:e.keys}),r(e,{method:i,url:hn(c,"_all_docs"+a),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(sn),t(null,n)}).catch(t)}),u._changes=function(e){var t="batch_size"in e?e.batch_size:gi;e=s(e),e.timeout="timeout"in e?e.timeout:"timeout"in h?h.timeout:3e4;var r,o=e.timeout?{timeout:e.timeout-5e3}:{},a=void 0!==e.limit&&e.limit;r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var u=a;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),"heartbeat"in e?e.heartbeat&&(o.heartbeat=e.heartbeat):e.continuous&&(o.heartbeat=1e4),e.filter&&"string"==typeof e.filter&&(o.filter=e.filter),e.view&&"string"==typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var l in e.query_params)e.query_params.hasOwnProperty(l)&&(o[l]=e.query_params[l]);var f,d="GET";e.doc_ids&&(o.filter="_doc_ids",d="POST",f={doc_ids:e.doc_ids});var p,v,y=function(r,s){if(!e.aborted){o.since=r,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),e.descending?a&&(o.limit=u):o.limit=!a||u>t?t:u;var l={method:d,url:hn(c,"_changes"+vn(o)),timeout:e.timeout,body:f};v=r,e.aborted||i().then(function(){p=n(e,l,s)}).catch(s)}},m={results:[]},g=function(n,o){if(!e.aborted){var i=0;if(o&&o.results){i=o.results.length,m.last_seq=o.last_seq;({}).query=e.query_params,o.results=o.results.filter(function(t){u--;var n=M(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&sn(t),r&&m.results.push(t),e.onChange(t)),n})}else if(n)return e.aborted=!0,void e.complete(n);o&&o.last_seq&&(v=o.last_seq);var s=a&&u<=0||o&&i<t||e.descending;(!e.continuous||a&&u<=0)&&s?e.complete(null,m):Gr(function(){y(v,g)})}};return y(e.since||0,g),{cancel:function(){e.aborted=!0,p&&p.abort()}}},u.revsDiff=o("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:hn(c,"_revs_diff"),body:e},r)}),u._close=function(e){e()},u._destroy=function(e,t){n(e,{url:hn(c,""),method:"DELETE"},function(e,n){if(e&&e.status&&404!==e.status)return t(e);t(null,n)})}}function mn(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}function gn(e,t,n){return mn(e,t,n)+e}function bn(e,t){if(e===t)return 0;e=_n(e),t=_n(t);var n=Tn(e),r=Tn(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return An(e,t)}return Array.isArray(e)?On(e,t):jn(e,t)}function _n(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=_n(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];void 0!==i&&(e[o]=_n(i))}}}}return e}function wn(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return Dn(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,o=n.length,i="";if(t)for(;++r<o;)i+=kn(n[r]);else for(;++r<o;){var a=n[r];i+=kn(a)+kn(e[a])}return i}return""}function kn(e){return e=_n(e),Tn(e)+Si+wn(e)+"\0"}function En(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+xi),u=parseInt(a,10)+Ei;for(o&&(u=-u),t+=xi;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function xn(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function Sn(e){for(var t=[],n=[],r=0;;){var o=e[r++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=En(e,r);t.push(i.num),r+=i.length;break;case"4":for(var a="";;){var u=e[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var s={element:[],index:t.length};t.push(s.element),n.push(s);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();xn(t,n)}}}function On(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=bn(e[r],t[r]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function An(e,t){return e===t?0:e>t?1:-1}function jn(e,t){for(var n=Object.keys(e),r=Object.keys(t),o=Math.min(n.length,r.length),i=0;i<o;i++){var a=bn(n[i],r[i]);if(0!==a)return a;if(0!==(a=bn(e[n[i]],t[r[i]])))return a}return n.length===r.length?0:n.length>r.length?1:-1}function Tn(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function Dn(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-Ei,a=gn(i.toString(),"0",xi);o+=Si+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=Si+s}function Cn(){this.promise=new Kr(function(e){e()})}function Mn(e){var t,n=e.db,r=e.viewName,o=e.map,i=e.reduce,a=e.temporary,u=o.toString()+(i&&i.toString())+"undefined";if(!a&&(t=n._cachedViews=n._cachedViews||{},t[u]))return t[u];var s=n.info().then(function(e){function s(e){e.views=e.views||{};var t=r;-1===t.indexOf("/")&&(t=r+"/"+r);var n=e.views[t]=e.views[t]||{};if(!n[c])return n[c]=!0,e}var c=e.db_name+"-mrview-"+(a?"temp":Ge(u));return q(n,"_local/mrviews",s).then(function(){return n.registerDependentDatabase(c).then(function(e){var r=e.db;r.auto_compaction=!0;var a={name:c,db:r,sourceDB:n,adapter:n.adapter,mapFun:o,reduceFun:i};return a.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return a.seq=e?e.seq:0,t&&a.db.once("destroyed",function(){delete t[u]}),a})})})});return t&&(t[u]=s),s}function Rn(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Rn)}catch(e){}}function In(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,In)}catch(e){}}function Pn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Pn)}catch(e){}}function Nn(e){return new Pn("builtin "+e+" function requires map values to be numbers or number arrays")}function Fn(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];if("number"!=typeof o){if(!Array.isArray(o))throw Nn("_sum");t="number"==typeof t?[t]:t;for(var i=0,a=o.length;i<a;i++){var u=o[i];if("number"!=typeof u)throw Nn("_sum");void 0===t[i]?t.push(u):t[i]+=u}}else"number"==typeof t?t+=o:t[0]+=o}return t}function zn(e,t){return Vr("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Fn,log:Oi,isArray:Ai,toJSON:ji})}function Ln(e,t){return t&&e.then(function(e){Gr(function(){t(null,e)})},function(e){Gr(function(){t(e)})}),e}function qn(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function Bn(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function Un(e){var t=new to(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function Yn(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function Hn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function $n(e){return 1===e.length&&/^1-/.test(e[0].rev)}function Wn(e,t){try{e.emit("error",t)}catch(e){x("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),x("error",t)}}function Gn(e,t,n){try{t(n)}catch(t){Wn(e,t)}}function Vn(e,t,n,r,o){try{return{output:t(n,r,o)}}catch(t){return Wn(e,t),{error:t}}}function Xn(e,t){var n=bn(e.key,t.key);return 0!==n?n:bn(e.value,t.value)}function Jn(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function Kn(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function Qn(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Ne(n.data,n.content_type)})})}function Zn(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&Qn(t),t}}function er(e,t,n,r){var o=t[e];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function tr(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function nr(e){return e.group_level=tr(e.group_level),e.limit=tr(e.limit),e.skip=tr(e.skip),e}function rr(e){if(e){if("number"!=typeof e)return new Rn('Invalid value for integer: "'+e+'"');if(e<0)return new Rn('Invalid value for positive integer: "'+e+'"')}}function or(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&bn(e[n],e[r])>0)throw new Rn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new Rn("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new Rn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=rr(e[t]);if(n)throw n})}function ir(e,t,n){var r,o=[],i="GET";if(er("reduce",n,o),er("include_docs",n,o),er("attachments",n,o),er("limit",n,o),er("descending",n,o),er("group",n,o),er("group_level",n,o),er("skip",n,o),er("stale",n,o),er("conflicts",n,o),er("startkey",n,o,!0),er("start_key",n,o,!0),er("endkey",n,o,!0),er("end_key",n,o,!0),er("inclusive_end",n,o),er("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==n.keys){var a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var u=Hn(t);return e.request({method:i,url:"_design/"+u[0]+"/_view/"+u[1]+o,body:r}).then(Zn(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:r}).then(Zn(n))}function ar(e,t,n){return new Kr(function(r,o){e._query(t,n,function(e,t){if(e)return o(e);r(t)})})}function ur(e){return new Kr(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}function sr(e){return function(t){if(404===t.status)return e;throw t}}function cr(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Kr.resolve({rows:[]})}function o(e,t){for(var n=[],r=new to,o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r.add(u._id),u._deleted=!s.has(u._id),!u._deleted)){var c=s.get(u._id);"value"in c&&(u.value=c.value)}}var l=Yn(s);return l.forEach(function(e){if(!r.has(e)){var t={_id:e},o=s.get(e);"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=Un(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,a={_id:i,keys:[]},u=n.get(e),s=u[0],c=u[1];return function(){return $n(c)?Kr.resolve(a):t.db.get(i).catch(sr(a))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function lr(e,t,n){return e.db.get("_local/lastSeq").catch(sr({_id:"_local/lastSeq",seq:0})).then(function(r){var o=Yn(t);return Kr.all(o.map(function(n){return cr(n,e,t)})).then(function(t){var o=R(t);return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function fr(e){var t="string"==typeof e?e:e.name,n=Ti[t];return n||(n=Ti[t]=new Cn),n}function dr(e){return Bn(fr(e),function(){return hr(e)})()}function hr(e){function t(e,t){var n={id:s._id,key:_n(e)};void 0!==t&&null!==t&&(n.value=_n(t)),u.push(n)}function n(t,n){return function(){return lr(e,t,n)}}function r(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:f,limit:Ci}).then(o)}function o(e){var t=e.results;if(t.length){var o=i(t);if(d.add(n(o,f)),!(t.length<Ci))return r()}}function i(t){for(var n=new no,r=0,o=t.length;r<o;r++){var i=t[r];if("_"!==i.doc._id[0]){u=[],s=i.doc,s._deleted||Gn(e.sourceDB,c,s),u.sort(Xn);var l=a(u);n.set(i.doc._id,[l,i.changes])}f=i.seq}return n}function a(e){for(var t,n=new no,r=0,o=e.length;r<o;r++){var i=e[r],a=[i.key,i.id];r>0&&0===bn(i.key,t)&&a.push(r),n.set(kn(a),i),t=i.key}return n}var u,s,c;if("function"==typeof e.mapFun&&2===e.mapFun.length){var l=e.mapFun;c=function(e){return l(e,t)}}else c=zn(e.mapFun.toString(),t);var f=e.seq||0,d=new Cn;return r().then(function(){return d.finish()}).then(function(){e.seq=f})}function pr(e,t,n){0===n.group_level&&delete n.group_level;var r,o=n.group||n.group_level;r=Mi[e.reduceFun]?Mi[e.reduceFun]:zn(e.reduceFun.toString());var i=[],a=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=i[i.length-1],n=o?e.key:null;if(o&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===bn(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);i.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var u=0,s=i.length;u<s;u++){var c=i[u],l=Vn(e.sourceDB,r,c.keys,c.values,!1);if(l.error&&l.error instanceof Pn)throw l.error;t.push({value:l.error?null:l.output,key:c.groupKey})}return{rows:Jn(t,n.limit,n.skip)}}function vr(e,t){return Bn(fr(e),function(){return yr(e,t)})()}function yr(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=Sn(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?pr(e,n,t):{total_rows:o,offset:a,rows:n},t.include_docs){var u=Un(n.map(Kn));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new no;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),n.forEach(function(e){var n=Kn(e),r=t.get(n);r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var u=t.keys,s=u.map(function(e){return n({startkey:kn([e]),endkey:kn([e,{}])})});return Kr.all(s).then(R).then(r)}var c={descending:t.descending};if(t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),void 0!==t.startkey&&(c.startkey=kn(t.descending?[t.startkey,{}]:[t.startkey])),void 0!==t.endkey){var l=!1!==t.inclusive_end;t.descending&&(l=!l),c.endkey=kn(l?[t.endkey,{}]:[t.endkey])}if(void 0!==t.key){var f=kn([t.key]),d=kn([t.key,{}]);c.descending?(c.endkey=f,c.startkey=d):(c.startkey=f,c.endkey=d)}return i||("number"==typeof t.limit&&(c.limit=t.limit),c.skip=a),n(c).then(r)}function mr(e){return e.request({method:"POST",url:"_view_cleanup"})}function gr(e){return e.get("_local/mrviews").then(function(t){var n=new no;Object.keys(t.views).forEach(function(e){var t=Hn(e),r="_design/"+t[0],o=t[1],i=n.get(r);i||(i=new to,n.set(r,i)),i.add(o)});var r={keys:Yn(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var a=Object.keys(t.views[i]),u=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(t){return Bn(fr(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return Kr.all(a).then(function(){return{ok:!0}})})},sr({ok:!0}))}function br(e,t,n){if("http"===e.type())return ir(e,t,n);if("function"==typeof e._query)return ar(e,t,n);if("string"!=typeof t){or(n,t);var r={db:e,viewName:"temp_view/temp_view",map:t.map,reduce:t.reduce,temporary:!0};return Di.add(function(){return Mn(r).then(function(e){function t(){return e.db.destroy()}return qn(dr(e).then(function(){return vr(e,n)}),t)})}),Di.finish()}var o=t,i=Hn(o),a=i[0],u=i[1];return e.get("_design/"+a).then(function(t){var r=t.views&&t.views[u];if(!r||"string"!=typeof r.map)throw new In("ddoc "+a+" has no view named "+u);return or(n,r),Mn({db:e,viewName:o,map:r.map,reduce:r.reduce}).then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&Gr(function(){dr(e)}),vr(e,n)):dr(e).then(function(){return vr(e,n)})})})}function _r(e){return/^1-/.test(e)}function wr(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function kr(e,t){var n=Object.keys(t._attachments);return Kr.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function Er(e,t,n){var r="http"===t.type()&&"http"!==e.type(),o=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return Kr.all(o.map(function(o){return wr(r,n,o)?t.getAttachment(n._id,o):e.getAttachment(r._id,o)}))}).catch(function(e){if(404!==e.status)throw e;return kr(t,n)}):kr(t,n)}function xr(e){var t=[];return Object.keys(e).forEach(function(n){e[n].missing.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}function Sr(e,t,n,r){function o(){var o=xr(n);if(o.docs.length)return e.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return Kr.all(n.results.map(function(n){return Kr.all(n.docs.map(function(n){var r=n.ok;return n.error&&(d=!1),r&&r._attachments?Er(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var o=r._attachments[t[n]];delete o.stub,delete o.length,o.data=e}),r}):r}))})).then(function(e){f=f.concat(R(e).filter(Boolean))})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function a(e){return e._conflicts&&e._conflicts.length>0}function u(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!_r(e.value.rev)||i(e.doc)||a(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,f.push(e.doc),delete n[e.id])})})}function c(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&_r(t[0])});if(e.length>0)return u(e)}function l(){return{ok:d,docs:f}}n=s(n);var f=[],d=!0;return Kr.resolve().then(c).then(o).then(l)}function Or(e,t,n,r,o){return e.get(t).catch(function(n){if(404===n.status)return"http"===e.type()&&A(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:Fi,version:Ni};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(e){return e.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,zi),i.version=Ni,i.replicator=Fi,i.session_id=r,i.last_seq=n,e.put(i).catch(function(i){if(409===i.status)return Or(e,t,n,r,o);throw i})})}function Ar(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}function jr(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:Tr(e.history,t.history)}function Tr(e,t){var n=e[0],r=e.slice(1),o=t[0],i=t.slice(1);return n&&0!==t.length?Dr(n.session_id,t)?{last_seq:n.last_seq,history:e}:Dr(o.session_id,r)?{last_seq:o.last_seq,history:i}:Tr(r,i):{last_seq:Li,history:[]}}function Dr(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Dr(e,r))}function Cr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function Mr(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=O),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=Bi},i=function(){t.removeListener("active",o)};t.once("paused",i),t.once("active",o)}e.current_back_off=e.current_back_off||Bi,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function Rr(e){return Object.keys(e).sort(bn).reduce(function(t,n){return t[n]=e[n],t},{})}function Ir(e,t,n){var r=n.doc_ids?n.doc_ids.sort(bn):"",o=n.filter?n.filter.toString():"",i="",a="";return n.filter&&n.query_params&&(i=JSON.stringify(Rr(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Kr.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+o+a+i+r;return new Kr(function(e){We(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}function Pr(e,t,n,r,o){function i(){return E?Kr.resolve():Ir(e,t,n).then(function(n){k=n,E=new Ar(e,t,k,r)})}function a(){if(N=[],0!==w.docs.length){var e=w.docs,i={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=e.length-i,e.forEach(function(e){var t=n[e._id];if(t){if(o.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;r.emit("denied",s(t))}else N.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function u(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=T=w.seq;var e=s(o);return N.length&&(e.docs=N,r.emit("change",e)),O=!0,E.writeCheckpoint(w.seq,F).then(function(){if(O=!1,r.cancelled)throw p(),new Error("cancelled");w=void 0,g()}).catch(function(e){throw _(e),e})}function c(){var e={};return w.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");w.diffs=e})}function l(){return Sr(e,t,w.diffs,r).then(function(e){w.error=!e.ok,e.docs.forEach(function(e){delete w.diffs[e._id],o.docs_read++,w.docs.push(e)})})}function f(){if(!r.cancelled&&!w){if(0===x.length)return void d(!0);w=x.shift(),c().then(l).then(a).then(u).then(f).catch(function(e){h("batch processing terminated with error",e)})}}function d(e){if(0===S.changes.length)return void(0!==x.length||w||((D&&z.live||A)&&(r.state="pending",r.emit("paused")),A&&p()));(e||A||S.changes.length>=C)&&(x.push(S),S={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),f())}function h(e,t){j||(t.message||(t.message=e),o.ok=!1,o.status="aborting",x=[],S={seq:0,changes:[],docs:[]},p(t))}function p(i){j||r.cancelled&&(o.status="cancelled",O)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=T,j=!0,i?(i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):Mr(n,r,i,function(){Pr(e,t,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function v(e){if(r.cancelled)return p();M(n)(e)&&(S.seq=e.seq,S.changes.push(e),d(0===x.length&&z.live))}function y(e){if(I=!1,r.cancelled)return p();if(e.results.length>0)z.since=e.last_seq,g(),d(!0);else{var t=function(){D?(z.live=!0,g()):A=!0,d(!0)};w||0!==e.results.length?t():(O=!0,E.writeCheckpoint(e.last_seq,F).then(function(){O=!1,o.last_seq=T=e.last_seq,t()}).catch(_))}}function m(e){if(I=!1,r.cancelled)return p();h("changes rejected",e)}function g(){function t(){i.cancel()}function o(){r.removeListener("cancel",t)}if(!I&&!A&&x.length<R){I=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var i=e.changes(z).on("change",v);i.then(o,o),i.then(y).catch(m),n.retry&&(r._changes=i,r._abortChanges=t)}}function b(){i().then(function(){return r.cancelled?void p():E.getCheckpoint().then(function(e){T=e,z={since:T,limit:C,batch_size:C,style:"all_docs",doc_ids:P,return_docs:!0},n.filter&&("string"!=typeof n.filter?z.include_docs=!0:z.filter=n.filter),"heartbeat"in n&&(z.heartbeat=n.heartbeat),"timeout"in n&&(z.timeout=n.timeout),n.query_params&&(z.query_params=n.query_params),n.view&&(z.view=n.view),g()})}).catch(function(e){h("getCheckpoint rejected with ",e)})}function _(e){O=!1,h("writeCheckpoint completed with error",e)}var w,k,E,x=[],S={seq:0,changes:[],docs:[]},O=!1,A=!1,j=!1,T=0,D=n.continuous||n.live||!1,C=n.batch_size||100,R=n.batches_limit||10,I=!1,P=n.doc_ids,N=[],F=Y();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var z={};if(r.ready(e,t),r.cancelled)return void p();r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void 0===n.since?b():i().then(function(){return O=!0,E.writeCheckpoint(n.since,F)}).then(function(){if(O=!1,r.cancelled)return void p();T=n.since,b()}).catch(_)}function Nr(){$r.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Kr(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function Fr(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function zr(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw T(go,"`doc_ids` filter parameter is not a list.");n.complete=r,n=s(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new Nr(n);return Pr(Fr(e,n),Fr(t,n),n,o),o}function Lr(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n=s(n),n.PouchConstructor=n.PouchConstructor||this,e=Fr(e,n),t=Fr(t,n),new qr(e,t,n,r)}function qr(e,t,n,r){function o(e){p.emit("change",{direction:"pull",change:e})}function i(e){p.emit("change",{direction:"push",change:e})}function a(e){p.emit("denied",{direction:"push",doc:e})}function u(e){p.emit("denied",{direction:"pull",doc:e})}function s(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function c(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function l(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function f(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function d(e){return function(t,n){var r="change"===t&&(n===o||n===i),d="denied"===t&&(n===u||n===a),h="paused"===t&&(n===c||n===s),v="active"===t&&(n===f||n===l);(r||d||h||v)&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&p.removeAllListeners(t))}}function h(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}var p=this;this.canceled=!1;var v=n.push?ao({},n,n.push):n,y=n.pull?ao({},n,n.pull):n;this.push=zr(e,t,v),this.pull=zr(t,e,y),this.pushPaused=!0,this.pullPaused=!0;var m={};n.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(e){"change"===e?(h(p.pull,"change",o),h(p.push,"change",i)):"denied"===e?(h(p.pull,"denied",u),h(p.push,"denied",a)):"active"===e?(h(p.pull,"active",f),h(p.push,"active",l)):"paused"===e&&(h(p.pull,"paused",c),h(p.push,"paused",s))}),this.on("removeListener",function(e){"change"===e?(p.pull.removeListener("change",o),p.push.removeListener("change",i)):"denied"===e?(p.pull.removeListener("denied",u),p.push.removeListener("denied",a)):"active"===e?(p.pull.removeListener("active",f),p.push.removeListener("active",l)):"paused"===e&&(p.pull.removeListener("paused",c),p.push.removeListener("paused",s))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var g=Kr.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return p.emit("complete",t),r&&r(null,t),p.removeAllListeners(),t},function(e){if(p.cancel(),r?r(e):p.emit("error",e),p.removeAllListeners(),r)throw e});this.then=function(e,t){return g.then(e,t)},this.catch=function(e){return g.catch(e)}}function Br(e){e.replicate=zr,e.sync=Lr,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}var Ur=r(n(206)),Yr=r(n(208)),Hr=r(n(209)),$r=n(212),Wr=r(n(213)),Gr=r(n(207)),Vr=r(n(214)),Xr=r(n(215)),Jr=r(n(216)),Kr="function"==typeof Promise?Promise:Ur,Qr=Function.prototype.toString,Zr=Qr.call(Object),eo=Hr("pouchdb:api");v.prototype.get=function(e){var t=h(e);return this._store[t]},v.prototype.set=function(e,t){var n=h(e);return this._store[n]=t,!0},v.prototype.has=function(e){return h(e)in this._store},v.prototype.delete=function(e){var t=h(e),n=t in this._store;return delete this._store[t],n},v.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var o=t[n],i=this._store[o];o=p(o),e(i,o)}},Object.defineProperty(v.prototype,"size",{get:function(){return Object.keys(this._store).length}}),y.prototype.add=function(e){return this._store.set(e,!0)},y.prototype.has=function(e){return this._store.has(e)},y.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(y.prototype,"size",{get:function(){return this._store.size}});var to,no;!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(to=y,no=v):(to=Set,no=Map);var ro,oo=6;if(_())ro=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),ro=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){ro=!1}Wr(E,$r.EventEmitter),E.prototype.addListener=function(e,t,n,r){function o(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var u=d(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(u).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===a&&Gr(o),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=o,this.on(e,o)}},E.prototype.removeListener=function(e,t){t in this._listeners&&($r.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},E.prototype.notifyLocalWindows=function(e){_()?chrome.storage.local.set({dbName:e}):w()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},E.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var io;io="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};var ao=io;Wr(j,Error),j.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var uo=(new j(401,"unauthorized","Name or password is incorrect."),new j(400,"bad_request","Missing JSON list of 'docs'")),so=new j(404,"not_found","missing"),co=new j(409,"conflict","Document update conflict"),lo=new j(400,"bad_request","_id field must contain a string"),fo=new j(412,"missing_id","_id is required for puts"),ho=new j(400,"bad_request","Only reserved document ids may start with underscore."),po=(new j(412,"precondition_failed","Database not open"),new j(500,"unknown_error","Database encountered an unknown error")),vo=new j(500,"badarg","Some query argument is invalid"),yo=(new j(400,"invalid_request","Request was invalid"),new j(400,"query_parse_error","Some query parameter is invalid")),mo=new j(500,"doc_validation","Bad special document member"),go=new j(400,"bad_request","Something wrong with the request"),bo=new j(400,"bad_request","Document must be a JSON object"),_o=(new j(404,"not_found","Database not found"),new j(500,"indexed_db_went_bad","unknown")),wo=new j(500,"web_sql_went_bad","unknown"),ko=(new j(500,"levelDB_went_went_bad","unknown"),new j(403,"forbidden","Forbidden by design doc validate_doc_update function"),new j(400,"bad_request","Invalid rev format")),Eo=(new j(412,"file_exists","The database could not be created, the file already exists."),new j(412,"missing_stub","A pre-existing attachment stub wasn't found")),xo=(new j(413,"invalid_url","Provided URL is invalid"),I.name);var So=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Oo="queryKey",Ao=/(?:^|&)([^&=]*)=?([^&]*)/g,jo=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,To="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Wr(pe,$r.EventEmitter),pe.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},pe.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=s(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=ve,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){if(t.isCancelled)return void n(null,{status:"cancelled"});e.since=r.update_seq,t.doChanges(e)},n);if(e.view&&!e.filter&&(e.filter="_view"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=z(e.view):e.filter=z(e.filter),"http"!==this.db.type()&&!e.doc_ids))return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var o=t.cancel;t.cancel=Yr(function(e){r.cancel(),o.apply(this,e)})}},pe.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=T(go,"`view` filter parameter not found or invalid.");return n(r)}var o=F(e.view);this.db.get("_design/"+o[0],function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(D(r));var a=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;if(!a)return n(T(so,i.views?"missing json key: "+o[1]:"missing json key: views"));e.filter=de(a),t.doChanges(e)})}else{var i=F(e.filter);if(!i)return t.doChanges(e);this.db.get("_design/"+i[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(D(r));var a=o&&o.filters&&o.filters[i[1]];if(!a)return n(T(so,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"));e.filter=fe(a),t.doChanges(e)})}},Wr(xe,$r.EventEmitter),xe.prototype.post=f("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(T(bo));this.bulkDocs({docs:[e]},t,me(n))}),xe.prototype.put=f("put",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(T(bo)):(P(e._id),ce(e._id)&&"function"==typeof this._putLocal?e._deleted?this._removeLocal(e,n):this._putLocal(e,n):void("function"==typeof this._put&&!1!==t.new_edits?this._put(e,t,n):this.bulkDocs({docs:[e]},t,me(n))))}),xe.prototype.putAttachment=f("putAttachment",function(e,t,n,r,o){function i(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:r,revpos:++n},a.put(e)}var a=this;return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||x("warn","Attachment",t,"on document",e,"is missing content_type"),a.get(e).then(function(e){if(e._rev!==n)throw T(co);return i(e)},function(t){if(t.reason===so.message)return i({_id:e});throw t})}),xe.prototype.removeAttachment=f("removeAttachment",function(e,t,n,r){var o=this;o.get(e,function(e,i){return e?void r(e):i._rev!==n?void r(T(co)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),xe.prototype.remove=f("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};if(i._deleted=!0,ce(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,me(r))}),xe.prototype.revsDiff=f("revsDiff",function(e,t,n){function r(e,t){u.has(e)||u.set(e,{missing:[]}),u.get(e).missing.push(t)}function o(t,n){var o=e[t].slice(0);$(n,function(e,n,i,a,u){var s=n+"-"+i,c=o.indexOf(s);-1!==c&&(o.splice(c,1),"available"!==u.status&&r(t,s))}),o.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var a=0,u=new no;i.map(function(t){this._getRevisionTree(t,function(r,s){if(r&&404===r.status&&"missing"===r.message)u.set(t,{missing:e[t]});else{if(r)return n(r);o(t,s)}if(++a===i.length){var c={};return u.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),xe.prototype.bulkGet=f("bulkGet",function(e,t){b(this,e,t)}),xe.prototype.compactDocument=f("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(o,i){if(o)return n(o);var a=_e(i),u=[],s=[];Object.keys(a).forEach(function(e){a[e]>t&&u.push(e)}),$(i,function(e,t,n,r,o){var i=t+"-"+n;"available"===o.status&&-1!==u.indexOf(i)&&s.push(i)}),r._doCompaction(e,s,n)})}),xe.prototype.compact=f("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&ke(n)}),xe.prototype._compact=function(e,t){function n(e){a.push(o.compactDocument(e.id,0))}function r(e){var n=e.last_seq;Kr.all(a).then(function(){return q(o,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var o=this,i={return_docs:!1,last_seq:e.last_seq||0},a=[];o.changes(i).on("change",n).on("complete",r).on("error",t)},xe.prototype.get=f("get",function(e,t,n){function r(){var r=[],a=o.length;if(!a)return n(null,r);o.forEach(function(o){i.get(e,{rev:o,revs:t.revs,latest:t.latest,attachments:t.attachments},function(e,t){if(e)r.push({missing:o});else{for(var i,u=0,s=r.length;u<s;u++)if(r[u].ok&&r[u].ok._rev===t._rev){i=!0;break}i||r.push({ok:t})}--a||n(null,r)})})}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(T(lo));if(ce(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var o=[],i=this;if(!t.open_revs)return this._get(e,t,function(e,r){if(e)return n(e);var o=r.doc,a=r.metadata,u=r.ctx;if(t.conflicts){var s=V(a);s.length&&(o._conflicts=s)}if(se(a,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var c=o._rev.split("-"),l=parseInt(c[0],10),f=c[1],d=J(a.rev_tree),h=null,p=0;p<d.length;p++){var v=d[p],y=v.ids.map(function(e){return e.id}).indexOf(f);(y===l-1||!h&&-1!==y)&&(h=v)}var m=h.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,g=h.ids.length-m;if(h.ids.splice(m,g),h.ids.reverse(),t.revs&&(o._revisions={start:h.pos+h.ids.length-1,ids:h.ids.map(function(e){return e.id})}),t.revs_info){var b=h.pos+h.ids.length;o._revs_info=h.ids.map(function(e){return b--,{rev:b+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&o._attachments){var _=o._attachments,w=Object.keys(_).length;if(0===w)return n(null,o);Object.keys(_).forEach(function(e){this._getAttachment(o._id,e,_[e],{rev:o._rev,binary:t.binary,ctx:u},function(t,r){var i=o._attachments[e];i.data=r,delete i.stub,delete i.length,--w||n(null,o)})},i)}else{if(o._attachments)for(var k in o._attachments)o._attachments.hasOwnProperty(k)&&(o._attachments[k].stub=!0);n(null,o)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return n(e);o=G(t).map(function(e){return e.rev}),r()});else{if(!Array.isArray(t.open_revs))return n(T(po,"function_clause"));o=t.open_revs;for(var a=0;a<o.length;a++){var u=o[a];if("string"!=typeof u||!/^\d+-/.test(u))return n(T(ko))}r()}}),xe.prototype.getAttachment=f("getAttachment",function(e,t,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(i,a){return i?r(i):a.doc._attachments&&a.doc._attachments[t]?(n.ctx=a.ctx,n.binary=!0,o._getAttachment(e,t,a.doc._attachments[t],n,r),void 0):r(T(so))})}),xe.prototype.allDocs=f("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(T(yo,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return we(this,e,t)}return this._allDocs(e,t)}),xe.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new pe(this,e,t)},xe.prototype.close=f("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),xe.prototype.info=f("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||"http"===t.type()),r.adapter=t.type(),e(null,r)})}),xe.prototype.id=f("id",function(e){return this._id(e)}),xe.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},xe.prototype.bulkDocs=f("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(T(uo));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(T(bo));var o;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){o=o||Ee(t),e._attachments[t].content_type||x("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),o)return n(T(go,o));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var i=this;t.new_edits||"http"===i.type()||e.docs.sort(be),ge(e.docs);var a=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),"http"!==i.type())for(var o=0,u=r.length;o<u;o++)r[o].id=r[o].id||a[o];n(null,r)})}),xe.prototype.registerDependentDatabase=f("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);q(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})}).catch(t)}),xe.prototype.destroy=f("destroy",function(e,t){function n(){r._destroy(e,function(e,n){if(e)return t(e);r._destroyed=!0,r.emit("destroyed"),t(null,n||{ok:!0})})}"function"==typeof e&&(t=e,e={});var r=this,o=!("use_prefix"in r)||r.use_prefix;if("http"===r.type())return n();r.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):n();var a=i.dependentDbs,u=r.constructor,s=Object.keys(a).map(function(e){var t=o?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,r.__opts).destroy()});Kr.all(s).then(n,t)})}),Se.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Se.prototype.fail=function(e){this.failed=e,this.execute()},Se.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Se.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},Wr(je,xe),je.debug=Hr,je.adapters={},je.preferredAdapters=[],je.prefix="_pouch_";var Do=new $r.EventEmitter;!function(e){Object.keys($r.EventEmitter.prototype).forEach(function(t){"function"==typeof $r.EventEmitter.prototype[t]&&(e[t]=Do[t].bind(Do))});var t=e._destructionListeners=new no;e.on("destroyed",function(e){t.get(e).forEach(function(e){e()}),t.delete(e)})}(je),je.adapter=function(e,t,n){t.valid()&&(je.adapters[e]=t,n&&je.preferredAdapters.push(e))},je.plugin=function(e){if("function"==typeof e)e(je);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){je.prototype[t]=e[t]})}return je},je.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=n.name,delete n.name),n=ao({},t.__defaults,n),je.call(this,e,n)}return Wr(t,je),t.preferredAdapters=je.preferredAdapters.slice(),Object.keys(je).forEach(function(e){e in t||(t[e]=je[e])}),t.__defaults=ao({},this.__defaults,e),t};je.version="6.1.1";var Co,Mo=Te(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Ro=Te(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),Io=function(e){return atob(e)},Po=function(e){return btoa(e)},No=t.setImmediate||t.setTimeout,Fo=32768,zo=5,Lo="document-store",qo="by-sequence",Bo="attach-store",Uo="attach-seq-store",Yo="meta-store",Ho="local-store",$o="detect-blob-support",Wo=new E,Go=!1,Vo=[],Xo=new no,Jo=new no;xt.valid=function(){return!("undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Ko=function(e){e.adapter("idb",xt,!0)},Qo=7,Zo=Mt("document-store"),ei=Mt("by-sequence"),ti=Mt("attach-store"),ni=Mt("local-store"),ri=Mt("metadata-store"),oi=Mt("attach-seq-store"),ii=new no,ai=new E,ui=1,si="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+ei+" (seq, deleted)",ci="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+ei+" (doc_id, rev)",li="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Zo+" (winningseq)",fi="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+oi+" (seq)",di="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+oi+" (digest, seq)",hi=ei+".seq = "+Zo+".winningseq",pi=ei+".seq AS seq, "+ei+".deleted AS deleted, "+ei+".json AS data, "+ei+".rev AS rev, "+Zo+".json AS metadata";Qt.valid=Jt,Qt.use_prefix=!0;var vi=function(e){e.adapter("websql",Qt,!0)},yi=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}(),mi=function(){},gi=25,bi=50,_i={},wi=Hr("pouchdb:http");yn.valid=function(){return!0};var ki=function(e){e.adapter("http",yn,!1),e.adapter("https",yn,!1)},Ei=-324,xi=3,Si="";Cn.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Cn.prototype.finish=function(){return this.promise},Wr(Rn,Error),Wr(In,Error),Wr(Pn,Error);var Oi=x.bind(null,"log"),Ai=Array.isArray,ji=JSON.parse,Ti={},Di=new Cn,Ci=50,Mi={_sum:function(e,t){return Fn(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:Fn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];t+=o*o}return t}(t)}}},Ri=function(e){return Yr(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&Ln(r,n),r})}(function(){var e=this;return"http"===e.type()?mr(e):"function"==typeof e._viewCleanup?ur(e):gr(e)}),Ii=function(e,t,n){"function"==typeof t&&(n=t,t={}),t=t?nr(t):{},"function"==typeof e&&(e={map:e});var r=this,o=Kr.resolve().then(function(){return br(r,e,t)});return Ln(o,n),o},Pi={query:Ii,viewCleanup:Ri},Ni=1,Fi="pouchdb",zi=5,Li=0;Ar.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},Ar.prototype.updateTarget=function(e,t){return Or(this.target,this.id,e,t,this.returnValue)},Ar.prototype.updateSource=function(e,t){var n=this;return this.readOnlySource?Kr.resolve(!0):Or(this.src,this.id,e,t,this.returnValue).catch(function(e){if(Cr(e))return n.readOnlySource=!0,!0;throw e})};var qi={undefined:function(e,t){return 0===bn(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return jr(t,e).last_seq}};Ar.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?Kr.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return Li;var n;return n=t.version?t.version.toString():"undefined",n in qi?qi[n](t,e):Li},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:Li}).then(function(){return Li},function(n){return Cr(n)?(e.readOnlySource=!0,t.last_seq):Li});throw n})}).catch(function(e){if(404!==e.status)throw e;return Li})};var Bi=0;Wr(Nr,$r.EventEmitter),Nr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Nr.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),o.once("complete",r))},Wr(qr,$r.EventEmitter),qr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},je.plugin(Ko).plugin(vi).plugin(ki).plugin(Pi).plugin(Br),e.exports=je}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function f(e){var t=new this(r);return v.reject(t,e)}function d(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,v.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,v.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,v.resolve(a,e))},function(e){o||(o=!0,v.reject(a,e))})}(e[i]);return a}var p=n(207),v={},y=["REJECTED"],m=["FULFILLED"],g=["PENDING"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===y)return this;var n=new this.constructor(r);if(this.state!==g){a(n,this.state===m?e:t,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=m,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,t){e.state=y,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=l,o.reject=f,o.all=d,o.race=h},function(e,t){(function(t){"use strict";function n(){l=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}l=!1}function r(e){1!==f.push(e)||l||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var a=0,u=new i(n),s=t.document.createTextNode("");u.observe(s,{characterData:!0}),o=function(){s.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var l,f=[];e.exports=r}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}e.exports=n},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){try{return t.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return r.env.DEBUG}t=e.exports=n(210),t.log=a,t.formatArgs=i,t.save=u,t.load=s,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())}).call(t,n(191))},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var a=i[u];n=o.call(e,a),i.splice(u,1),u--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=u,t.humanize=n(211),t.names=[],t.skips=[],t.formatters={};var c},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=s?Math.round(e/s)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,s,"hour")||i(e,u,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,s=60*u,c=24*s,l=365.25*c;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,u,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,s=0;s<o;s++)c[s].apply(this,u);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){(function(){var t={}.hasOwnProperty,n=[].slice;e.exports=function(e,r){var o,i,a,u;i=[],u=[];for(o in r)t.call(r,o)&&(a=r[o],"this"!==o&&(i.push(o),u.push(a)));return Function.apply(null,n.call(i).concat([e])).apply(r.this,u)}}).call(this)},function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";function t(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n+=(r&o|~r&i)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[15]-660478335|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var r,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)t(l,n(e.substring(r-64,r)));for(e=e.substring(r-64),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(t(l,i),r=0;r<16;r+=1)i[r]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function i(e){var n,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(l,r(e.subarray(n-64,n)));for(e=n-64<c?e.subarray(n-64):new Uint8Array(0),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=e[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(t(l,i),n=0;n<16;n+=1)i[n]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function a(e){var t,n="";for(t=0;t<4;t+=1)n+=p[e>>8*t+4&15]+p[e>>8*t&15];return n}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function f(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function d(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==u(o("hello"))&&function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,u,s=this.byteLength,c=t(n,s),l=s;return r!==e&&(l=t(r,s)),c>l?new ArrayBuffer(0):(o=l-c,i=new ArrayBuffer(o),a=new Uint8Array(i),u=new Uint8Array(this,c,o),a.set(u),i)}}(),h.prototype.append=function(e){return this.appendBinary(s(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var r,o=this._buff.length;for(r=64;r<=o;r+=64)t(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},h.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=d(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,n){var r,o,i,a=n;if(e[a>>2]|=128<<(a%4<<3),a>55)for(t(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=o,e[15]=i,t(this._hash,e)},h.hash=function(e,t){return h.hashBinary(s(e),t)},h.hashBinary=function(e,t){var n=o(e),r=u(n);return t?d(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var n,o=f(this._buff.buffer,e,!0),i=o.length;for(this._length+=e.byteLength,n=64;n<=i;n+=64)t(this._hash,r(o.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(o.buffer.slice(n-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=d(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=l(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var n=i(new Uint8Array(e)),r=u(n);return t?d(r):r},h})},function(e,t){"use strict";function n(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var a=t.pop();o[a]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,o,i,a,u,s,c,l,f,d,h="";n=t.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",h+=o,i)h+=i;else if("object"!=typeof r)h+=void 0===r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),a=r.length-1;a>=0;a--)u=0===a?"":",",t.push({obj:r[a],prefix:u});t.push({val:"["})}else{s=[];for(c in r)r.hasOwnProperty(c)&&s.push(c);for(t.push({val:"}"}),a=s.length-1;a>=0;a--)l=s[a],f=r[l],d=a>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:f,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,r,o,i,a,u,s,c,l,f=[],d=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,n(null,f,d);break;case"t":h+=3,n(!0,f,d);break;case"f":h+=4,n(!1,f,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",h--;;){if(o=e[h++],!/[\d\.\-e\+]/.test(o)){h--;break}r+=o}n(parseFloat(r),f,d);break;case'"':for(i="",a=void 0,u=0;;){if('"'===(s=e[h++])&&("\\"!==a||u%2!=1))break;i+=s,a=s,"\\"===a?u++:u=0}n(JSON.parse('"'+i+'"'),f,d);break;case"[":c={element:[],index:f.length},f.push(c.element),d.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),d.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();n(f.pop(),f,d)}}},function(e,t,n){"use strict";var r=n(218),o=n(224),i=n(226),a={};a.createIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));("http"===this.type()?o:i).createIndex(this,e,t)}),a.find=r.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));("http"===this.type()?o:i).find(this,e,t)}),a.getIndexes=r.toPromise(function(e){("http"===this.type()?o:i).getIndexes(this,e)}),a.deleteIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));("http"===this.type()?o:i).deleteIndex(this,e,t)}),e.exports=a,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(a)},function(e,t,n){(function(e){"use strict";var r=n(219);t.once=function(e){var n=!1;return t.getArguments(function(t){if(n)throw console.trace(),new Error("once called  more than once");n=!0,e.apply(this,t)})},t.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},t.toPromise=function(n){return t.getArguments(function(o){var i,a=this,u="function"==typeof o[o.length-1]&&o.pop();u&&(i=function(t,n){e.nextTick(function(){u(t,n)})});var s=new r(function(e,r){try{var i=t.once(function(t,n){t?r(t):e(n)});o.push(i),n.apply(a,o)}catch(e){r(e)}});return i&&s.then(function(e){i(null,e)},i),s.cancel=function(){return this},s})},t.inherits=n(213),t.Promise=r,t.clone=function(e){return t.extend(!0,{},e)},t.extend=n(221),t.callbackify=function(e){return t.getArguments(function(n){var r=n.pop(),o=e.apply(this,n);return t.promisedCallback(o,r),o})},t.promisedCallback=function(t,n){return t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t};var o=n(222),i=n(223);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")},t.flatten=t.getArguments(function(e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];Array.isArray(i)?n=n.concat(t.flatten.apply(null,i)):n.push(i)}return n}),t.mergeObjects=function(e){for(var n={},r=0,o=e.length;r<o;r++)n=t.extend(!0,n,e[r]);return n},t.getFieldFromDoc=function(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n},t.setFieldInDoc=function(e,t,n){for(var r=0,o=t.length;r<o-1;r++){e=e[t[r]]={}}e[t[o-1]]=n},t.parseField=function(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t},t.pick=function(e,n){for(var r={},o=0,i=n.length;o<i;o++){var a=t.parseField(n[o]),u=t.getFieldFromDoc(e,a);void 0!==u&&t.setFieldInDoc(r,a,u)}return r},t.oneArrayIsSubArrayOfOther=function(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0},t.oneArrayIsStrictSubArrayOfOther=function(e,n){return!(e.length>n.length)&&t.oneArrayIsSubArrayOfOther(e,n)},t.oneSetIsSubArrayOfOther=function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var o=t[n];if(!e.length)break;var i=e.indexOf(o);if(-1===i)return!1;e.splice(i,1)}return!0},t.compare=function(e,t){return e<t?-1:e>t?1:0},t.arrayToObject=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t},t.max=function(e,t){for(var n=null,r=-1,o=0,i=e.length;o<i;o++){var a=e[o],u=t(a);u>r&&(r=u,n=a)}return n},t.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.uniq=function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})},t.log=n(209)("pouchdb:find")}).call(t,n(191))},function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(220)),o="function"==typeof Promise?Promise:r;e.exports=o},function(e,t,n){(function(t){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,t.browser||(this.handled=b),e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function f(e){var t=new this(r);return v.reject(t,e)}function d(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,v.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,v.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,v.resolve(a,e))},function(e){o||(o=!0,v.reject(a,e))})}(e[i]);return a}var p=n(207),v={},y=["REJECTED"],m=["FULFILLED"],g=["PENDING"];if(!t.browser)var b=["UNHANDLED"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,n){if("function"!=typeof e&&this.state===m||"function"!=typeof n&&this.state===y)return this;var o=new this.constructor(r);if(t.browser||this.handled===b&&(this.handled=null),this.state!==g){a(o,this.state===m?e:n,this.outcome)}else this.queue.push(new i(o,e,n));return o},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=m,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,n){e.state=y,e.outcome=n,t.browser||e.handled===b&&p(function(){e.handled===b&&t.emit("unhandledRejection",n,e)});for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(n);return e},o.resolve=l,o.reject=f,o.all=d,o.race=h}).call(t,n(191))},function(e,t){"use strict";function n(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?s[d.call(e)]||"object":typeof e}function r(e){return null!==e&&e===e.window}function o(e){if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!h.call(e,"constructor")&&!h.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||h.call(e,t)}function i(e){return"function"===n(e)}function a(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var o={};e.push({args:r,result:{container:o,key:"key"}});for(var i;i=e.pop();)u(e,i.args,i.result);return o.key}function u(e,t,n){var r,a,u,s,c,l,f,d=t[0]||{},h=1,v=t.length,y=!1,m=/\d+/;for("boolean"==typeof d&&(y=d,d=t[1]||{},h=2),"object"==typeof d||i(d)||(d={}),v===h&&(d=this,--h);h<v;h++)if(null!=(r=t[h])){f=p(r);for(a in r)if(!(a in Object.prototype)){if(f&&!m.test(a))continue;if(u=d[a],s=r[a],d===s)continue;y&&s&&(o(s)||(c=p(s)))?(c?(c=!1,l=u&&p(u)?u:[]):l=u&&o(u)?u:{},e.push({args:[y,l,s],result:{container:d,key:a}})):void 0!==s&&(p(r)&&i(s)||(d[a]=s))}}n.container[n.key]=d}for(var s={},c=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],l=0;l<c.length;l++){var f=c[l];s["[object "+f+"]"]=f.toLowerCase()}var d=s.toString,h=s.hasOwnProperty,p=Array.isArray||function(e){return"array"===n(e)};e.exports=a},function(e,t){},function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";var t=function(e,t){return e+t&4294967295},n=function(e,n,r,o,i,a){return n=t(t(n,e),t(o,a)),t(n<<i|n>>>32-i,r)},r=function(e,t,r,o,i,a,u){return n(t&r|~t&o,e,t,i,a,u)},o=function(e,t,r,o,i,a,u){return n(t&o|r&~o,e,t,i,a,u)},i=function(e,t,r,o,i,a,u){return n(t^r^o,e,t,i,a,u)},a=function(e,t,r,o,i,a,u){return n(r^(t|~o),e,t,i,a,u)},u=function(e,n){var u=e[0],s=e[1],c=e[2],l=e[3];u=r(u,s,c,l,n[0],7,-680876936),l=r(l,u,s,c,n[1],12,-389564586),c=r(c,l,u,s,n[2],17,606105819),s=r(s,c,l,u,n[3],22,-1044525330),u=r(u,s,c,l,n[4],7,-176418897),l=r(l,u,s,c,n[5],12,1200080426),c=r(c,l,u,s,n[6],17,-1473231341),s=r(s,c,l,u,n[7],22,-45705983),u=r(u,s,c,l,n[8],7,1770035416),l=r(l,u,s,c,n[9],12,-1958414417),c=r(c,l,u,s,n[10],17,-42063),s=r(s,c,l,u,n[11],22,-1990404162),u=r(u,s,c,l,n[12],7,1804603682),l=r(l,u,s,c,n[13],12,-40341101),c=r(c,l,u,s,n[14],17,-1502002290),s=r(s,c,l,u,n[15],22,1236535329),u=o(u,s,c,l,n[1],5,-165796510),l=o(l,u,s,c,n[6],9,-1069501632),c=o(c,l,u,s,n[11],14,643717713),s=o(s,c,l,u,n[0],20,-373897302),u=o(u,s,c,l,n[5],5,-701558691),l=o(l,u,s,c,n[10],9,38016083),c=o(c,l,u,s,n[15],14,-660478335),s=o(s,c,l,u,n[4],20,-405537848),u=o(u,s,c,l,n[9],5,568446438),l=o(l,u,s,c,n[14],9,-1019803690),c=o(c,l,u,s,n[3],14,-187363961),s=o(s,c,l,u,n[8],20,1163531501),u=o(u,s,c,l,n[13],5,-1444681467),l=o(l,u,s,c,n[2],9,-51403784),c=o(c,l,u,s,n[7],14,1735328473),s=o(s,c,l,u,n[12],20,-1926607734),u=i(u,s,c,l,n[5],4,-378558),l=i(l,u,s,c,n[8],11,-2022574463),c=i(c,l,u,s,n[11],16,1839030562),s=i(s,c,l,u,n[14],23,-35309556),u=i(u,s,c,l,n[1],4,-1530992060),l=i(l,u,s,c,n[4],11,1272893353),c=i(c,l,u,s,n[7],16,-155497632),s=i(s,c,l,u,n[10],23,-1094730640),u=i(u,s,c,l,n[13],4,681279174),l=i(l,u,s,c,n[0],11,-358537222),c=i(c,l,u,s,n[3],16,-722521979),s=i(s,c,l,u,n[6],23,76029189),u=i(u,s,c,l,n[9],4,-640364487),l=i(l,u,s,c,n[12],11,-421815835),c=i(c,l,u,s,n[15],16,530742520),s=i(s,c,l,u,n[2],23,-995338651),u=a(u,s,c,l,n[0],6,-198630844),l=a(l,u,s,c,n[7],10,1126891415),c=a(c,l,u,s,n[14],15,-1416354905),s=a(s,c,l,u,n[5],21,-57434055),u=a(u,s,c,l,n[12],6,1700485571),l=a(l,u,s,c,n[3],10,-1894986606),c=a(c,l,u,s,n[10],15,-1051523),s=a(s,c,l,u,n[1],21,-2054922799),u=a(u,s,c,l,n[8],6,1873313359),l=a(l,u,s,c,n[15],10,-30611744),c=a(c,l,u,s,n[6],15,-1560198380),s=a(s,c,l,u,n[13],21,1309151649),u=a(u,s,c,l,n[4],6,-145523070),l=a(l,u,s,c,n[11],10,-1120210379),c=a(c,l,u,s,n[2],15,718787259),s=a(s,c,l,u,n[9],21,-343485551),e[0]=t(u,e[0]),e[1]=t(s,e[1]),e[2]=t(c,e[2]),e[3]=t(l,e[3])},s=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},c=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},l=function(e){var t,n,r,o,i,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)u(l,s(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u(l,r),t=0;t<16;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,u(l,r),l},f=function(e){var t,n,r,o,i,a,s=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)u(l,c(e.subarray(t-64,t)));for(e=t-64<s?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u(l,r),t=0;t<16;t+=1)r[t]=0;return o=8*s,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,u(l,r),l},d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=function(e){var t,n="";for(t=0;t<4;t+=1)n+=d[e>>8*t+4&15]+d[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=h(e[t]);return e.join("")},v=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==function(e){return p(l(e))}("hello")&&(t=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}),v.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},v.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)u(this._state,s(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},v.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},v.prototype._finish=function(e,t){var n,r,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(u(this._state,e),i=0;i<16;i+=1)e[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=r,e[15]=o,u(this._state,e)},v.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},v.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},v.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=l(e);return t?n:p(n)},v.hashBinary=function(e,t){var n=l(e);return t?n:p(n)},v.ArrayBuffer=function(){this.reset()},v.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)u(this._state,c(n.subarray(t-64,t)));return this._buff=t-64<r?n.subarray(t-64):new Uint8Array(0),this},v.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},v.ArrayBuffer.prototype._finish=v.prototype._finish,v.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},v.ArrayBuffer.prototype.destroy=v.prototype.destroy,v.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},v.ArrayBuffer.hash=function(e,t){var n=f(new Uint8Array(e));return t?n:p(n)},v})},function(e,t,n){"use strict";function r(e,t,n){t=u(t),e.request({method:"POST",url:"_index",body:t},n)}function o(e,t,n){e.request({method:"POST",url:"_find",body:t},n)}function i(e,t){e.request({method:"GET",url:"_index"},t)}function a(e,t,n){var r=t.ddoc,o=t.type||"json",i=t.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!i)return n(new Error("you must provide an index's name"));var a="_index/"+[r,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:a},n)}var u=n(225);t.createIndex=r,t.find=o,t.getIndexes=i,t.deleteIndex=a},function(e,t,n){"use strict";var r=n(218),o=r.clone;e.exports=function(e){return e=o(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}},function(e,t,n){"use strict";var r=n(218),o=r.callbackify;t.createIndex=o(n(227)),t.find=o(n(240)),t.getIndexes=o(n(241)),t.deleteIndex=o(n(245))},function(e,t,n){"use strict";function r(e,t,n){return u.upsert.call(e,t,n)}function o(e,t){function n(e){return e._rev&&"query"!==e.language&&(v=!0),e.language="query",e.views=e.views||{},!(y=!!e.views[c])&&(e.views[c]={map:{fields:i.mergeObjects(t.index.fields)},reduce:"_count",options:{def:o}},e)}t=d(t);var o=i.clone(t.index);t.index=f(t.index),l(t.index);var u=i.MD5(JSON.stringify(t)),c=t.name||"idx-"+u,h=t.ddoc||"idx-"+u,p="_design/"+h,v=!1,y=!1;return a("creating index",p),r(e,p,n).then(function(){if(v)throw new Error('invalid language for ddoc with id "'+p+'" (should be "query")')}).then(function(){var t=h+"/"+c;return s.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:p,name:c,result:y?"exists":"created"}})})}var i=n(218),a=i.log,u=n(228),s=n(230),c=n(231),l=c.validateIndex,f=c.massageIndexDef,d=n(225);e.exports=o},function(e,t,n){"use strict";function r(e,t,n){return"string"!=typeof t?i.reject(new Error("doc id is required")):e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(r){var i=r._rev,a=n(r);return a?(a._id=t,a._rev=i,o(e,a,n)):{updated:!1,rev:i}})}function o(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return r(e,t._id,n)})}var i=n(229);t.upsert=function(e,t,n){var o=this,i=r(o,e,t);if("function"!=typeof n)return i;i.then(function(e){n(null,e)},n)},t.putIfNotExists=function(e,t,n){var o=this;"string"!=typeof e&&(n=t,t=e,e=t._id);var i=function(e){return!e._rev&&t},a=r(o,e,i);if("function"!=typeof n)return a;a.then(function(e){n(null,e)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(t)},function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(220)),o="function"==typeof Promise?Promise:r;e.exports=o},function(e,t,n){"use strict";function r(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++){for(var a=p(e[o]),u=n,s=0,c=a.length;s<c;s++){if(!(u=u[a[s]]))break}r.push(u)}t(r)}}function o(e,t){var n=p(e);return function(e){for(var r=e,o=0,i=n.length;o<i;o++){if(!(r=r[n[o]]))return}t(r)}}function i(e,t){return function(n){t(n[e])}}function a(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++)r.push(n[e[o]]);t(r)}}function u(e){for(var t=0,n=e.length;t<n;t++){if(-1!==e[t].indexOf("."))return!1}return!0}function s(e,t){var n=u(e),s=1===e.length;return n?s?i(e[0],t):a(e,t):s?o(e[0],t):r(e,t)}function c(e,t){return s(Object.keys(e.fields),t)}function l(){throw new Error("reduce not supported")}function f(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var d=n(231),h=n(234),p=d.parseField,v=h({name:"indexes",mapper:c,reducer:l,ddocValidator:f});e.exports=v},function(e,t,n){"use strict";function r(e){return Object.keys(e)[0]}function o(e){return e[r(e)]}function i(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function a(e){return E.indexOf(e)>-1}function u(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function s(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function c(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function l(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function f(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),a(n))r instanceof Array?t[n]=r.map(function(e){return f([e])}):t[n]=f([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?u(e,t,o):"$lt"===e||"$lte"===e?s(e,t,o):"$ne"===e?c(t,o):"$eq"===e?l(t,o):void(o[e]=t)})}})}),t}function d(e){var t=w.clone(e),n=!1;"$and"in t&&(t=f(t.$and),n=!0),"$not"in t&&(t.$not=f([t.$not]));for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],a=t[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),t[i]=a}return t}function h(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function p(e,t){for(var n=[],o=0;o<t.def.fields.length;o++){var i=r(t.def.fields[o]);n.push(e[i])}return n}function v(e,t,n){for(var r=n.def.fields,o=0,i=e.length;o<i;o++){var a=e[o],u=p(a.doc,n);if(1===r.length)u=u[0];else for(;u.length>t.length;)u.pop();if(Math.abs(k.collate(u,t))>0)break}return o>0?e.slice(o):e}function y(e){var t=w.clone(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function m(e){var t=e.fields.filter(function(e){return"asc"===o(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function g(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}t.defaultUsed}function b(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}function _(e,t){var n,o=Object.keys(e),i=t?t.map(r):[];return n=o.length>=i.length?o:i,0===i.length?{fields:n}:(n=n.sort(function(e,t){var n=i.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=i.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),{fields:n,sortOrder:t.map(r)})}var w=n(218),k=n(232),E=["$or","$nor","$not"];e.exports={getKey:r,getValue:o,massageSort:i,massageSelector:d,validateIndex:m,validateFindRequest:b,validateSort:g,reverseOptions:y,filterInclusiveStart:v,massageIndexDef:h,parseField:w.parseField,getUserFields:_,isCombinationalField:a}},function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return l(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var n=Array.isArray(e),r=n?e:Object.keys(e),o=-1,i=r.length,a="";if(n)for(;++o<i;)a+=t.toIndexableString(r[o]);else for(;++o<i;){var u=r[o];a+=t.toIndexableString(u)+t.toIndexableString(e[u])}return a}return""}function o(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+d),u=parseInt(a,10)+f;for(o&&(u=-u),t+=d;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function i(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function a(e,n){for(var r=Math.min(e.length,n.length),o=0;o<r;o++){var i=t.collate(e[o],n[o]);if(0!==i)return i}return e.length===n.length?0:e.length>n.length?1:-1}function u(e,t){return e===t?0:e>t?1:-1}function s(e,n){for(var r=Object.keys(e),o=Object.keys(n),i=Math.min(r.length,o.length),a=0;a<i;a++){var u=t.collate(r[a],o[a]);if(0!==u)return u;if(0!==(u=t.collate(e[r[a]],n[o[a]])))return u}return r.length===o.length?0:r.length>o.length?1:-1}function c(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function l(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-f,a=p.padLeft(i.toString(),"0",d);o+=h+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=h+s}var f=-324,d=3,h="",p=n(233);t.collate=function(e,n){if(e===n)return 0;e=t.normalizeKey(e),n=t.normalizeKey(n);var r=c(e),o=c(n);if(r-o!=0)return r-o;if(null===e)return 0;switch(typeof e){case"number":return e-n;case"boolean":return e===n?0:e<n?-1:1;case"string":return u(e,n)}return Array.isArray(e)?a(e,n):s(e,n)},t.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var n=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;o<r;o++)e[o]=t.normalizeKey(n[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];void 0!==a&&(e[i]=t.normalizeKey(a))}}}}return e},t.toIndexableString=function(e){return e=t.normalizeKey(e),c(e)+h+r(e)+"\0"},t.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var a=e[r++];if("\0"!==a)switch(a){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var u=o(e,r);t.push(u.num),r+=u.length;break;case"4":for(var s="";;){var c=e[r];if("\0"===c)break;s+=c,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var l={element:[],index:t.length};t.push(l.element),n.push(l);break;case"6":var f={element:{},index:t.length};t.push(f.element),n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+a)}else{if(1===t.length)return t.pop();i(t,n)}}}},function(e,t){"use strict";function n(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}t.padLeft=function(e,t,r){return n(e,t,r)+e},t.padRight=function(e,t,r){return e+n(e,t,r)},t.stringLexCompare=function(e,t){var n,r=e.length,o=t.length;for(n=0;n<r;n++){if(n===o)return 1;var i=e.charAt(n),a=t.charAt(n);if(i!==a)return i<a?-1:1}return r<o?-1:0},t.intToDecimalForm=function(e){var t=e<0,n="";do{n=(t?-Math.ceil(e%10):Math.floor(e%10))+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},function(e,t,n){(function(t){"use strict";function r(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,r)}catch(e){}}function o(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(e){}}function i(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function a(e){return 1===e.length&&/^1-/.test(e[0].rev)}function u(e,t){var n=m(e.key,t.key);return 0!==n?n:m(e.value,t.value)}function s(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function c(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function l(e,t){try{e.emit("error",t)}catch(e){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(t)}}function f(e,t,n){try{return{output:t.apply(null,n)}}catch(t){return l(e,t),{error:t}}}function d(e,t){var n=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[o]&&m(e[n],e[o])>0)throw new r("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new r("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new r("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new r('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new r('Invalid value for positive integer: "'+e.group_level+'"')}}function h(e){return function(t){if(404===t.status)return e;throw t}}function p(e){function n(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):k.resolve({rows:[]})}function o(e,t){for(var n=[],r={},o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r[u._id]=!0,u._deleted=!c[u._id],!u._deleted)){var s=c[u._id];"value"in s&&(u.value=s.value)}}var l=Object.keys(c);return l.forEach(function(e){if(!r[e]){var t={_id:e},o=c[e];"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=w.uniq(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,u={_id:i,keys:[]},s=n[e],c=s.indexableKeysToKeyValues,l=s.changes;return function(){return a(l)?k.resolve(u):t.db.get(i).catch(h(u))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function r(e,t,r){return e.db.get("_local/lastSeq").catch(h({_id:"_local/lastSeq",seq:0})).then(function(o){var i=Object.keys(t);return k.all(i.map(function(r){return n(r,e,t)})).then(function(t){var n=w.flatten(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function l(e){var t="string"==typeof e?e:e.name,n=E[t];return n||(n=E[t]=new y),n}function p(e){return w.sequentialize(l(e),function(){return O(e)})()}function O(e){function t(e,t){var n={id:i._id,key:b(e)};void 0!==t&&null!==t&&(n.value=b(t)),o.push(n)}function n(t,n){return function(){return r(e,t,n)}}var o,i,a=R(e.mapFun,t),s=e.seq||0,c=new y;return new k(function(t,r){function l(){c.finish().then(function(){e.seq=s,t()})}function d(){function t(e){r(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:s,limit:S}).on("complete",function(t){var r=t.results;if(!r.length)return l();for(var h={},p=0,v=r.length;p<v;p++){var y=r[p];if("_"!==y.doc._id[0]){o=[],i=y.doc,i._deleted||f(e.sourceDB,a,[i]),o.sort(u);for(var b,_={},w=0,k=o.length;w<k;w++){var E=o[w],x=[E.key,E.id];0===m(E.key,b)&&x.push(w);_[g(x)]=E,b=E.key}h[y.doc._id]={indexableKeysToKeyValues:_,changes:y.changes}}s=y.seq}return c.add(n(h,s)),r.length<S?l():d()}).on("error",t)}d()})}function A(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,o=I(e.reduceFun),i=[],a=n.group_level;t.forEach(function(e){var t=i[i.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&"number"==typeof a&&(n=n.length>a?n.slice(0,a):n),t&&0===m(t.key[0][0],n))return t.key.push([n,e.id]),void t.value.push(e.value);i.push({key:[[n,e.id]],value:[e.value]})});for(var u=0,c=i.length;u<c;u++){var l=i[u],d=f(e.sourceDB,o,[l.key,l.value,!1]);if(d.error&&/BuiltInError/.test(d.error.constructor))throw d.error;l.value=d.error?null:d.output,l.key=l.key[0][0]}return{rows:s(i,n.limit,n.skip)}}function j(e,t){return w.sequentialize(l(e),function(){return T(e,t)})()}function T(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=v.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?A(e,n,t):{total_rows:o,offset:a,rows:n},t.include_docs){var u=w.uniq(n.map(c));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=c(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);var u=function(e){return e.reduce(function(e,t){return e.concat(t)})};if(void 0!==t.keys){var s=t.keys,l=s.map(function(e){return n({startkey:g([e]),endkey:g([e,{}])})});return k.all(l).then(u).then(r)}var f={descending:t.descending};if(void 0!==t.startkey&&(f.startkey=g(t.descending?[t.startkey,{}]:[t.startkey])),void 0!==t.endkey){var d=!1!==t.inclusive_end;t.descending&&(d=!d),f.endkey=g(d?[t.endkey,{}]:[t.endkey])}if(void 0!==t.key){var h=g([t.key]),p=g([t.key,{}]);f.descending?(f.endkey=h,f.startkey=p):(f.startkey=h,f.endkey=p)}return i||("number"==typeof t.limit&&(f.limit=t.limit),f.skip=a),n(f).then(r)}function D(e){return e.get("_local/"+M).then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=i(e),r="_design/"+t[0],o=t[1];n[r]=n[r]||{},n[r][o]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var a=Object.keys(t.views[i]),u=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(t){return w.sequentialize(l(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return k.all(a).then(function(){return{ok:!0}})})},h({ok:!0}))}function C(e,n,r){if("string"!=typeof n){d(r,n);var a={db:e,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0,pluginName:M};return x.add(function(){return _(a).then(function(e){function t(){return e.db.destroy()}return w.fin(p(e).then(function(){return j(e,r)}),t)})}),x.finish()}var u=n,s=i(u),c=s[0],l=s[1];return e.get("_design/"+c).then(function(n){var i=n.views&&n.views[l];if(!i)throw new o("ddoc "+n._id+" has no view named "+l);P(n,l),d(r,i);var a={db:e,viewName:u,map:i.map,reduce:i.reduce,pluginName:M};return _(a).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&t.nextTick(function(){p(e)}),j(e,r)):p(e).then(function(){return j(e,r)})})})}var M=e.name,R=e.mapper,I=e.reducer,P=e.ddocValidator;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=w.extend(!0,{},t),"function"==typeof e&&(e={map:e});var o=k.resolve().then(function(){return C(r,e,t)});return w.promisedCallback(o,n),o},viewCleanup:w.callbackify(function(){return D(this)})}}var v=n(232),y=n(235),m=v.collate,g=v.toIndexableString,b=v.normalizeKey,_=n(238);"undefined"!=typeof console&&"function"==typeof console.log&&Function.prototype.bind.call(console.log,console);var w=n(236),k=w.Promise,E={},x=new y,S=50;w.inherits(r,Error),w.inherits(o,Error),e.exports=p}).call(t,n(191))},function(e,t,n){"use strict";function r(){this.promise=new o(function(e){e()})}var o=n(236).Promise;r.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},r.prototype.finish=function(){return this.promise},e.exports=r},function(e,t,n){(function(e){"use strict";t.Promise=n(219),t.inherits=n(213),t.extend=n(221);var r=n(208);t.promisedCallback=function(t,n){return n&&t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t},t.callbackify=function(e){return r(function(n){var r=n.pop(),o=e.apply(this,n);return"function"==typeof r&&t.promisedCallback(o,r),o})},t.fin=function(e,t){return e.then(function(e){var n=t();return"function"==typeof n.then?n.then(function(){return e}):e},function(e){var n=t();if("function"==typeof n.then)return n.then(function(){throw e});throw e})},t.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},t.flatten=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t},t.uniq=function(e){for(var t={},n=0,r=e.length;n<r;n++)t["$"+e[n]]=!0;var o=Object.keys(t),i=new Array(o.length);for(n=0,r=o.length;n<r;n++)i[n]=o[n].substring(1);return i};var o=n(237),i=n(223);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")}}).call(t,n(191))},function(e,t){},function(e,t,n){"use strict";function r(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}var o=n(239),i=n(236),a=i.Promise;e.exports=function(e){var t=e.db,n=e.viewName,u=e.map,s=e.reduce,c=e.temporary,l=e.pluginName,f=r(u)+r(s)+"undefined";if(!c&&t._cachedViews){var d=t._cachedViews[f];if(d)return a.resolve(d)}return t.info().then(function(e){function r(e){e.views=e.views||{};var t=n;-1===t.indexOf("/")&&(t=n+"/"+n);var r=e.views[t]=e.views[t]||{};if(!r[a])return r[a]=!0,e}var a=e.db_name+"-mrview-"+(c?"temp":i.MD5(f));return o(t,"_local/"+l,r).then(function(){return t.registerDependentDatabase(a).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:a,db:n,sourceDB:t,adapter:t.adapter,mapFun:u,reduceFun:s};return r.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,c||(t._cachedViews=t._cachedViews||{},t._cachedViews[f]=r,r.db.on("destroyed",function(){delete t._cachedViews[f]})),r})})})})}},function(e,t,n){"use strict";var r=n(228).upsert;e.exports=function(e,t,n){return r.apply(e,[t,n])}},function(e,t,n){"use strict";function r(e){return e.ddoc.substring(8)+"/"+e.name}function o(e,t){var n=u(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n)}function i(e,t){return t.selector&&(t.selector=p(t.selector)),t.sort&&(t.sort=v(t.sort)),m(t),s(e).then(function(n){var i=f(t,n.indexes),u=i.index;g(t,u);var s=a.extend(!0,{include_docs:!0,reduce:!1},i.queryOpts);return"startkey"in s&&"endkey"in s&&c(s.startkey,s.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===y(t.sort[0])&&(s.descending=!0,s=b(s)),i.inMemoryFields.length||("limit"in t&&(s.limit=t.limit),"skip"in t&&(s.skip=t.skip)),w.resolve().then(function(){if("_all_docs"===u.name)return o(e,s);var t=r(u);return l.query.call(e,t,s)}).then(function(e){!1===s.inclusive_start&&(e.rows=_(e.rows,s.startkey,u)),i.inMemoryFields.length&&(e.rows=h(e.rows,t,i.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?a.pick(n,t.fields):n})};return u.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}var a=n(218),u=a.clone,s=n(241),c=n(232).collate,l=n(230),f=n(242),d=n(231),h=n(243),p=d.massageSelector,v=d.massageSort,y=d.getValue,m=d.validateFindRequest,g=d.validateSort,b=d.reverseOptions,_=d.filterInclusiveStart,w=a.Promise;e.exports=i},function(e,t,n){"use strict";function r(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=o.flatten(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:a(n.options.def)}})})),t.indexes.sort(function(e,t){return o.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var o=n(218),i=n(231),a=i.massageIndexDef;e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=e.def.fields.map(S),r=0,o=n.length;r<o;r++){if(t===n[r])return!0}return!1}function o(e,t){var n=e[t];return"$eq"!==S(n)}function i(e,t){var n=t.def.fields.map(S);return e.slice().sort(function(e,t){var r=n.indexOf(e),o=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),k.compare(r,o)})}function a(e,t,n){n=i(n,e);for(var a=!1,u=0,s=n.length;u<s;u++){var c=n[u];if(a||!r(e,c))return n.slice(u);u<s-1&&o(t,c)&&(a=!0)}return[]}function u(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Object.keys(r).forEach(function(e){"$ne"===e&&t.push(n)})}),t}function s(e,t,n,r){var o=k.flatten(e,a(t,n,r),u(n));return i(k.uniq(o),t)}function c(e,t,n){if(t){var r=k.oneArrayIsStrictSubArrayOfOther(t,e),o=k.oneArrayIsSubArrayOfOther(n,e);return r&&o}return k.oneSetIsSubArrayOfOther(n,e)}function l(e){return-1===T.indexOf(e)}function f(e,t){var n=e[0],r=t[n];return!!Object.keys(r).some(function(e){return!l(e)})&&!(1===Object.keys(r).length&&"$ne"===S(r))}function d(e,t,n,r){var o=e.def.fields.map(S);return!!c(o,t,n)&&f(o,r)}function h(e,t,n,r){return r.reduce(function(r,o){return d(o,n,t,e)&&r.push(o),r},[])}function p(e,t,n,r){function o(e){for(var t=e.def.fields.map(S),n=0,r=0,o=t.length;r<o;r++){var i=t[r];u[i]&&n++}return n}var i=h(e,t,n,r);if(0===i.length){var a=r[0];return a.defaultUsed=!0,a}if(1===i.length)return i[0];var u=k.arrayToObject(t);return k.max(i,o)}function v(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function y(e,t){var n,r=S(t.def.fields[0]),o=e[r],i=[],a=Object.keys(o);return a.forEach(function(e){if(l(e))return void i.push(r);var t=o[e],a=v(e,t);n=n?k.mergeObjects([n,a]):a}),{queryOpts:n,inMemoryFields:i}}function m(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function g(e,t){function n(e){!1!==r&&u.push(A),!1!==o&&s.push(j),a=i.slice(e)}for(var r,o,i=t.def.fields.map(S),a=[],u=[],s=[],c=0,l=i.length;c<l;c++){var f=i[c],d=e[f];if(!d){n(c);break}if(c>0){if("$ne"in d){n(c);break}var h="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,p=Object.keys(e[i[c-1]]),v=k.arrayEquals(p,["$eq"]),y=k.arrayEquals(p,Object.keys(d));if(h&&!v&&!y){n(c);break}}for(var g=Object.keys(d),b=null,_=0;_<g.length;_++){var w=g[_],E=d[w],x=m(w,E);b=b?k.mergeObjects([b,x]):x}u.push("startkey"in b?b.startkey:A),s.push("endkey"in b?b.endkey:j),"inclusive_start"in b&&(r=b.inclusive_start),"inclusive_end"in b&&(o=b.inclusive_end)}var O={startkey:u,endkey:s};return void 0!==r&&(O.inclusive_start=r),void 0!==o&&(O.inclusive_end=o),{queryOpts:O,inMemoryFields:a}}function b(){return{queryOpts:{startkey:null},inMemoryFields:[]}}function _(e,t){return t.defaultUsed?b(e,t):1===t.def.fields.length?y(e,t):g(e,t)}function w(e,t){E("planning query",e);var n=e.selector,r=e.sort,o=O(n,r),i=o.fields,a=o.sortOrder,u=p(n,i,a,t),c=_(n,u),l=c.queryOpts,f=c.inMemoryFields,d=s(f,u,n,i),h={queryOpts:l,index:u,inMemoryFields:d};return E("query plan",h),h}var k=n(218),E=k.log,x=n(231),S=x.getKey,O=x.getUserFields,A=null,j={"￿":{}},T=["$eq","$gt","$gte","$lt","$lte"];e.exports=w},function(e,t,n){"use strict";function r(e){function t(t){return e.map(function(e){var n=w(e),r=E(n);return S(t,r)})}return function(e,n){var r=t(e.doc),o=t(n.doc),i=g(r,o);return 0!==i?i:x.compare(e.doc._id,n.doc._id)}}function o(e,t,n){if(e=e.filter(function(e){return i(e.doc,t.selector,n)}),t.sort){var o=r(t.sort);e=e.sort(o),"string"!=typeof t.sort[0]&&"desc"===k(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var a=t.skip||0,u=("limit"in t?t.limit:e.length)+a;e=e.slice(a,u)}return e}function i(e,t,n){return n.every(function(n){var r=t[n],o=E(n),i=S(e,o);return _(n)?u(n,r,e):a(r,e,o,i)})}function a(e,t,n,r){return!e||Object.keys(e).every(function(o){var i=e[o];return s(o,t,i,n,r)})}function u(e,t,n){return"$or"===e?t.some(function(e){return i(n,e,Object.keys(e))}):"$not"===e?!i(n,t,Object.keys(t)):!t.find(function(e){return i(n,e,Object.keys(e))})}function s(e,t,n,r,o){if(!O[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return O[e](t,n,r,o)}function c(e){return void 0!==e&&null!==e}function l(e){return void 0!==e}function f(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function d(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function h(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function p(e,t){return e.length===t}function v(e,t){return new RegExp(t).test(e)}function y(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var m=n(244),g=n(232).collate,b=n(231),_=b.isCombinationalField,w=b.getKey,k=b.getValue,E=b.parseField,x=n(218),S=x.getFieldFromDoc,O={$elemMatch:function(e,t,n,r){return!!m(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(e){return i(e,t,Object.keys(t))}):r.some(function(r){return a(t,e,n,r)})))},$eq:function(e,t,n,r){return l(r)&&0===g(r,t)},$gte:function(e,t,n,r){return l(r)&&g(r,t)>=0},$gt:function(e,t,n,r){return l(r)&&g(r,t)>0},$lte:function(e,t,n,r){return l(r)&&g(r,t)<=0},$lt:function(e,t,n,r){return l(r)&&g(r,t)<0},$exists:function(e,t,n,r){return t?l(r):!l(r)},$mod:function(e,t,n,r){return c(r)&&f(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==g(r,e)})},$in:function(e,t,n,r){return c(r)&&d(r,t)},$nin:function(e,t,n,r){return c(r)&&!d(r,t)},$size:function(e,t,n,r){return c(r)&&p(r,t)},$all:function(e,t,n,r){return m(r)&&h(r,t)},$regex:function(e,t,n,r){return c(r)&&v(r,t)},$type:function(e,t,n,r){return y(r,t)}};e.exports=o},function(e,t){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==r.call(e)}},function(e,t,n){"use strict";function r(e,t){function n(e){return 1===Object.keys(e.views).length&&e.views[a]?{_id:r,_deleted:!0}:(delete e.views[a],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,a=t.name;return i(e,r,n).then(function(){return o.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var o=n(230),i=n(239);e.exports=r},function(e,t,n){"use strict";function r(e){return(0,l.cozyFetchJSON)(e,"GET","/settings/disk-usage")}function o(e,t,n){return(0,l.cozyFetchJSON)(e,"PUT","/settings/passphrase",{current_passphrase:t,new_passphrase:n})}function i(e){return(0,l.cozyFetchJSON)(e,"GET","/settings/instance")}function a(e,t){return(0,l.cozyFetchJSON)(e,"PUT","/settings/instance",t)}function u(e){return(0,l.cozyFetchJSON)(e,"GET","/settings/clients")}function s(e,t){return(0,l.cozyFetchJSON)(e,"DELETE","/settings/clients/"+t)}function c(e){return(0,l.cozyFetchJSON)(e,"POST","/settings/synchronized")}Object.defineProperty(t,"__esModule",{value:!0}),t.diskUsage=r,t.changePassphrase=o,t.getInstance=i,t.updateInstance=a,t.getClients=u,t.deleteClientById=s,t.updateLastSync=c;var l=n(196)},function(e,t,n){"use strict";function r(e){return function(t,n,r){if(!n)throw new Error("missing doc argument");Array.isArray(r)||(r=[r]);var o=r.map(function(e){return{type:s.DOCTYPE_FILES,id:e}});return(0,u.cozyFetchJSON)(t,e,a(n),{data:o})}}function o(e,t){if(!t)throw new Error("missing doc argument");return(0,u.cozyFetchJSON)(e,"GET",a(t)).then(function(e){return e.map(function(e){return e._id})})}function i(e,t,n){if(!t)throw new Error("missing doc argument");var r=Object.keys(n).map(function(e){return"&page["+e+"]="+n[e]}).join("");return(0,u.cozyFetchRawJSON)(e,"GET",a(t)+"?include=files&sort=datetime"+r)}function a(e){return"/data/"+encodeURIComponent(e._type)+"/"+encodeURIComponent(e._id)+"/relationships/references"}Object.defineProperty(t,"__esModule",{value:!0}),t.removeReferencedFiles=t.addReferencedFiles=void 0,t.listReferencedFiles=o,t.fetchReferencedFiles=i;var u=n(196),s=n(199);t.addReferencedFiles=r("POST"),t.removeReferencedFiles=r("DELETE")}])})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports=n(274)()},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,u],l=0;s=new Error(t.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},function(e,t,n){var r=n(7),o=n(250),i=n(65),a=Object.defineProperty;t.f=n(19)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},,function(e,t,n){var r=n(44),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";(function(e){var r=n(177);t.once=function(e){var n=!1;return t.getArguments(function(t){if(n)throw console.trace(),new Error("once called  more than once");n=!0,e.apply(this,t)})},t.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},t.toPromise=function(n){return t.getArguments(function(o){var i,a=this,u="function"==typeof o[o.length-1]&&o.pop();u&&(i=function(t,n){e.nextTick(function(){u(t,n)})});var s=new r(function(e,r){try{var i=t.once(function(t,n){t?r(t):e(n)});o.push(i),n.apply(a,o)}catch(e){r(e)}});return i&&s.then(function(e){i(null,e)},i),s.cancel=function(){return this},s})},t.inherits=n(76),t.Promise=r,t.clone=function(e){return t.extend(!0,{},e)},t.extend=n(179),t.callbackify=function(e){return t.getArguments(function(n){var r=n.pop(),o=e.apply(this,n);return t.promisedCallback(o,r),o})},t.promisedCallback=function(t,n){return t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t};var o=n(367),i=n(180);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")},t.flatten=t.getArguments(function(e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];Array.isArray(i)?n=n.concat(t.flatten.apply(null,i)):n.push(i)}return n}),t.mergeObjects=function(e){for(var n={},r=0,o=e.length;r<o;r++)n=t.extend(!0,n,e[r]);return n},t.getFieldFromDoc=function(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n},t.setFieldInDoc=function(e,t,n){for(var r=0,o=t.length;r<o-1;r++){e=e[t[r]]={}}e[t[o-1]]=n},t.parseField=function(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t},t.pick=function(e,n){for(var r={},o=0,i=n.length;o<i;o++){var a=t.parseField(n[o]),u=t.getFieldFromDoc(e,a);void 0!==u&&t.setFieldInDoc(r,a,u)}return r},t.oneArrayIsSubArrayOfOther=function(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0},t.oneArrayIsStrictSubArrayOfOther=function(e,n){return!(e.length>n.length)&&t.oneArrayIsSubArrayOfOther(e,n)},t.oneSetIsSubArrayOfOther=function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var o=t[n];if(!e.length)break;var i=e.indexOf(o);if(-1===i)return!1;e.splice(i,1)}return!0},t.compare=function(e,t){return e<t?-1:e>t?1:0},t.arrayToObject=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t},t.max=function(e,t){for(var n=null,r=-1,o=0,i=e.length;o<i;o++){var a=e[o],u=t(a);u>r&&(r=u,n=a)}return n},t.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.uniq=function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})},t.log=n(368)("pouchdb:find")}).call(t,n(18))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&h&&(v=!1,h.length?p=h.concat(p):y=-1,p.length&&u())}function u(){if(!v){var e=o(a);v=!0;for(var t=p.length;t;){for(h=p,p=[];++y<t;)h&&h[y].run();y=-1,t=p.length}h=null,v=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],v=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||v||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){e.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(188),o=n(404),i=n(405),a=n(406),u=n(191);n(190);n.d(t,"createStore",function(){return r.b}),n.d(t,"combineReducers",function(){return o.a}),n.d(t,"bindActionCreators",function(){return i.a}),n.d(t,"applyMiddleware",function(){return a.a}),n.d(t,"compose",function(){return u.a})},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r=n(14),o=n(41);e.exports=n(19)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){function r(e,t){if(l(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=t||{},r=n.additionalDigits;r=null==r?h:Number(r);var c=o(e),f=i(c.date,r),p=f.year,v=f.restDateString,y=a(v,p);if(y){var m,g=y.getTime(),b=0;return c.time&&(b=u(c.time)),c.timezone?m=s(c.timezone):(m=new Date(g+b).getTimezoneOffset(),m=new Date(g+b+m*d).getTimezoneOffset()),new Date(g+b+m*d)}return new Date(e)}function o(e){var t,n={},r=e.split(p);if(v.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var o=j.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}function i(e,t){var n,r=m[t],o=b[t];if(n=g.exec(e)||o.exec(e)){var i=n[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(n=y.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}function a(e,t){if(null===t)return null;var n,r,o,i;if(0===e.length)return r=new Date(0),r.setUTCFullYear(t),r;if(n=_.exec(e))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(t,o),r;if(n=w.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(t,0,a),r}if(n=k.exec(e)){r=new Date(0),o=parseInt(n[1],10)-1;var u=parseInt(n[2],10);return r.setUTCFullYear(t,o,u),r}if(n=E.exec(e))return i=parseInt(n[1],10)-1,c(t,i);if(n=x.exec(e)){i=parseInt(n[1],10)-1;return c(t,i,parseInt(n[2],10)-1)}return null}function u(e){var t,n,r;if(t=S.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*f;if(t=O.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*f+r*d;if(t=A.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return n%24*f+r*d+1e3*o}return null}function s(e){var t,n;return(t=T.exec(e))?0:(t=D.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=C.exec(e),t?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0)}function c(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=7*t+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var l=n(102),f=36e5,d=6e4,h=2,p=/[T ]/,v=/:/,y=/^(\d{2})$/,m=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],g=/^(\d{4})/,b=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],_=/^-(\d{2})$/,w=/^-?(\d{3})$/,k=/^-?(\d{2})-?(\d{2})$/,E=/^-?W(\d{2})$/,x=/^-?W(\d{2})-?(\d{1})$/,S=/^(\d{2}([.,]\d*)?)$/,O=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,A=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,j=/([Z+-].*)$/,T=/^(Z)$/,D=/^([+-])(\d{2})$/,C=/^([+-])(\d{2}):?(\d{2})$/;e.exports=r},function(e,t,n){var r=n(210),o=n(45);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(1),o=n(49),i=n(11);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";(function(e){function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.openFileWith=t.toggleAvailableOffline=t.downloadFiles=t.trashFiles=t.createFolder=t.abortAddFolder=t.uploadedFile=t.openFileInNewTab=t.getFileDownloadUrl=t.fetchMoreFiles=t.fetchRecentFiles=t.openFolder=t.openTrash=t.openRecent=t.openFiles=t.META_DEFAULTS=t.extractFileAttributes=t.getOpenedFolderId=t.OPEN_FILE_E_NO_APP=t.OPEN_FILE_E_OFFLINE=t.OPEN_FILE_WITH=t.DOWNLOAD_FILE_E_OFFLINE=t.DOWNLOAD_FILE_E_MISSING=t.DOWNLOAD_FILE=t.DOWNLOAD_SELECTION=t.TRASH_FILES_FAILURE=t.TRASH_FILES_SUCCESS=t.TRASH_FILES=t.UPLOAD_FILE_SUCCESS=t.CREATE_FOLDER_SUCCESS=t.CREATE_FOLDER_FAILURE_DUPLICATE=t.CREATE_FOLDER_FAILURE_GENERIC=t.CREATE_FOLDER=t.ABORT_ADD_FOLDER=t.FETCH_MORE_FILES_FAILURE=t.FETCH_MORE_FILES_SUCCESS=t.FETCH_MORE_FILES=t.FETCH_RECENT_FAILURE=t.FETCH_RECENT_SUCCESS=t.FETCH_RECENT=t.OPEN_FOLDER_FAILURE=t.OPEN_FOLDER_SUCCESS=t.OPEN_FOLDER=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(84),a=n(416),u=n(417),s=n(63),c=n(64),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),f=n(85),d=t.OPEN_FOLDER="OPEN_FOLDER",h=t.OPEN_FOLDER_SUCCESS="OPEN_FOLDER_SUCCESS",p=t.OPEN_FOLDER_FAILURE="OPEN_FOLDER_FAILURE",v=t.FETCH_RECENT="FETCH_RECENT",y=t.FETCH_RECENT_SUCCESS="FETCH_RECENT_SUCCESS",m=t.FETCH_RECENT_FAILURE="FETCH_RECENT_FAILURE",g=t.FETCH_MORE_FILES="FETCH_MORE_FILES",b=t.FETCH_MORE_FILES_SUCCESS="FETCH_MORE_FILES_SUCCESS",_=t.FETCH_MORE_FILES_FAILURE="FETCH_MORE_FILES_FAILURE",w=t.ABORT_ADD_FOLDER="ABORT_ADD_FOLDER",k=t.CREATE_FOLDER="CREATE_FOLDER",E=t.CREATE_FOLDER_FAILURE_GENERIC="CREATE_FOLDER_FAILURE_GENERIC",x=t.CREATE_FOLDER_FAILURE_DUPLICATE="CREATE_FOLDER_FAILURE_DUPLICATE",S=t.CREATE_FOLDER_SUCCESS="CREATE_FOLDER_SUCCESS",O=t.UPLOAD_FILE_SUCCESS="UPLOAD_FILE_SUCCESS",A=t.TRASH_FILES="TRASH_FILES",j=t.TRASH_FILES_SUCCESS="TRASH_FILES_SUCCESS",T=t.TRASH_FILES_FAILURE="TRASH_FILES_FAILURE",D=t.DOWNLOAD_SELECTION="DOWNLOAD_SELECTION",C=t.DOWNLOAD_FILE="DOWNLOAD_FILE",M=t.DOWNLOAD_FILE_E_MISSING="DOWNLOAD_FILE_E_MISSING",R=t.DOWNLOAD_FILE_E_OFFLINE="DOWNLOAD_FILE_E_OFFLINE",I=t.OPEN_FILE_WITH="OPEN_FILE_WITH",P=(t.OPEN_FILE_E_OFFLINE="OPEN_FILE_E_OFFLINE",t.OPEN_FILE_E_NO_APP="OPEN_FILE_E_NO_APP",t.getOpenedFolderId=function(e){return e.view.openedFolderId},t.extractFileAttributes=function(e){return o({},e.attributes,{id:e._id,_id:e._id,_type:"io.cozy.files",links:e.links,relationships:e.relationships})}),N=t.META_DEFAULTS={cancelSelection:!0,hideActionMenu:!0},F=(t.openFiles=function(){return function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(F(f.ROOT_DIR_ID)));case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.openRecent=function(){return function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(z()));case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.openTrash=function(){return function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(F(f.TRASH_DIR_ID)));case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.openFolder=function(t){return function(){var n=r(regeneratorRuntime.mark(function n(r,o){var i,a,u,s,c,l,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:d,folderId:t,meta:{cancelSelection:!0}}),n.prev=1,i=o().settings,a=i.offline&&i.firstReplication,n.next=6,e.files.statById(t,a);case 6:if(u=n.sent,s=u.attributes.dir_id,n.t0=!!s,!n.t0){n.next=13;break}return n.next=12,e.files.statById(s,a).catch(function(e){if(403!==e.status)throw e;console.warn("User don't have access to parent folder")});case 12:n.t0=n.sent;case 13:return c=n.t0,l=u.relationships.contents,f=u.relations("contents").filter(function(e){return void 0!==e})||[],n.abrupt("return",r({type:h,folder:Object.assign(P(u),{parent:!!c&&P(c)}),fileCount:l.meta.count||0,files:f.map(function(e){return P(e)})}));case 19:return n.prev=19,n.t1=n.catch(1),n.abrupt("return",r({type:p,error:n.t1}));case 22:case"end":return n.stop()}},n,void 0,[[1,19]])}));return function(e,t){return n.apply(this,arguments)}}()}),z=t.fetchRecentFiles=function(){return function(){var t=r(regeneratorRuntime.mark(function t(n,r){var i,a,u,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:v,meta:{cancelSelection:!0}}),t.prev=1,t.next=4,e.data.defineIndex("io.cozy.files",["updated_at","trashed"]);case 4:return i=t.sent,t.next=7,e.data.query(i,{selector:{updated_at:{$gt:null},trashed:!1},sort:[{updated_at:"desc"}],limit:50});case 7:return a=t.sent,u=a.map(function(e){return e.dir_id}).filter(function(e,t,n){return n.indexOf(e)===t}),t.next=11,e.fetchJSON("POST","/data/io.cozy.files/_all_docs?include_docs=true",{keys:u});case 11:return s=t.sent,c=a.map(function(e){var t=s.rows.find(function(t){return t.id===e.dir_id}),n=t?t.doc.path:"";return o({},e,{path:n,id:e._id})}),t.abrupt("return",n({type:y,fileCount:c.length,files:c}));case 16:return t.prev=16,t.t0=t.catch(1),t.abrupt("return",n({type:m,error:t.t0}));case 19:case"end":return t.stop()}},t,void 0,[[1,16]])}));return function(e,n){return t.apply(this,arguments)}}()},L=(t.fetchMoreFiles=function(t,n,o){return function(){var i=r(regeneratorRuntime.mark(function r(i,a){var u,s,c,l;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i({type:g,folderId:t,skip:n,limit:o}),r.prev=1,u=a().settings,s=u.offline&&u.firstReplication,r.next=6,e.files.statById(t,s,{skip:n,limit:o});case 6:return c=r.sent,l=c.relations("contents").filter(function(e){return void 0!==e})||[],r.abrupt("return",i({type:b,files:l.map(function(e){return P(e)}),skip:n,limit:o}));case 11:return r.prev=11,r.t0=r.catch(1),r.abrupt("return",i({type:_,error:r.t0}));case 14:case"end":return r.stop()}},r,void 0,[[1,11]])}));return function(e,t){return i.apply(this,arguments)}}()},t.getFileDownloadUrl=function(){var t=r(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.files.getDownloadLinkById(n);case 2:return r=t.sent,t.abrupt("return",""+e._url+r);case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()),q=(t.openFileInNewTab=function(e){return function(){var t=r(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.availableOffline){t.next=4;break}(0,a.openOfflineFile)(e).catch(function(e){console.error("openFileInNewTab",e),n((0,u.openWithNoAppError)({cancelSelection:!0,hideActionMenu:!0}))}),t.next=9;break;case 4:return r=window.open("about:blank","_blank"),t.next=7,L(e.id);case 7:o=t.sent,(0,i.isCordova)()?r.executeScript({code:"window.location.href = '"+o+"'"}):r.location.href=o;case 9:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.uploadedFile=function(e){return{type:O,file:P(e)}},t.abortAddFolder=function(e){var t={type:w,accidental:e};return e&&(t.alert={message:"alert.folder_abort"}),t},t.createFolder=function(t){return function(){var n=r(regeneratorRuntime.mark(function n(r,o){var i,a,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=o().view.files.find(function(e){return(0,s.isDirectory)(e)&&e.name===t}),a=o().view.fileCount,!i){n.next=5;break}throw r({type:x,alert:{message:"alert.folder_name",messageData:{folderName:t}}}),new Error("alert.folder_name");case 5:return r({type:k,name:t}),n.prev=6,n.next=9,e.files.createDirectory({name:t,dirID:o().view.displayedFolder.id});case 9:u=n.sent,r({type:S,folder:P(u),currentFileCount:a}),n.next=17;break;case 13:throw n.prev=13,n.t0=n.catch(6),r(n.t0.response&&409===n.t0.response.status?{type:x,alert:{message:"alert.folder_name",messageData:{folderName:t}}}:{type:E,alert:{message:"alert.folder_generic"}}),n.t0;case 17:case"end":return n.stop()}},n,void 0,[[6,13]])}));return function(e,t){return n.apply(this,arguments)}}()},t.trashFiles=function(t){var n=N;return function(){var o=r(regeneratorRuntime.mark(function r(o){var i,a,u,c,l,f,d,h,p,v,y,m,g;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:o({type:A,files:t,meta:n}),i=[],r.prev=2,a=!0,u=!1,c=void 0,r.prev=6,l=t[Symbol.iterator]();case 8:if(a=(f=l.next()).done){r.next=46;break}return d=f.value,r.t0=i,r.next=13,e.files.trashById(d.id);case 13:if(r.t1=r.sent,r.t0.push.call(r.t0,r.t1),!(0,s.isReferencedByAlbum)(d)){r.next=43;break}h=!0,p=!1,v=void 0,r.prev=19,y=d.relationships.referenced_by.data[Symbol.iterator]();case 21:if(h=(m=y.next()).done){r.next=29;break}if(g=m.value,g.type!==s.ALBUMS_DOCTYPE){r.next=26;break}return r.next=26,e.data.removeReferencedFiles({_type:g.type,_id:g.id},d.id);case 26:h=!0,r.next=21;break;case 29:r.next=35;break;case 31:r.prev=31,r.t2=r.catch(19),p=!0,v=r.t2;case 35:r.prev=35,r.prev=36,!h&&y.return&&y.return();case 38:if(r.prev=38,!p){r.next=41;break}throw v;case 41:return r.finish(38);case 42:return r.finish(35);case 43:a=!0,r.next=8;break;case 46:r.next=52;break;case 48:r.prev=48,r.t3=r.catch(6),u=!0,c=r.t3;case 52:r.prev=52,r.prev=53,!a&&l.return&&l.return();case 55:if(r.prev=55,!u){r.next=58;break}throw c;case 58:return r.finish(55);case 59:return r.finish(52);case 60:r.next=66;break;case 62:if(r.prev=62,r.t4=r.catch(2),W(r.t4)){r.next=66;break}return r.abrupt("return",o({type:T,alert:{message:"alert.try_again"}}));case 66:return r.abrupt("return",o({type:j,ids:t.map(function(e){return e.id}),alert:{message:"alert.trash_file_success"}}));case 67:case"end":return r.stop()}},r,void 0,[[2,62],[6,48,52,60],[19,31,35,43],[36,,38,42],[53,,55,59]])}));return function(e){return o.apply(this,arguments)}}()},t.downloadFiles=function(t){var n=N;return function(){var o=r(regeneratorRuntime.mark(function r(o){var i,a,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(1!==t.length||(0,s.isDirectory)(t[0])){r.next=2;break}return r.abrupt("return",o(H(t[0],n)));case 2:return i=t.map(function(e){return e.path}),r.next=5,e.files.getArchiveLinkByPaths(i);case 5:return a=r.sent,r.next=8,e.fullpath(a);case 8:return u=r.sent,$(u,"files.zip"),r.abrupt("return",o({type:D,files:t,meta:n}));case 11:case"end":return r.stop()}},r,void 0)}));return function(e){return o.apply(this,arguments)}}()},t.toggleAvailableOffline=function(e){return function(){var t=r(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(l.isAvailableOffline(r())(e.id)?q(e):B(e)));case 1:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()},function(e){return function(){var t=r(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=e.id,(0,i.isCordova)()&&window.cordova.file&&(0,a.deleteOfflineFile)(r),n(l.undoMakeAvailableOffline(e.id));case 3:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}),B=function(t){return function(){var n=r(regeneratorRuntime.mark(function n(r){var o,u,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.files.downloadById(t.id).catch(function(e){throw r(Y(e,N)),e});case 2:return o=n.sent,n.next=5,o.blob();case 5:u=n.sent,s=t.id,(0,i.isCordova)()&&window.cordova.file&&(0,a.saveFileWithCordova)(u,s),r(l.makeAvailableOffline(t.id));case 9:case"end":return n.stop()}},n,void 0)}));return function(e){return n.apply(this,arguments)}}()},U=function(e){return 404===e.status},Y=function(e,t){var n=U(e)?"error.download_file.missing":"error.download_file.offline";return{type:U(e)?M:R,alert:{message:n,level:"error"},meta:t}},H=function(t,n){return function(){var o=r(regeneratorRuntime.mark(function r(o){var u,s,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.files.downloadById(t.id).catch(function(e){throw o(Y(e,n)),e});case 2:return u=r.sent,r.next=5,u.blob();case 5:return s=r.sent,c=t.name,(0,i.isCordova)()&&window.cordova.file?(0,a.saveFileWithCordova)(s,c):$(window.URL.createObjectURL(s),c),r.abrupt("return",o({type:C,file:t,meta:n}));case 9:case"end":return r.stop()}},r,void 0)}));return function(e){return o.apply(this,arguments)}}()},$=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},W=(t.openFileWith=function(t,n){var o={cancelSelection:!0,hideActionMenu:!0};return function(){var s=r(regeneratorRuntime.mark(function r(s,c){var l,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(0,i.isCordova)()||!window.cordova.plugins.fileOpener2){r.next=12;break}return s({type:I,id:t}),r.next=4,e.files.downloadById(t).catch(function(e){throw console.error("downloadById",e),s(Y(e,o)),e});case 4:return l=r.sent,r.next=7,l.blob();case 7:return f=r.sent,r.next=10,(0,a.saveAndOpenWithCordova)(f,n).catch(function(e){console.error("openFileWithCordova",e),s((0,u.openWithNoAppError)(o))});case 10:r.next=13;break;case 12:s((0,u.openWithNoAppError)(o));case 13:case"end":return r.stop()}},r,void 0)}));return function(e,t){return s.apply(this,arguments)}}()},function(e){var t=void 0!==e.reason?e.reason.errors:void 0;if(t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if("File or directory is already in the trash"===i.value.detail)return!0}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}return!1})}).call(t,n(10))},function(e,t,n){"use strict";function r(e){return Object.keys(e)[0]}function o(e){return e[r(e)]}function i(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function a(e){return E.indexOf(e)>-1}function u(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function s(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function c(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function l(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function f(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),a(n))r instanceof Array?t[n]=r.map(function(e){return f([e])}):t[n]=f([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?u(e,t,o):"$lt"===e||"$lte"===e?s(e,t,o):"$ne"===e?c(t,o):"$eq"===e?l(t,o):void(o[e]=t)})}})}),t}function d(e){var t=w.clone(e),n=!1;"$and"in t&&(t=f(t.$and),n=!0),"$not"in t&&(t.$not=f([t.$not]));for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],a=t[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),t[i]=a}return t}function h(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function p(e,t){for(var n=[],o=0;o<t.def.fields.length;o++){var i=r(t.def.fields[o]);n.push(e[i])}return n}function v(e,t,n){for(var r=n.def.fields,o=0,i=e.length;o<i;o++){var a=e[o],u=p(a.doc,n);if(1===r.length)u=u[0];else for(;u.length>t.length;)u.pop();if(Math.abs(k.collate(u,t))>0)break}return o>0?e.slice(o):e}function y(e){var t=w.clone(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function m(e){var t=e.fields.filter(function(e){return"asc"===o(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function g(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}t.defaultUsed}function b(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}function _(e,t){var n,o=Object.keys(e),i=t?t.map(r):[];return n=o.length>=i.length?o:i,0===i.length?{fields:n}:(n=n.sort(function(e,t){var n=i.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=i.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),{fields:n,sortOrder:t.map(r)})}var w=n(17),k=n(48),E=["$or","$nor","$not"];e.exports={getKey:r,getValue:o,massageSort:i,massageSelector:d,validateIndex:m,validateFindRequest:b,validateSort:g,reverseOptions:y,filterInclusiveStart:v,massageIndexDef:h,parseField:w.parseField,getUserFields:_,isCombinationalField:a}},function(e,t,n){var r=n(43);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(45);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";if(n(19)){var r=n(50),o=n(6),i=n(11),a=n(1),u=n(209),s=n(251),c=n(30),l=n(52),f=n(41),d=n(24),h=n(51),p=n(44),v=n(16),y=n(252),m=n(54),g=n(65),b=n(20),_=n(217),w=n(4),k=n(31),E=n(218),x=n(67),S=n(57),O=n(66).f,A=n(219),j=n(42),T=n(9),D=n(68),C=n(211),M=n(216),R=n(220),I=n(56),P=n(87),N=n(86),F=n(215),z=n(258),L=n(14),q=n(33),B=L.f,U=q.f,Y=o.RangeError,H=o.TypeError,$=o.Uint8Array,W=Array.prototype,G=s.ArrayBuffer,V=s.DataView,X=D(0),J=D(2),K=D(3),Q=D(4),Z=D(5),ee=D(6),te=C(!0),ne=C(!1),re=R.values,oe=R.keys,ie=R.entries,ae=W.lastIndexOf,ue=W.reduce,se=W.reduceRight,ce=W.join,le=W.sort,fe=W.slice,de=W.toString,he=W.toLocaleString,pe=T("iterator"),ve=T("toStringTag"),ye=j("typed_constructor"),me=j("def_constructor"),ge=u.CONSTR,be=u.TYPED,_e=u.VIEW,we=D(1,function(e,t){return Oe(M(e,e[me]),t)}),ke=i(function(){return 1===new $(new Uint16Array([1]).buffer)[0]}),Ee=!!$&&!!$.prototype.set&&i(function(){new $(1).set({})}),xe=function(e,t){var n=p(e);if(n<0||n%t)throw Y("Wrong offset!");return n},Se=function(e){if(w(e)&&be in e)return e;throw H(e+" is not a typed array!")},Oe=function(e,t){if(!(w(e)&&ye in e))throw H("It is not a typed array constructor!");return new e(t)},Ae=function(e,t){return je(M(e,e[me]),t)},je=function(e,t){for(var n=0,r=t.length,o=Oe(e,r);r>n;)o[n]=t[n++];return o},Te=function(e,t,n){B(e,t,{get:function(){return this._d[n]}})},De=function(e){var t,n,r,o,i,a,u=k(e),s=arguments.length,l=s>1?arguments[1]:void 0,f=void 0!==l,d=A(u);if(void 0!=d&&!E(d)){for(a=d.call(u),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);u=r}for(f&&s>2&&(l=c(l,arguments[2],2)),t=0,n=v(u.length),o=Oe(this,n);n>t;t++)o[t]=f?l(u[t],t):u[t];return o},Ce=function(){for(var e=0,t=arguments.length,n=Oe(this,t);t>e;)n[e]=arguments[e++];return n},Me=!!$&&i(function(){he.call(new $(1))}),Re=function(){return he.apply(Me?fe.call(Se(this)):Se(this),arguments)},Ie={copyWithin:function(e,t){return z.call(Se(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(Se(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return F.apply(Se(this),arguments)},filter:function(e){return Ae(this,J(Se(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Se(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Se(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(Se(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Se(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Se(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Se(this),arguments)},lastIndexOf:function(e){return ae.apply(Se(this),arguments)},map:function(e){return we(Se(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(Se(this),arguments)},reduceRight:function(e){return se.apply(Se(this),arguments)},reverse:function(){for(var e,t=this,n=Se(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return K(Se(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Se(this),e)},subarray:function(e,t){var n=Se(this),r=n.length,o=m(e,r);return new(M(n,n[me]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,v((void 0===t?r:m(t,r))-o))}},Pe=function(e,t){return Ae(this,fe.call(Se(this),e,t))},Ne=function(e){Se(this);var t=xe(arguments[1],1),n=this.length,r=k(e),o=v(r.length),i=0;if(o+t>n)throw Y("Wrong length!");for(;i<o;)this[t+i]=r[i++]},Fe={entries:function(){return ie.call(Se(this))},keys:function(){return oe.call(Se(this))},values:function(){return re.call(Se(this))}},ze=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Le=function(e,t){return ze(e,t=g(t,!0))?f(2,e[t]):U(e,t)},qe=function(e,t,n){return!(ze(e,t=g(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?B(e,t,n):(e[t]=n.value,e)};ge||(q.f=Le,L.f=qe),a(a.S+a.F*!ge,"Object",{getOwnPropertyDescriptor:Le,defineProperty:qe}),i(function(){de.call({})})&&(de=he=function(){return ce.call(this)});var Be=h({},Ie);h(Be,Fe),d(Be,pe,Fe.values),h(Be,{slice:Pe,set:Ne,constructor:function(){},toString:de,toLocaleString:Re}),Te(Be,"buffer","b"),Te(Be,"byteOffset","o"),Te(Be,"byteLength","l"),Te(Be,"length","e"),B(Be,ve,{get:function(){return this[be]}}),e.exports=function(e,t,n,s){s=!!s;var c=e+(s?"Clamped":"")+"Array",f="get"+e,h="set"+e,p=o[c],m=p||{},g=p&&S(p),b=!p||!u.ABV,k={},E=p&&p.prototype,A=function(e,n){var r=e._d;return r.v[f](n*t+r.o,ke)},j=function(e,n,r){var o=e._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[h](n*t+o.o,r,ke)},T=function(e,t){B(e,t,{get:function(){return A(this,t)},set:function(e){return j(this,t,e)},enumerable:!0})};b?(p=n(function(e,n,r,o){l(e,p,c,"_d");var i,a,u,s,f=0,h=0;if(w(n)){if(!(n instanceof G||"ArrayBuffer"==(s=_(n))||"SharedArrayBuffer"==s))return be in n?je(p,n):De.call(p,n);i=n,h=xe(r,t);var m=n.byteLength;if(void 0===o){if(m%t)throw Y("Wrong length!");if((a=m-h)<0)throw Y("Wrong length!")}else if((a=v(o)*t)+h>m)throw Y("Wrong length!");u=a/t}else u=y(n),a=u*t,i=new G(a);for(d(e,"_d",{b:i,o:h,l:a,e:u,v:new V(i)});f<u;)T(e,f++)}),E=p.prototype=x(Be),d(E,"constructor",p)):i(function(){p(1)})&&i(function(){new p(-1)})&&P(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=n(function(e,n,r,o){l(e,p,c);var i;return w(n)?n instanceof G||"ArrayBuffer"==(i=_(n))||"SharedArrayBuffer"==i?void 0!==o?new m(n,xe(r,t),o):void 0!==r?new m(n,xe(r,t)):new m(n):be in n?je(p,n):De.call(p,n):new m(y(n))}),X(g!==Function.prototype?O(m).concat(O(g)):O(m),function(e){e in p||d(p,e,m[e])}),p.prototype=E,r||(E.constructor=p));var D=E[pe],C=!!D&&("values"==D.name||void 0==D.name),M=Fe.values;d(p,ye,!0),d(E,be,c),d(E,_e,!0),d(E,me,p),(s?new p(1)[ve]==c:ve in E)||B(E,ve,{get:function(){return c}}),k[c]=p,a(a.G+a.W+a.F*(p!=m),k),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i(function(){m.of.call(p,1)}),c,{from:De,of:Ce}),"BYTES_PER_ELEMENT"in E||d(E,"BYTES_PER_ELEMENT",t),a(a.P,c,Ie),N(c),a(a.P+a.F*Ee,c,{set:Ne}),a(a.P+a.F*!C,c,Fe),r||E.toString==de||(E.toString=de),a(a.P+a.F*i(function(){new p(1).slice()}),c,{slice:Pe}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!i(function(){E.toLocaleString.call([1,2])})),c,{toLocaleString:Re}),I[c]=C?D:M,r||C||d(E,pe,M)}}else e.exports=function(){}},function(e,t,n){var r=n(69),o=n(41),i=n(26),a=n(65),u=n(20),s=n(250),c=Object.getOwnPropertyDescriptor;t.f=n(19)?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(350);Object.defineProperty(t,"CozyProvider",{enumerable:!0,get:function(){return r(o).default}});var i=n(351);Object.defineProperty(t,"CozyClient",{enumerable:!0,get:function(){return r(i).default}});var a=n(386);Object.defineProperty(t,"cozyConnect",{enumerable:!0,get:function(){return r(a).default}});var u=n(411);Object.defineProperty(t,"cozyMiddleware",{enumerable:!0,get:function(){return r(u).default}});var s=n(194);Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return r(s).default}}),Object.defineProperty(t,"makeActionCreator",{enumerable:!0,get:function(){return s.makeActionCreator}}),Object.defineProperty(t,"fetchCollection",{enumerable:!0,get:function(){return s.fetchCollection}}),Object.defineProperty(t,"refetchCollections",{enumerable:!0,get:function(){return s.refetchCollections}}),Object.defineProperty(t,"fetchDocument",{enumerable:!0,get:function(){return s.fetchDocument}}),Object.defineProperty(t,"fetchReferencedFiles",{enumerable:!0,get:function(){return s.fetchReferencedFiles}}),Object.defineProperty(t,"addReferencedFiles",{enumerable:!0,get:function(){return s.addReferencedFiles}}),Object.defineProperty(t,"removeReferencedFiles",{enumerable:!0,get:function(){return s.removeReferencedFiles}}),Object.defineProperty(t,"applySelectorForAction",{enumerable:!0,get:function(){return s.applySelectorForAction}}),Object.defineProperty(t,"enhancePropsForActions",{enumerable:!0,get:function(){return s.enhancePropsForActions}}),Object.defineProperty(t,"getCollection",{enumerable:!0,get:function(){return s.getCollection}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(t,"createDocument",{enumerable:!0,get:function(){return s.createDocument}}),Object.defineProperty(t,"updateDocument",{enumerable:!0,get:function(){return s.updateDocument}}),Object.defineProperty(t,"updateDocuments",{enumerable:!0,get:function(){return s.updateDocuments}}),Object.defineProperty(t,"deleteDocument",{enumerable:!0,get:function(){return s.deleteDocument}}),Object.defineProperty(t,"deleteDocuments",{enumerable:!0,get:function(){return s.deleteDocuments}}),Object.defineProperty(t,"createFile",{enumerable:!0,get:function(){return s.createFile}}),Object.defineProperty(t,"trashFile",{enumerable:!0,get:function(){return s.trashFile}}),Object.defineProperty(t,"CREATE_DOCUMENT",{enumerable:!0,get:function(){return s.CREATE_DOCUMENT}});var c=n(195);Object.defineProperty(t,"fetchSharings",{enumerable:!0,get:function(){return c.fetchSharings}}),Object.defineProperty(t,"fetchContacts",{enumerable:!0,get:function(){return c.fetchContacts}}),Object.defineProperty(t,"getSharings",{enumerable:!0,get:function(){return c.getSharings}}),Object.defineProperty(t,"getSharingDetails",{enumerable:!0,get:function(){return c.getSharingDetails}}),Object.defineProperty(t,"share",{enumerable:!0,get:function(){return c.share}}),Object.defineProperty(t,"unshare",{enumerable:!0,get:function(){return c.unshare}}),Object.defineProperty(t,"leave",{enumerable:!0,get:function(){return c.leave}}),Object.defineProperty(t,"shareByLink",{enumerable:!0,get:function(){return c.shareByLink}}),Object.defineProperty(t,"revokeLink",{enumerable:!0,get:function(){return c.revokeLink}});var l=n(79);Object.defineProperty(t,"startSync",{enumerable:!0,get:function(){return l.startSync}}),Object.defineProperty(t,"isFirstSync",{enumerable:!0,get:function(){return l.isFirstSync}}),Object.defineProperty(t,"isSynced",{enumerable:!0,get:function(){return l.isSynced}}),Object.defineProperty(t,"hasSyncStarted",{enumerable:!0,get:function(){return l.hasSyncStarted}}),Object.defineProperty(t,"isSyncInError",{enumerable:!0,get:function(){return l.isSyncInError}});var f=n(47);Object.defineProperty(t,"downloadArchive",{enumerable:!0,get:function(){return f.downloadArchive}}),Object.defineProperty(t,"downloadFile",{enumerable:!0,get:function(){return f.downloadFile}})},function(e,t,n){var r=n(6),o=n(24),i=n(20),a=n(42)("src"),u=Function.toString,s=(""+u).split("toString");n(49).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e,t,n){var r=n(42)("meta"),o=n(4),i=n(20),a=n(14).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(11)(function(){return s(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return c&&p.NEED&&s(e)&&!i(e,r)&&l(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var i=n(0),a=r(i),u=n(237),s=n(3),c=r(s),l=n(415),f=r(l),d=t.Spinner=function(e){var t,n=e.t,r=e.loadingType,i=e.middle,u=e.noMargin,s=e.color,l=e.size;return a.default.createElement("div",{className:(0,c.default)(f.default["coz-spinner"],(t={},o(t,f.default["coz-spinner--middle"],i),o(t,f.default["coz-spinner--no-margin"],u),o(t,f.default["coz-spinner--"+s],s),o(t,f.default["coz-spinner--"+l],l),t))},r&&a.default.createElement("p",null,n("loading."+r)))};t.default=(0,u.translate)()(d)},,function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(253),o=n(214);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){"use strict";(function(e){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeDoc=t.getIndexFields=t.downloadFile=t.downloadArchive=void 0;var i=n(74),a=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},u=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)};t.downloadArchive=function(){var t=o(regeneratorRuntime.mark(function t(n,r){var o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=a(n),t.next=3,e.files.getArchiveLinkByIds(r,o);case 3:return i=t.sent,t.next=6,e.fullpath(i);case 6:s=t.sent,u(s,o+".zip");case 8:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}(),t.downloadFile=function(){var t=o(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.files.downloadById(n.id);case 2:return r=t.sent,t.next=5,r.blob();case 5:o=t.sent,u(window.URL.createObjectURL(o),n.name);case 7:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),t.getIndexFields=function(e){var t=e.selector,n=e.sort;return n?[].concat(r(Object.keys(t)),r(Object.keys(n))).filter(function(e,t,n){return n.indexOf(e)===t}):Object.keys(t)},t.sanitizeDoc=function(e){return(0,i.removeObjectProperties)(e,["_type"])}}).call(t,n(10))},function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return l(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var n=Array.isArray(e),r=n?e:Object.keys(e),o=-1,i=r.length,a="";if(n)for(;++o<i;)a+=t.toIndexableString(r[o]);else for(;++o<i;){var u=r[o];a+=t.toIndexableString(u)+t.toIndexableString(e[u])}return a}return""}function o(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+d),u=parseInt(a,10)+f;for(o&&(u=-u),t+=d;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function i(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function a(e,n){for(var r=Math.min(e.length,n.length),o=0;o<r;o++){var i=t.collate(e[o],n[o]);if(0!==i)return i}return e.length===n.length?0:e.length>n.length?1:-1}function u(e,t){return e===t?0:e>t?1:-1}function s(e,n){for(var r=Object.keys(e),o=Object.keys(n),i=Math.min(r.length,o.length),a=0;a<i;a++){var u=t.collate(r[a],o[a]);if(0!==u)return u;if(0!==(u=t.collate(e[r[a]],n[o[a]])))return u}return r.length===o.length?0:r.length>o.length?1:-1}function c(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function l(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-f,a=p.padLeft(i.toString(),"0",d);o+=h+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=h+s}var f=-324,d=3,h="",p=n(375);t.collate=function(e,n){if(e===n)return 0;e=t.normalizeKey(e),n=t.normalizeKey(n);var r=c(e),o=c(n);if(r-o!=0)return r-o;if(null===e)return 0;switch(typeof e){case"number":return e-n;case"boolean":return e===n?0:e<n?-1:1;case"string":return u(e,n)}return Array.isArray(e)?a(e,n):s(e,n)},t.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var n=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;o<r;o++)e[o]=t.normalizeKey(n[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];void 0!==a&&(e[i]=t.normalizeKey(a))}}}}return e},t.toIndexableString=function(e){return e=t.normalizeKey(e),c(e)+h+r(e)+"\0"},t.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var a=e[r++];if("\0"!==a)switch(a){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var u=o(e,r);t.push(u.num),r+=u.length;break;case"4":for(var s="";;){var c=e[r];if("\0"===c)break;s+=c,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var l={element:[],index:t.length};t.push(l.element),n.push(l);break;case"6":var f={element:{},index:t.length};t.push(f.element),n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+a)}else{if(1===t.length)return t.pop();i(t,n)}}}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=!1},function(e,t,n){var r=n(35);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(44),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(14).f,o=n(20),i=n(9)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,n){var r=n(20),o=n(31),i=n(212)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(9)("unscopables"),o=Array.prototype;void 0==o[r]&&n(24)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ALBUMS_DOCTYPE="io.cozy.photos.albums";t.isFile=function(e){return e&&"file"===e.type},t.isDirectory=function(e){return e&&"directory"===e.type},t.isReferencedByAlbum=function(e){if(e.relationships&&e.relationships.referenced_by&&e.relationships.referenced_by.data&&e.relationships.referenced_by.data.length>0){var t=e.relationships.referenced_by.data,n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){if(a.value.type===r)return!0}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}}return!1},t.getFiles=function(e){return e.view.files}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"MAKE_AVAILABLE_OFFLINE":return[].concat(r(e),[t.id]);case"UNDO_MAKE_AVAILABLE_OFFLINE":var n=e.indexOf(t.id);return[].concat(r(e.slice(0,n)),r(e.slice(n+1)));default:return e}};t.makeAvailableOffline=function(e){return{type:"MAKE_AVAILABLE_OFFLINE",id:e}},t.undoMakeAvailableOffline=function(e){return{type:"UNDO_MAKE_AVAILABLE_OFFLINE",id:e}},t.isAvailableOffline=function(e){var t=e.availableOffline;return function(e){return-1!==t.indexOf(e)}}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(253),o=n(214).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(7),o=n(447),i=n(214),a=n(212)("IE_PROTO"),u=function(){},s=function(){var e,t=n(208)("iframe"),r=i.length;for(t.style.display="none",n(254).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(30),o=n(210),i=n(31),a=n(16),u=n(448);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,h=t||u;return function(t,u,p){for(var v,y,m=i(t),g=o(m),b=r(u,p,3),_=a(g.length),w=0,k=n?h(t,_):s?h(t,0):void 0;_>w;w++)if((d||w in g)&&(v=g[w],y=b(v,w,m),e))if(n)k[w]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:k.push(v)}else if(l)return!1;return f?-1:c||l?l:k}}},function(e,t){t.f={}.propertyIsEnumerable},,,function(e,t,n){"use strict";var r=n(294);e.exports=Function.prototype.bind||r},function(e,t,n){function r(e){return o(e,{weekStartsOn:1})}var o=n(314);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mapValues=function(e,t){var n={};for(var r in e)n[r]=t(e[r],r);return n},t.filterValues=function(e,t){var n={};for(var r in e)t(e[r],r)&&(n[r]=e[r]);return n},t.removeObjectProperty=function(e,t){return Object.keys(e).reduce(function(n,r){return r!==t&&(n[r]=e[r]),n},{})},t.removeObjectProperties=function(e,t){var n=new Set(t);return Object.keys(e).reduce(function(t,r){return n.has(r)||(t[r]=e[r]),t},{})}},function(e,t,n){"use strict";(function(t){function n(){l=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}l=!1}function r(e){1!==f.push(e)||l||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var a=0,u=new i(n),s=t.document.createTextNode("");u.observe(s,{characterData:!0}),o=function(){s.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var l,f=[];e.exports=r}).call(t,n(21))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++){for(var a=p(e[o]),u=n,s=0,c=a.length;s<c;s++){if(!(u=u[a[s]]))break}r.push(u)}t(r)}}function o(e,t){var n=p(e);return function(e){for(var r=e,o=0,i=n.length;o<i;o++){if(!(r=r[n[o]]))return}t(r)}}function i(e,t){return function(n){t(n[e])}}function a(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++)r.push(n[e[o]]);t(r)}}function u(e){for(var t=0,n=e.length;t<n;t++){if(-1!==e[t].indexOf("."))return!1}return!0}function s(e,t){var n=u(e),s=1===e.length;return n?s?i(e[0],t):a(e,t):s?o(e[0],t):r(e,t)}function c(e,t){return s(Object.keys(e.fields),t)}function l(){throw new Error("reduce not supported")}function f(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var d=n(29),h=n(376),p=d.parseField,v=h({name:"indexes",mapper:c,reducer:l,ddocValidator:f});e.exports=v},function(e,t,n){"use strict";(function(e){t.Promise=n(177),t.inherits=n(76),t.extend=n(179);var r=n(176);t.promisedCallback=function(t,n){return n&&t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t},t.callbackify=function(e){return r(function(n){var r=n.pop(),o=e.apply(this,n);return"function"==typeof r&&t.promisedCallback(o,r),o})},t.fin=function(e,t){return e.then(function(e){var n=t();return"function"==typeof n.then?n.then(function(){return e}):e},function(e){var n=t();if("function"==typeof n.then)return n.then(function(){throw e});throw e})},t.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},t.flatten=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t},t.uniq=function(e){for(var t={},n=0,r=e.length;n<r;n++)t["$"+e[n]]=!0;var o=Object.keys(t),i=new Array(o.length);for(n=0,r=o.length;n<r;n++)i[n]=o[n].substring(1);return i};var o=n(378),i=n(180);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")}}).call(t,n(18))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={syncStatus:"pending",lastSync:null,seqNumber:0},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"START_DOCTYPE_SYNC":return o({},e,{syncStatus:"syncing",seqNumber:t.seqNumber});case"SYNC_DOCTYPE_OK":return o({},e,{syncStatus:"done",lastSync:Date.now()});case"SYNC_DOCTYPE_ERROR":return o({},e,{syncStatus:"error",lastSync:Date.now()});default:return e}},u={started:!1,initialStatus:"pending",doctypes:{}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"START_SYNC":return o({},e,{started:!0});case"INITIAL_SYNC_OK":return o({},e,{initialStatus:"ok"});case"INITIAL_SYNC_ERROR":return o({},e,{initialStatus:"error"});case"START_DOCTYPE_SYNC":case"SYNC_DOCTYPE_OK":case"SYNC_DOCTYPE_ERROR":return o({},e,{doctypes:o({},e.doctypes,r({},t.doctype,a(e.doctypes[t.doctype],t)))});default:return e}};t.default=s;var c=(t.startSync=function(){return{types:["START_SYNC","INITIAL_SYNC_OK","INITIAL_SYNC_ERROR"],promise:function(e,t){return e.startSync(t)}}},t.startDoctypeSync=function(e){return{type:"START_DOCTYPE_SYNC",doctype:e,seqNumber:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},t.syncDoctypeOk=function(e,t){return{type:"SYNC_DOCTYPE_OK",doctype:e,infos:t}},t.syncDoctypeError=function(e,t){return{type:"SYNC_DOCTYPE_ERROR",doctype:e,error:t}},t.hasSyncStarted=function(e){return e.cozy.synchronization.started},t.isSyncOk=function(e){return"ok"===e.cozy.synchronization.initialStatus}),l=t.isSyncInError=function(e){return"error"===e.cozy.synchronization.initialStatus};t.isFirstSync=function(e){return Object.keys(e.cozy.synchronization.doctypes).map(function(t){return e.cozy.synchronization.doctypes[t].seqNumber}).every(function(e){return 0===e})},t.isSynced=function(e){return c(e)||l(e)}},function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=r},function(e,t,n){"use strict";function r(e){if(!Object(a.a)(e)||Object(o.a)(e)!=u)return!1;var t=Object(i.a)(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(393),i=n(398),a=n(400),u="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=l.call(Object);t.a=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,o=(t.shouldEnableTracking=function(){var e=document.querySelector("[role=application]");if(e&&e.dataset){var t=e.dataset.cozyTracking;if(""===t||"true"===t)return!0;if("false"===t)return!1}},t.getTracker=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==r)return r;try{!1===a&&Piwik.getTracker();var u=n(412);return r=u({url:e||"https://piwik.cozycloud.cc",siteId:t||8,injectScript:a}),i&&o(),r}catch(e){return console.warn(e),r=null,null}},t.configureTracker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!==r){var t=void 0,n=void 0,o=document.querySelector("[role=application]");if(o&&o.dataset){n=o.dataset.cozyAppName,t=o.dataset.cozyDomain||"";var i=t.indexOf(":");i>=0&&(t=t.substring(0,i))}e=Object.assign({userId:t,appDimensionId:1,app:n,heartbeat:15},e),parseInt(e.heartbeat)>0&&r.push(["enableHeartBeatTimer",parseInt(e.heartbeat)]),r.push(["setUserId",e.userId]),r.push(["setCustomDimension",e.appDimensionId,e.app])}});t.createTrackerMiddleware=function(){return function(e){return function(e){return function(t){return r&&t.trackEvent&&t.trackEvent.category&&t.trackEvent.action&&r.push(["trackEvent",t.trackEvent.category,t.trackEvent.action,t.trackEvent.name,t.trackEvent.value]),e(t)}}}},t.resetTracker=function(){r&&(r.disconnectFromHistory(),r=null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.isCordova=function(){return void 0!==window.cordova},o=t.getPlatformId=function(){return r()?window.cordova.platformId:void 0},i=function(e){return o()===e},a=(t.isIos=function(){return i("ios")},t.isAndroid=function(){return i("android")},function(){return r()&&void 0!==window.cordova.plugins.deviceName});t.getDeviceName=function(){return a()?window.cordova.plugins.deviceName.name:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ROOT_DIR_ID="io.cozy.files.root-dir",t.TRASH_DIR_ID="io.cozy.files.trash-dir",t.APPS_DIR_PATH="/.cozy_apps",t.TRASH_DIR_PATH="/.cozy_trash",t.KONNECTORS_DIR_PATH="/.cozy_konnectors"},function(e,t,n){"use strict";var r=n(6),o=n(14),i=n(19),a=n(9)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(9)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){var r=n(30),o=n(260),i=n(218),a=n(7),u=n(16),s=n(219),c={},l={},t=e.exports=function(e,t,n,f,d){var h,p,v,y,m=d?function(){return e}:s(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(h=u(e.length);h>b;b++)if((y=t?g(a(p=e[b])[0],p[1]):g(e[b]))===c||y===l)return y}else for(v=m.call(e);!(p=v.next()).done;)if((y=o(v,g,p.value,t))===c||y===l)return y};t.BREAK=c,t.RETURN=l},function(e,t,n){"use strict";var r=n(6),o=n(1),i=n(35),a=n(51),u=n(36),s=n(88),c=n(52),l=n(4),f=n(11),d=n(87),h=n(55),p=n(460);e.exports=function(e,t,n,v,y,m){var g=r[e],b=g,_=y?"set":"add",w=b&&b.prototype,k={},E=function(e){var t=w[e];i(w,e,"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(m||w.forEach&&!f(function(){(new b).entries().next()}))){var x=new b,S=x[_](m?{}:-0,1)!=x,O=f(function(){x.has(1)}),A=d(function(e){new b(e)}),j=!m&&f(function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)});A||(b=t(function(t,n){c(t,b,e);var r=p(new g,t,b);return void 0!=n&&s(n,y,r[_],r),r}),b.prototype=w,w.constructor=b),(O||j)&&(E("delete"),E("has"),y&&E("get")),(j||S)&&E(_),m&&w.clear&&delete w.clear}else b=v.getConstructor(t,e,y,_),a(b.prototype,n),u.NEED=!0;return h(b,e),k[e]=b,o(o.G+o.W+o.F*(b!=g),k),m||v.setStrong(b,e,y),b}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(24),o=n(35),i=n(11),a=n(45),u=n(9);e.exports=function(e,t,n){var s=u(e),c=n(a,s,""[e]),l=c[0],f=c[1];i(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,l),r(RegExp.prototype,s,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},,,,,,function(e,t,n){var r=n(72);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(296),o=n(298),i="function"==typeof Symbol&&"symbol"==typeof Symbol(),a=Object.prototype.toString,u=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)},s=Object.defineProperty&&function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,n,r){(!(t in e)||u(r)&&r())&&(s?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t))),o(a,function(r){c(e,r,t[r],n[r])})};l.supportsDescriptors=!!s,e.exports=l},function(e,t,n){"use strict";var r=n(72),o=n(299),i=r.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,u=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=o.ToString(o.CheckObjectCoercible(this));return i(i(e,a,""),u,"")}},function(e,t,n){"use strict";var r=Function.prototype.toString,o=/^\s*class /,i=function(e){try{var t=r.call(e),n=t.replace(/\/\/.*\n/g,""),i=n.replace(/\/\*[.\s\S]*\*\//g,""),a=i.replace(/\n/gm," ").replace(/ {2}/g," ");return o.test(a)}catch(e){return!1}},a=function(e){try{return!i(e)&&(r.call(e),!0)}catch(e){return!1}},u=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(s)return a(e);if(i(e))return!1;var t=u.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){"use strict";var r=n(99),o="​";e.exports=function(){return String.prototype.trim&&o.trim()===o?String.prototype.trim:r}},function(e,t){function n(e){return e instanceof Date}e.exports=n},function(e,t,n){function r(e){var t=o(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=i(r),u=new Date(0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);var s=i(u);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}var o=n(25),i=n(73);e.exports=r},function(e,t,n){var r=n(105),o=n(106);e.exports={distanceInWords:r(),format:o()}},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var i=n(2);e.exports=r},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./_lib/build_formatting_tokens_reg_exp/index":2,"./ar/build_distance_in_words_locale/index":108,"./ar/build_format_locale/index":109,"./ar/index":317,"./bg/build_distance_in_words_locale/index":110,"./bg/build_format_locale/index":111,"./bg/index":318,"./ca/build_distance_in_words_locale/index":112,"./ca/build_format_locale/index":113,"./ca/index":319,"./cs/build_distance_in_words_locale/index":114,"./cs/build_format_locale/index":115,"./cs/index":320,"./da/build_distance_in_words_locale/index":116,"./da/build_format_locale/index":117,"./da/index":321,"./de/build_distance_in_words_locale/index":118,"./de/build_format_locale/index":119,"./de/index":322,"./el/build_distance_in_words_locale/index":120,"./el/build_format_locale/index":121,"./el/index":323,"./en/build_distance_in_words_locale/index":105,"./en/build_format_locale/index":106,"./en/index":104,"./eo/build_distance_in_words_locale/index":122,"./eo/build_format_locale/index":123,"./eo/index":324,"./es/build_distance_in_words_locale/index":124,"./es/build_format_locale/index":125,"./es/index":325,"./fi/build_distance_in_words_locale/index":126,"./fi/build_format_locale/index":127,"./fi/index":326,"./fil/build_distance_in_words_locale/index":128,"./fil/build_format_locale/index":129,"./fil/index":327,"./fr/build_distance_in_words_locale/index":130,"./fr/build_format_locale/index":131,"./fr/index":328,"./hr/build_distance_in_words_locale/index":132,"./hr/build_format_locale/index":133,"./hr/index":329,"./hu/build_distance_in_words_locale/index":134,"./hu/build_format_locale/index":135,"./hu/index":330,"./id/build_distance_in_words_locale/index":136,"./id/build_format_locale/index":137,"./id/index":331,"./is/build_distance_in_words_locale/index":138,"./is/build_format_locale/index":139,"./is/index":332,"./it/build_distance_in_words_locale/index":140,"./it/build_format_locale/index":141,"./it/index":333,"./ja/build_distance_in_words_locale/index":142,"./ja/build_format_locale/index":143,"./ja/index":334,"./ko/build_distance_in_words_locale/index":144,"./ko/build_format_locale/index":145,"./ko/index":335,"./mk/build_distance_in_words_locale/index":146,"./mk/build_format_locale/index":147,"./mk/index":336,"./nb/build_distance_in_words_locale/index":148,"./nb/build_format_locale/index":149,"./nb/index":337,"./nl/build_distance_in_words_locale/index":150,"./nl/build_format_locale/index":151,"./nl/index":338,"./pl/build_distance_in_words_locale/index":152,"./pl/build_format_locale/index":153,"./pl/index":339,"./pt/build_distance_in_words_locale/index":154,"./pt/build_format_locale/index":155,"./pt/index":340,"./ro/build_distance_in_words_locale/index":156,"./ro/build_format_locale/index":157,"./ro/index":341,"./ru/build_distance_in_words_locale/index":158,"./ru/build_format_locale/index":159,"./ru/index":342,"./sk/build_distance_in_words_locale/index":160,"./sk/build_format_locale/index":161,"./sk/index":343,"./sl/build_distance_in_words_locale/index":162,"./sl/build_format_locale/index":163,"./sl/index":344,"./sv/build_distance_in_words_locale/index":164,"./sv/build_format_locale/index":165,"./sv/index":345,"./th/build_distance_in_words_locale/index":166,"./th/build_format_locale/index":167,"./th/index":346,"./tr/build_distance_in_words_locale/index":168,"./tr/build_format_locale/index":169,"./tr/index":347,"./zh_cn/build_distance_in_words_locale/index":170,"./zh_cn/build_format_locale/index":171,"./zh_cn/index":348,"./zh_tw/build_distance_in_words_locale/index":172,"./zh_tw/build_format_locale/index":173,"./zh_tw/index":349};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=107},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"في خلال "+o:"منذ "+o:o}var t={lessThanXSeconds:{one:"أقل من ثانية واحدة",other:"أقل من {{count}} ثواني"},xSeconds:{one:"ثانية واحدة",other:"{{count}} ثواني"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",other:"{{count}} دقائق"},aboutXHours:{one:"ساعة واحدة تقريباً",other:"{{count}} ساعات تقريباً"},xHours:{one:"ساعة واحدة",other:"{{count}} ساعات"},xDays:{one:"يوم واحد",other:"{{count}} أيام"},aboutXMonths:{one:"شهر واحد تقريباً",other:"{{count}} أشهر تقريباً"},xMonths:{one:"شهر واحد",other:"{{count}} أشهر"},aboutXYears:{one:"عام واحد تقريباً",other:"{{count}} أعوام تقريباً"},xYears:{one:"عام واحد",other:"{{count}} أعوام"},overXYears:{one:"أكثر من عام",other:"أكثر من {{count}} أعوام"},almostXYears:{one:"عام واحد تقريباً",other:"{{count}} أعوام تقريباً"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],t=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"],n=["ح","ن","ث","ر","خ","ج","س"],r=["أحد","إثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],a=["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],u=["صباح","مساء"],s=["ص","م"],c=["صباحاً","مساءاً"],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return String(e)}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"след "+o:"преди "+o:o}var t={lessThanXSeconds:{one:"по-малко от секунда",other:"по-малко от {{count}} секунди"},xSeconds:{one:"1 секунда",other:"{{count}} секунди"},halfAMinute:"половин минута",lessThanXMinutes:{one:"по-малко от минута",other:"по-малко от {{count}} минути"},xMinutes:{one:"1 минута",other:"{{count}} минути"},aboutXHours:{one:"около час",other:"около {{count}} часа"},xHours:{one:"1 час",other:"{{count}} часа"},xDays:{one:"1 ден",other:"{{count}} дни"},aboutXMonths:{one:"около месец",other:"около {{count}} месеца"},xMonths:{one:"1 месец",other:"{{count}} месеца"},aboutXYears:{one:"около година",other:"около {{count}} години"},xYears:{one:"1 година",other:"{{count}} години"},overXYears:{one:"над година",other:"над {{count}} години"},almostXYears:{one:"почти година",other:"почти {{count}} години"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["яну","фев","мар","апр","май","юни","юли","авг","сеп","окт","ное","дек"],t=["януари","февруари","март","април","май","юни","юли","август","септември","октомври","ноември","декември"],n=["нд","пн","вт","ср","чт","пт","сб"],r=["нед","пон","вто","сря","чет","пет","съб"],a=["неделя","понеделник","вторник","сряда","четвъртък","петък","събота"],u=["сутринта","на обяд","следобед","вечерта"],s=function(e){var t=e.getHours();return t>=4&&t<12?u[0]:t>=12&&t<14?u[1]:t>=14&&t<17?u[2]:u[3]},c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:s,a:s,aa:s};return["M","D","DDD","d","Q","W"].forEach(function(e){c[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:c,formattingTokensRegExp:i(c)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"-ви";case 2:return e+"-ри"}return e+"-и"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"en "+o:"fa "+o:o}var t={lessThanXSeconds:{one:"menys d'un segon",other:"menys de {{count}} segons"},xSeconds:{one:"1 segon",other:"{{count}} segons"},halfAMinute:"mig minut",lessThanXMinutes:{one:"menys d'un minut",other:"menys de {{count}} minuts"},xMinutes:{one:"1 minut",other:"{{count}} minuts"},aboutXHours:{one:"aproximadament una hora",other:"aproximadament {{count}} hores"},xHours:{one:"1 hora",other:"{{count}} hores"},xDays:{one:"1 dia",other:"{{count}} dies"},aboutXMonths:{one:"aproximadament un mes",other:"aproximadament {{count}} mesos"},xMonths:{one:"1 mes",other:"{{count}} mesos"},aboutXYears:{one:"aproximadament un any",other:"aproximadament {{count}} anys"},xYears:{one:"1 any",other:"{{count}} anys"},overXYears:{one:"més d'un any",other:"més de {{count}} anys"},almostXYears:{one:"gairebé un any",other:"gairebé {{count}} anys"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["gen","feb","mar","abr","mai","jun","jul","ago","set","oct","nov","des"],t=["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octobre","novembre","desembre"],n=["dg","dl","dt","dc","dj","dv","ds"],r=["dge","dls","dts","dcs","djs","dvs","dss"],a=["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){switch(e){case 1:return"1r";case 2:return"2n";case 3:return"3r";case 4:return"4t";default:return e+"è"}}var i=n(2);e.exports=r},function(e,t){function n(e,t){return 1===t?e.one:t>=2&&t<=4?e.twoFour:e.other}function r(e,t,r){var o=n(e,t);return(o[r]||o).replace("{{count}}",t)}function o(e){return["lessThan","about","over","almost"].filter(function(t){return!!e.match(new RegExp("^"+t))})[0]}function i(e){var t="";return"almost"===e&&(t="skoro"),"about"===e&&(t="přibližně"),t.length>0?t+" ":""}function a(e){var t="";return"lessThan"===e&&(t="méně než"),"over"===e&&(t="více než"),t.length>0?t+" ":""}function u(e){return e.charAt(0).toLowerCase()+e.slice(1)}function s(){function e(e,n,s){s=s||{};var c=o(e)||"",l=u(e.substring(c.length)),f=t[l];return s.addSuffix?s.comparison>0?i(c)+"za "+a(c)+r(f,n,"future"):i(c)+"před "+a(c)+r(f,n,"past"):i(c)+a(c)+r(f,n,"regular")}var t={xSeconds:{one:{regular:"vteřina",past:"vteřinou",future:"vteřinu"},twoFour:{regular:"{{count}} vteřiny",past:"{{count}} vteřinami",future:"{{count}} vteřiny"},other:{regular:"{{count}} vteřin",past:"{{count}} vteřinami",future:"{{count}} vteřin"}},halfAMinute:{other:{regular:"půl minuty",past:"půl minutou",future:"půl minuty"}},xMinutes:{one:{regular:"minuta",past:"minutou",future:"minutu"},twoFour:{regular:"{{count}} minuty",past:"{{count}} minutami",future:"{{count}} minuty"},other:{regular:"{{count}} minut",past:"{{count}} minutami",future:"{{count}} minut"}},xHours:{one:{regular:"hodina",past:"hodinou",future:"hodinu"},twoFour:{regular:"{{count}} hodiny",past:"{{count}} hodinami",future:"{{count}} hodiny"},other:{regular:"{{count}} hodin",past:"{{count}} hodinami",future:"{{count}} hodin"}},xDays:{one:{regular:"den",past:"dnem",future:"den"},twoFour:{regular:"{{count}} dni",past:"{{count}} dny",future:"{{count}} dni"},other:{regular:"{{count}} dní",past:"{{count}} dny",future:"{{count}} dní"}},xMonths:{one:{regular:"měsíc",past:"měsícem",future:"měsíc"},twoFour:{regular:"{{count}} měsíce",past:"{{count}} měsíci",future:"{{count}} měsíce"},other:{regular:"{{count}} měsíců",past:"{{count}} měsíci",future:"{{count}} měsíců"}},xYears:{one:{regular:"rok",past:"rokem",future:"rok"},twoFour:{regular:"{{count}} roky",past:"{{count}} roky",future:"{{count}} roky"},other:{regular:"{{count}} roků",past:"{{count}} roky",future:"{{count}} roků"}}};return{localize:e}}e.exports=s},function(e,t,n){function r(){var e=["led","úno","bře","dub","kvě","čvn","čvc","srp","zář","říj","lis","pro"],t=["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],n=["ne","po","út","st","čt","pá","so"],r=["ned","pon","úte","stř","čtv","pát","sob"],a=["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],u=["DOP.","ODP."],s=["dop.","odp."],c=["dopoledne","odpoledne"],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"om "+o:o+" siden":o}var t={lessThanXSeconds:{one:"mindre end et sekund",other:"mindre end {{count}} sekunder"},xSeconds:{one:"1 sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minut",lessThanXMinutes:{one:"mindre end et minut",other:"mindre end {{count}} minutter"},xMinutes:{one:"1 minut",other:"{{count}} minutter"},aboutXHours:{one:"cirka 1 time",other:"cirka {{count}} timer"},xHours:{one:"1 time",other:"{{count}} timer"},xDays:{one:"1 dag",other:"{{count}} dage"},aboutXMonths:{one:"cirka 1 måned",other:"cirka {{count}} måneder"},xMonths:{one:"1 måned",other:"{{count}} måneder"},aboutXYears:{one:"cirka 1 år",other:"cirka {{count}} år"},xYears:{one:"1 år",other:"{{count}} år"},overXYears:{one:"over 1 år",other:"over {{count}} år"},almostXYears:{one:"næsten 1 år",other:"næsten {{count}} år"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],t=["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],n=["sø","ma","ti","on","to","fr","lø"],r=["søn","man","tir","ons","tor","fre","lør"],a=["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o,i=r.addSuffix?t[e].withPreposition:t[e].standalone;return o="string"==typeof i?i:1===n?i.one:i.other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:"vor "+o:o}var t={lessThanXSeconds:{standalone:{one:"weniger als eine Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als einer Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"eine Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"einer Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als eine Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als einer Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"eine Minute",other:"{{count}} Minuten"},withPreposition:{one:"einer Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa eine Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa einer Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"eine Stunde",other:"{{count}} Stunden"},withPreposition:{one:"einer Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"ein Tag",other:"{{count}} Tage"},withPreposition:{one:"einem Tag",other:"{{count}} Tagen"}},aboutXMonths:{standalone:{one:"etwa ein Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa einem Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"ein Monat",other:"{{count}} Monate"},withPreposition:{one:"einem Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa ein Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa einem Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"ein Jahr",other:"{{count}} Jahre"},withPreposition:{one:"einem Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als ein Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als einem Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast ein Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast einem Jahr",other:"fast {{count}} Jahren"}}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],t=["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],n=["So","Mo","Di","Mi","Do","Fr","Sa"],r=["Son","Mon","Die","Mit","Don","Fre","Sam"],a=["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"σε "+o:o+" πρίν":o}var t={lessThanXSeconds:{one:"λιγότερο από ένα δευτερόλεπτο",other:"λιγότερο από {{count}} δευτερόλεπτα"},xSeconds:{one:"1 δευτερόλεπτο",other:"{{count}} δευτερόλεπτα"},halfAMinute:"μισό λεπτό",lessThanXMinutes:{one:"λιγότερο από ένα λεπτό",other:"λιγότερο από {{count}} λεπτά"},xMinutes:{one:"1 λεπτό",other:"{{count}} λεπτά"},aboutXHours:{one:"περίπου 1 ώρα",other:"περίπου {{count}} ώρες"},xHours:{one:"1 ώρα",other:"{{count}} ώρες"},xDays:{one:"1 ημέρα",other:"{{count}} ημέρες"},aboutXMonths:{one:"περίπου 1 μήνας",other:"περίπου {{count}} μήνες"},xMonths:{one:"1 μήνας",other:"{{count}} μήνες"},aboutXYears:{one:"περίπου 1 χρόνο",other:"περίπου {{count}} χρόνια"},xYears:{one:"1 χρόνο",other:"{{count}} χρόνια"},overXYears:{one:"πάνω από 1 χρόνο",other:"πάνω από {{count}} χρόνια"},almostXYears:{one:"περίπου 1 χρόνο",other:"περίπου {{count}} χρόνια"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Ιαν","Φεβ","Μαρ","Απρ","Μαϊ","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],t=["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],n=["Ιανουαρίου","Φεβρουαρίου","Μαρτίου","Απριλίου","Μαΐου","Ιουνίου","Ιουλίου","Αυγούστου","Σεπτεμβρίου","Οκτωβρίου","Νοεμβρίου","Δεκεμβρίου"],r=["Κυ","Δε","Τρ","Τε","Πέ","Πα","Σά"],i=["Κυρ","Δευ","Τρί","Τετ","Πέμ","Παρ","Σάβ"],a=["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],u=["ΠΜ","ΜΜ"],s=["πμ","μμ"],c=["π.μ.","μ.μ."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}},f={M:"ος",D:"η",DDD:"η",d:"η",Q:"ο",W:"η"};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return n[e](t)+f[e]}}),["D","Do","DD"].forEach(function(e){l[e+" MMMM"]=function(t,r){return(l[e]||r[e])(t,r)+" "+n[t.getMonth()]}}),{formatters:l,formattingTokensRegExp:o(l)}}var o=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"post "+o:"antaŭ "+o:o}var t={lessThanXSeconds:{one:"malpli ol sekundo",other:"malpli ol {{count}} sekundoj"},xSeconds:{one:"1 sekundo",other:"{{count}} sekundoj"},halfAMinute:"duonminuto",lessThanXMinutes:{one:"malpli ol minuto",other:"malpli ol {{count}} minutoj"},xMinutes:{one:"1 minuto",other:"{{count}} minutoj"},aboutXHours:{one:"proksimume 1 horo",other:"proksimume {{count}} horoj"},xHours:{one:"1 horo",other:"{{count}} horoj"},xDays:{one:"1 tago",other:"{{count}} tagoj"},aboutXMonths:{one:"proksimume 1 monato",other:"proksimume {{count}} monatoj"},xMonths:{one:"1 monato",other:"{{count}} monatoj"},aboutXYears:{one:"proksimume 1 jaro",other:"proksimume {{count}} jaroj"},xYears:{one:"1 jaro",other:"{{count}} jaroj"},overXYears:{one:"pli ol 1 jaro",other:"pli ol {{count}} jaroj"},almostXYears:{one:"preskaŭ 1 jaro",other:"preskaŭ {{count}} jaroj"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","maj","jun","jul","aŭg","sep","okt","nov","dec"],t=["januaro","februaro","marto","aprilo","majo","junio","julio","aŭgusto","septembro","oktobro","novembro","decembro"],n=["di","lu","ma","me","ĵa","ve","sa"],r=["dim","lun","mar","mer","ĵaŭ","ven","sab"],i=["dimanĉo","lundo","mardo","merkredo","ĵaŭdo","vendredo","sabato"],a=["A.T.M.","P.T.M."],u=["a.t.m.","p.t.m."],s=["antaŭtagmeze","posttagmeze"],c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?u[1]:u[0]},aa:function(e){return e.getHours()/12>=1?s[1]:s[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){c[e+"o"]=function(t,n){return n[e](t)+"-a"}}),{formatters:c,formattingTokensRegExp:o(c)}}var o=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"en "+o:"hace "+o:o}var t={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],t=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],n=["do","lu","ma","mi","ju","vi","sa"],r=["dom","lun","mar","mié","jue","vie","sáb"],a=["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"º"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e){return e.replace(/sekuntia?/,"sekunnin")}function t(e){return e.replace(/minuuttia?/,"minuutin")}function n(e){return e.replace(/tuntia?/,"tunnin")}function r(e){return e.replace(/päivää?/,"päivän")}function o(e){return e.replace(/(kuukausi|kuukautta)/,"kuukauden")}function i(e){return e.replace(/(vuosi|vuotta)/,"vuoden")}function a(e,t,n){n=n||{};var r=u[e],o=1===t?r.one:r.other.replace("{{count}}",t);return n.addSuffix?n.comparison>0?r.futureTense(o)+" kuluttua":o+" sitten":o}var u={lessThanXSeconds:{one:"alle sekunti",other:"alle {{count}} sekuntia",futureTense:e},xSeconds:{one:"sekunti",other:"{{count}} sekuntia",futureTense:e},halfAMinute:{one:"puoli minuuttia",other:"puoli minuuttia",futureTense:function(e){return"puolen minuutin"}},lessThanXMinutes:{one:"alle minuutti",other:"alle {{count}} minuuttia",futureTense:t},xMinutes:{one:"minuutti",other:"{{count}} minuuttia",futureTense:t},aboutXHours:{one:"noin tunti",other:"noin {{count}} tuntia",futureTense:n},xHours:{one:"tunti",other:"{{count}} tuntia",futureTense:n},xDays:{one:"päivä",other:"{{count}} päivää",futureTense:r},aboutXMonths:{one:"noin kuukausi",other:"noin {{count}} kuukautta",futureTense:o},xMonths:{one:"kuukausi",other:"{{count}} kuukautta",futureTense:o},aboutXYears:{one:"noin vuosi",other:"noin {{count}} vuotta",futureTense:i},xYears:{one:"vuosi",other:"{{count}} vuotta",futureTense:i},overXYears:{one:"yli vuosi",other:"yli {{count}} vuotta",futureTense:i},almostXYears:{one:"lähes vuosi",other:"lähes {{count}} vuotta",futureTense:i}};return{localize:a}}e.exports=n},function(e,t,n){function r(){function e(e){return e.getHours()<12?"AP":"IP"}var t=["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu"],n=["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],r=["su","ma","ti","ke","to","pe","la"],i=["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],a={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:e,a:e,aa:e};return["M","D","DDD","d","Q","W"].forEach(function(e){a[e+"o"]=function(t,n){return n[e](t).toString()+"."}}),{formatters:a,formattingTokensRegExp:o(a)}}var o=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"sa loob ng "+o:o+" ang nakalipas":o}var t={lessThanXSeconds:{one:"mas maliit sa isang segundo",other:"mas maliit sa {{count}} segundo"},xSeconds:{one:"1 segundo",other:"{{count}} segundo"},halfAMinute:"kalahating minuto",lessThanXMinutes:{one:"mas maliit sa isang minuto",other:"mas maliit sa {{count}} minuto"},xMinutes:{one:"1 minuto",other:"{{count}} minuto"},aboutXHours:{one:"mga 1 oras",other:"mga {{count}} oras"},xHours:{one:"1 oras",other:"{{count}} oras"},xDays:{one:"1 araw",other:"{{count}} araw"},aboutXMonths:{one:"mga 1 buwan",other:"mga {{count}} buwan"},xMonths:{one:"1 buwan",other:"{{count}} buwan"},aboutXYears:{one:"mga 1 taon",other:"mga {{count}} taon"},xYears:{one:"1 taon",other:"{{count}} taon"},overXYears:{one:"higit sa 1 taon",other:"higit sa {{count}} taon"},almostXYears:{one:"halos 1 taon",other:"halos {{count}} taon"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Ene","Peb","Mar","Abr","May","Hun","Hul","Ago","Set","Okt","Nob","Dis"],t=["Enero","Pebrero","Marso","Abril","Mayo","Hunyo","Hulyo","Agosto","Setyembre","Oktubre","Nobyembre","Disyembre"],n=["Li","Lu","Ma","Mi","Hu","Bi","Sa"],r=["Lin","Lun","Mar","Miy","Huw","Biy","Sab"],a=["Linggo","Lunes","Martes","Miyerkules","Huwebes","Biyernes","Sabado"],u=["NU","NT","NH","NG"],s=["nu","nt","nh","ng"],c=["ng umaga","ng tanghali","ng hapon","ng gabi"],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){if(e.getHours()>12){return e.getHours()%12<6?u[2]:u[3]}return e.getHours()<12?u[0]:u[1]},a:function(e){if(e.getHours()>12){return e.getHours()%12<6?s[2]:s[3]}return e.getHours()<12?s[0]:s[1]},aa:function(e){if(e.getHours()>12){return e.getHours()%12<6?c[2]:c[3]}return e.getHours()<12?c[0]:c[1]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return"ika-"+e}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"dans "+o:"il y a "+o:o}var t={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["janv.","févr.","mars","avr.","mai","juin","juill.","août","sept.","oct.","nov.","déc."],t=["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],n=["di","lu","ma","me","je","ve","sa"],r=["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],u=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],s=["AM","PM"],c=["am","pm"],l=["du matin","de l’après-midi","du soir"],f={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return u[e.getDay()]},A:function(e){return e.getHours()/12>=1?s[1]:s[0]},a:function(e){return e.getHours()/12>=1?c[1]:c[0]},aa:function(e){var t=e.getHours();return t<=12?l[0]:t<=16?l[1]:l[2]},Wo:function(e,t){return i(t.W(e))}};return["M","D","DDD","d","Q"].forEach(function(e){f[e+"o"]=function(t,n){return o(n[e](t))}}),["MMM","MMMM"].forEach(function(e){f["Do "+e]=function(t,n){var r=1===t.getDate()?"Do":"D";return(f[r]||n[r])(t,n)+" "+f[e](t)}}),{formatters:f,formattingTokensRegExp:a(f)}}function o(e){return 1===e?"1er":e+"e"}function i(e){return 1===e?"1re":e+"e"}var a=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?r.addSuffix?r.comparison>0?t[e].one.withPrepositionIn:t[e].one.withPrepositionAgo:t[e].one.standalone:n%10>1&&n%10<5&&"1"!==String(n).substr(-2,1)?t[e].dual.replace("{{count}}",n):t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"za "+o:"prije "+o:o}var t={lessThanXSeconds:{one:{standalone:"manje od 1 sekunde",withPrepositionAgo:"manje od 1 sekunde",withPrepositionIn:"manje od 1 sekundu"},dual:"manje od {{count}} sekunde",other:"manje od {{count}} sekundi"},xSeconds:{one:{standalone:"1 sekunda",withPrepositionAgo:"1 sekunde",withPrepositionIn:"1 sekundu"},dual:"{{count}} sekunde",other:"{{count}} sekundi"},halfAMinute:"pola minute",lessThanXMinutes:{one:{standalone:"manje od 1 minute",withPrepositionAgo:"manje od 1 minute",withPrepositionIn:"manje od 1 minutu"},dual:"manje od {{count}} minute",other:"manje od {{count}} minuta"},xMinutes:{one:{standalone:"1 minuta",withPrepositionAgo:"1 minute",withPrepositionIn:"1 minutu"},dual:"{{count}} minute",other:"{{count}} minuta"},aboutXHours:{one:{standalone:"oko 1 sat",withPrepositionAgo:"oko 1 sat",withPrepositionIn:"oko 1 sat"},dual:"oko {{count}} sata",other:"oko {{count}} sati"},xHours:{one:{standalone:"1 sat",withPrepositionAgo:"1 sat",withPrepositionIn:"1 sat"},dual:"{{count}} sata",other:"{{count}} sati"},xDays:{one:{standalone:"1 dan",withPrepositionAgo:"1 dan",withPrepositionIn:"1 dan"},dual:"{{count}} dana",other:"{{count}} dana"},aboutXMonths:{one:{standalone:"oko 1 mjesec",withPrepositionAgo:"oko 1 mjesec",withPrepositionIn:"oko 1 mjesec"},dual:"oko {{count}} mjeseca",other:"oko {{count}} mjeseci"},xMonths:{one:{standalone:"1 mjesec",withPrepositionAgo:"1 mjesec",withPrepositionIn:"1 mjesec"},dual:"{{count}} mjeseca",other:"{{count}} mjeseci"},aboutXYears:{one:{standalone:"oko 1 godinu",withPrepositionAgo:"oko 1 godinu",withPrepositionIn:"oko 1 godinu"},dual:"oko {{count}} godine",other:"oko {{count}} godina"},xYears:{one:{standalone:"1 godina",withPrepositionAgo:"1 godine",withPrepositionIn:"1 godinu"},dual:"{{count}} godine",other:"{{count}} godina"},overXYears:{one:{standalone:"preko 1 godinu",withPrepositionAgo:"preko 1 godinu",withPrepositionIn:"preko 1 godinu"},dual:"preko {{count}} godine",other:"preko {{count}} godina"},almostXYears:{one:{standalone:"gotovo 1 godinu",withPrepositionAgo:"gotovo 1 godinu",withPrepositionIn:"gotovo 1 godinu"},dual:"gotovo {{count}} godine",other:"gotovo {{count}} godina"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["sij","velj","ožu","tra","svi","lip","srp","kol","ruj","lis","stu","pro"],t=["siječanj","veljača","ožujak","travanj","svibanj","lipanj","srpanj","kolovoz","rujan","listopad","studeni","prosinac"],n=["siječnja","veljače","ožujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenog","prosinca"],r=["ne","po","ut","sr","če","pe","su"],a=["ned","pon","uto","sri","čet","pet","sub"],u=["nedjelja","ponedjeljak","utorak","srijeda","četvrtak","petak","subota"],s=["ujutro","popodne"],c=["ujutro","popodne"],l=["ujutro","popodne"],f={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return a[e.getDay()]},dddd:function(e){return u[e.getDay()]},A:function(e){return e.getHours()/12>=1?s[1]:s[0]},a:function(e){return e.getHours()/12>=1?c[1]:c[0]},aa:function(e){return e.getHours()/12>=1?l[1]:l[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){f[e+"o"]=function(t,n){return o(n[e](t))}}),["D","Do","DD"].forEach(function(e){f[e+" MMM"]=function(t,r){return(f[e]||r[e])(t,r)+" "+n[t.getMonth()]}}),{formatters:f,formattingTokensRegExp:i(f)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?""+o:o+"":o}var t={lessThanXSeconds:{one:"kevesebb, mint egy másodperce",other:"kevesebb, mint {{count}} másodperce"},xSeconds:{one:"1 másodperce",other:"{{count}} másodperce"},halfAMinute:"fél perce",lessThanXMinutes:{one:"kevesebb, mint egy perce",other:"kevesebb, mint {{count}} perce"},xMinutes:{one:"1 perce",other:"{{count}} perce"},aboutXHours:{one:"közel 1 órája",other:"közel {{count}} órája"},xHours:{one:"1 órája",other:"{{count}} órája"},xDays:{one:"1 napja",other:"{{count}} napja"},aboutXMonths:{one:"közel 1 hónapja",other:"közel {{count}} hónapja"},xMonths:{one:"1 hónapja",other:"{{count}} hónapja"},aboutXYears:{one:"közel 1 éve",other:"közel {{count}} éve"},xYears:{one:"1 éve",other:"{{count}} éve"},overXYears:{one:"több, mint 1 éve",other:"több, mint {{count}} éve"},almostXYears:{one:"majdnem 1 éve",other:"majdnem {{count}} éve"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sze","Okt","Nov","Dec"],t=["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],n=["Va","Hé","Ke","Sze","Cs","Pé","Szo"],r=["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],a=["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],u=["DE","DU"],s=["de","du"],c=["délelőtt","délután"],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"dalam waktu "+o:o+" yang lalu":o}var t={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],t=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],n=["Mi","Sn","Sl","Ra","Ka","Ju","Sa"],r=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],a=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){switch(e){case 1:return"pertama";case 2:return"kedua";case 3:return"ketiga";default:return"ke-"+e}}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"í "+o:o+" síðan":o}var t={lessThanXSeconds:{one:"minna en 1 sekúnda",other:"minna en {{count}} sekúndur"},xSeconds:{one:"1 sekúnda",other:"{{count}} sekúndur"},halfAMinute:"hálf mínúta",lessThanXMinutes:{one:"minna en 1 mínúta",other:"minna en {{count}} mínútur"},xMinutes:{one:"1 mínúta",other:"{{count}} mínútur"},aboutXHours:{one:"u.þ.b. 1 klukkustund",other:"u.þ.b. {{count}} klukkustundir"},xHours:{one:"1 klukkustund",other:"{{count}} klukkustundir"},xDays:{one:"1 dagur",other:"{{count}} dagar"},aboutXMonths:{one:"u.þ.b. 1 mánuður",other:"u.þ.b. {{count}} mánuðir"},xMonths:{one:"1 mánuður",other:"{{count}} mánuðir"},aboutXYears:{one:"u.þ.b. 1 ár",other:"u.þ.b. {{count}} ár"},xYears:{one:"1 ár",other:"{{count}} ár"},overXYears:{one:"meira en 1 ár",other:"meira en {{count}} ár"},almostXYears:{one:"næstum 1 ár",other:"næstum {{count}} ár"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","maí","jún","júl","ágú","sep","okt","nóv","des"],t=["janúar","febrúar","mars","apríl","maí","júní","júlí","ágúst","september","október","nóvember","desember"],n=["su","má","þr","mi","fi","fö","la"],r=["sun","mán","þri","mið","fim","fös","lau"],a=["sunnudaginn","mánudaginn","þriðjudaginn","miðvikudaginn","fimmtudaginn","föstudaginn","laugardaginn"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return""+e}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"tra "+o:o+" fa":o}var t={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"più di un anno",other:"più di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],t=["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],n=["do","lu","ma","me","gi","ve","sa"],r=["dom","lun","mar","mer","gio","ven","sab"],a=["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"º"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?o+"後":o+"前":o}var t={lessThanXSeconds:{one:"1秒以下",other:"{{count}}秒以下"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒ぐらい",lessThanXMinutes:{one:"1分以下",other:"{{count}}分以下"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"1時間ぐらい",other:"{{count}}時間ぐらい"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXMonths:{one:"1ヶ月ぐらい",other:"{{count}}ヶ月ぐらい"},xMonths:{one:"1ヶ月",other:"{{count}}ヶ月"},aboutXYears:{one:"1年ぐらい",other:"{{count}}年ぐらい"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年以下",other:"{{count}}年以下"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],t=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],n=["日","月","火","水","木","金","土"],r=["日曜","月曜","火曜","水曜","木曜","金曜","土曜"],a=["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],u=["午前","午後"],s=["午前","午後"],c=["午前","午後"],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"日"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?o+" 후":o+" 전":o}var t={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],t=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],n=["일","월","화","수","목","금","토"],r=["일","월","화","수","목","금","토"],a=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],u=["오전","오후"],s=["오전","오후"],c=["오전","오후"],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"일"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"за "+o:"пред "+o:o}var t={lessThanXSeconds:{one:"помалку од секунда",other:"помалку од {{count}} секунди"},xSeconds:{one:"1 секунда",other:"{{count}} секунди"},halfAMinute:"половина минута",lessThanXMinutes:{one:"помалку од минута",other:"помалку од {{count}} минути"},xMinutes:{one:"1 минута",other:"{{count}} минути"},aboutXHours:{one:"околу 1 час",other:"околу {{count}} часа"},xHours:{one:"1 час",other:"{{count}} часа"},xDays:{one:"1 ден",other:"{{count}} дена"},aboutXMonths:{one:"околу 1 месец",other:"околу {{count}} месеци"},xMonths:{one:"1 месец",other:"{{count}} месеци"},aboutXYears:{one:"околу 1 година",other:"околу {{count}} години"},xYears:{one:"1 година",other:"{{count}} години"},overXYears:{one:"повеќе од 1 година",other:"повеќе од {{count}} години"},almostXYears:{one:"безмалку 1 година",other:"безмалку {{count}} години"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["јан","фев","мар","апр","мај","јун","јул","авг","сеп","окт","ное","дек"],t=["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],n=["не","по","вт","ср","че","пе","са"],r=["нед","пон","вто","сре","чет","пет","саб"],a=["недела","понеделник","вторник","среда","четврток","петок","сабота"],u=["претпладне","попладне"],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?u[1]:u[0]},aa:function(e){return e.getHours()/12>=1?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){s[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:s,formattingTokensRegExp:i(s)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"-ви";case 2:return e+"-ри";case 7:case 8:return e+"-ми"}return e+"-ти"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"om "+o:o+" siden":o}var t={lessThanXSeconds:{one:"mindre enn ett sekund",other:"mindre enn {{count}} sekunder"},xSeconds:{one:"ett sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minutt",lessThanXMinutes:{one:"mindre enn ett minutt",other:"mindre enn {{count}} minutter"},xMinutes:{one:"ett minutt",other:"{{count}} minutter"},aboutXHours:{one:"rundt en time",other:"rundt {{count}} timer"},xHours:{one:"en time",other:"{{count}} timer"},xDays:{one:"en dag",other:"{{count}} dager"},aboutXMonths:{one:"rundt en måned",other:"rundt {{count}} måneder"},xMonths:{one:"en måned",other:"{{count}} måneder"},aboutXYears:{one:"rundt ett år",other:"rundt {{count}} år"},xYears:{one:"ett år",other:"{{count}} år"},overXYears:{one:"over ett år",other:"over {{count}} år"},almostXYears:{one:"nesten ett år",other:"nesten {{count}} år"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan.","feb.","mars","april","mai","juni","juli","aug.","sep.","okt.","nov.","des."],t=["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],n=["sø","ma","ti","on","to","fr","lø"],r=["sø.","ma.","ti.","on.","to.","fr.","lø."],a=["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"over "+o:o+" geleden":o}var t={lessThanXSeconds:{one:"minder dan een seconde",other:"minder dan {{count}} seconden"},xSeconds:{one:"1 seconde",other:"{{count}} seconden"},halfAMinute:"een halve minuut",lessThanXMinutes:{one:"minder dan een minuut",other:"minder dan {{count}} minuten"},xMinutes:{one:"een minuut",other:"{{count}} minuten"},aboutXHours:{one:"ongeveer 1 uur",other:"ongeveer {{count}} uur"},xHours:{one:"1 uur",other:"{{count}} uur"},xDays:{one:"1 dag",other:"{{count}} dagen"},aboutXMonths:{one:"ongeveer 1 maand",other:"ongeveer {{count}} maanden"},xMonths:{one:"1 maand",other:"{{count}} maanden"},aboutXYears:{one:"ongeveer 1 jaar",other:"ongeveer {{count}} jaar"},xYears:{one:"1 jaar",other:"{{count}} jaar"},overXYears:{one:"meer dan 1 jaar",other:"meer dan {{count}} jaar"},almostXYears:{one:"bijna 1 jaar",other:"bijna {{count}} jaar"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","mei","jun","jul","aug","sep","okt","nov","dec"],t=["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],n=["zo","ma","di","wo","do","vr","za"],r=["zon","maa","din","woe","don","vri","zat"],a=["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"e"}var i=n(2);e.exports=r},function(e,t){function n(e,t){if(1===t)return e.one;var n=t%100;if(n<=20&&n>10)return e.other;var r=n%10;return r>=2&&r<=4?e.twoFour:e.other}function r(e,t,r){r=r||"regular";var o=n(e,t);return(o[r]||o).replace("{{count}}",t)}function o(){function e(e,n,o){o=o||{};var i=t[e];return o.addSuffix?o.comparison>0?"za "+r(i,n,"future"):r(i,n,"past")+" temu":r(i,n)}var t={lessThanXSeconds:{one:{regular:"mniej niż sekunda",past:"mniej niż sekundę",future:"mniej niż sekundę"},twoFour:"mniej niż {{count}} sekundy",other:"mniej niż {{count}} sekund"},xSeconds:{one:{regular:"sekunda",past:"sekundę",future:"sekundę"},twoFour:"{{count}} sekundy",other:"{{count}} sekund"},halfAMinute:{one:"pół minuty",twoFour:"pół minuty",other:"pół minuty"},lessThanXMinutes:{one:{regular:"mniej niż minuta",past:"mniej niż minutę",future:"mniej niż minutę"},twoFour:"mniej niż {{count}} minuty",other:"mniej niż {{count}} minut"},xMinutes:{one:{regular:"minuta",past:"minutę",future:"minutę"},twoFour:"{{count}} minuty",other:"{{count}} minut"},aboutXHours:{one:{regular:"około godzina",past:"około godziny",future:"około godzinę"},twoFour:"około {{count}} godziny",other:"około {{count}} godzin"},xHours:{one:{regular:"godzina",past:"godzinę",future:"godzinę"},twoFour:"{{count}} godziny",other:"{{count}} godzin"},xDays:{one:{regular:"dzień",past:"dzień",future:"1 dzień"},twoFour:"{{count}} dni",other:"{{count}} dni"},aboutXMonths:{one:"około miesiąc",twoFour:"około {{count}} miesiące",other:"około {{count}} miesięcy"},xMonths:{one:"miesiąc",twoFour:"{{count}} miesiące",other:"{{count}} miesięcy"},aboutXYears:{one:"około rok",twoFour:"około {{count}} lata",other:"około {{count}} lat"},xYears:{one:"rok",twoFour:"{{count}} lata",other:"{{count}} lat"},overXYears:{one:"ponad rok",twoFour:"ponad {{count}} lata",other:"ponad {{count}} lat"},almostXYears:{one:"prawie rok",twoFour:"prawie {{count}} lata",other:"prawie {{count}} lat"}};return{localize:e}}e.exports=o},function(e,t,n){function r(){var e=["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],t=["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],n=["nd","pn","wt","śr","cz","pt","sb"],r=["niedz.","pon.","wt.","śr.","czw.","piąt.","sob."],i=["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],a=["w nocy","rano","po południu","wieczorem"],u={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){var t=e.getHours();return t>=17?a[3]:t>=12?a[2]:t>=4?a[1]:a[0]}};return u.a=u.A,u.aa=u.A,["M","D","DDD","d","Q","W"].forEach(function(e){u[e+"o"]=function(t,n){return n[e](t).toString()}}),{formatters:u,formattingTokensRegExp:o(u)}}var o=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"daqui a "+o:"há "+o:o}var t={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],t=["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],n=["do","se","te","qa","qi","se","sa"],r=["dom","seg","ter","qua","qui","sex","sáb"],a=["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"º"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"în "+o:o+" în urmă":o}var t={lessThanXSeconds:{one:"mai puțin de o secundă",other:"mai puțin de {{count}} secunde"},xSeconds:{one:"1 secundă",other:"{{count}} secunde"},halfAMinute:"jumătate de minut",lessThanXMinutes:{one:"mai puțin de un minut",other:"mai puțin de {{count}} minute"},xMinutes:{one:"1 minut",other:"{{count}} minute"},aboutXHours:{one:"circa 1 oră",other:"circa {{count}} ore"},xHours:{one:"1 oră",other:"{{count}} ore"},xDays:{one:"1 zi",other:"{{count}} zile"},aboutXMonths:{one:"circa 1 lună",other:"circa {{count}} luni"},xMonths:{one:"1 lună",other:"{{count}} luni"},aboutXYears:{one:"circa 1 an",other:"circa {{count}} ani"},xYears:{one:"1 an",other:"{{count}} ani"},overXYears:{one:"peste 1 an",other:"peste {{count}} ani"},almostXYears:{one:"aproape 1 an",other:"aproape {{count}} ani"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","noi","dec"],t=["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],n=["du","lu","ma","mi","jo","vi","sâ"],r=["dum","lun","mar","mie","joi","vin","sâm"],a=["duminică","luni","marți","miercuri","joi","vineri","sâmbăta"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e.toString()}var i=n(2);e.exports=r},function(e,t){function n(e,t){if(void 0!==e.one&&1===t)return e.one;var n=t%10,r=t%100;return 1===n&&11!==r?e.singularNominative.replace("{{count}}",t):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",t):e.pluralGenitive.replace("{{count}}",t)}function r(e){return function(t,r){return r.addSuffix?r.comparison>0?e.future?n(e.future,t):"через "+n(e.regular,t):e.past?n(e.past,t):n(e.regular,t)+" назад":n(e.regular,t)}}function o(){function e(e,n,r){return r=r||{},t[e](n,r)}var t={lessThanXSeconds:r({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:r({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(e,t){return t.addSuffix?t.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:r({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:r({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:r({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:r({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:r({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXMonths:r({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:r({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:r({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:r({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:r({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:r({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})};return{localize:e}}e.exports=o},function(e,t,n){function r(){var e=["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],t=["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],r=["вс","пн","вт","ср","чт","пт","сб"],i=["вск","пнд","втр","срд","чтв","птн","суб"],a=["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],u=["ночи","утра","дня","вечера"],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){var t=e.getHours();return t>=17?u[3]:t>=12?u[2]:t>=4?u[1]:u[0]},Do:function(e,t){return t.D(e)+"-е"},Wo:function(e,t){return t.W(e)+"-я"}};return s.a=s.A,s.aa=s.A,["M","DDD","d","Q"].forEach(function(e){s[e+"o"]=function(t,n){return n[e](t)+"-й"}}),["D","Do","DD"].forEach(function(e){s[e+" MMMM"]=function(t,r){return(s[e]||r[e])(t,r)+" "+n[t.getMonth()]}}),{formatters:s,formattingTokensRegExp:o(s)}}var o=n(2);e.exports=r},function(e,t){function n(e,t){return 1===t?e.one:t>=2&&t<=4?e.twoFour:e.other}function r(e,t,r){var o=n(e,t);return(o[r]||o).replace("{{count}}",t)}function o(e){return["lessThan","about","over","almost"].filter(function(t){return!!e.match(new RegExp("^"+t))})[0]}function i(e){var t="";return"almost"===e&&(t="takmer"),"about"===e&&(t="približne"),t.length>0?t+" ":""}function a(e){var t="";return"lessThan"===e&&(t="menej než"),"over"===e&&(t="viac než"),t.length>0?t+" ":""}function u(e){return e.charAt(0).toLowerCase()+e.slice(1)}function s(){function e(e,n,s){s=s||{};var c=o(e)||"",l=u(e.substring(c.length)),f=t[l];return s.addSuffix?s.comparison>0?i(c)+"za "+a(c)+r(f,n,"future"):i(c)+"pred "+a(c)+r(f,n,"past"):i(c)+a(c)+r(f,n,"regular")}var t={xSeconds:{one:{regular:"sekunda",past:"sekundou",future:"sekundu"},twoFour:{regular:"{{count}} sekundy",past:"{{count}} sekundami",future:"{{count}} sekundy"},other:{regular:"{{count}} sekúnd",past:"{{count}} sekundami",future:"{{count}} sekúnd"}},halfAMinute:{other:{regular:"pol minúty",past:"pol minútou",future:"pol minúty"}},xMinutes:{one:{regular:"minúta",past:"minútou",future:"minútu"},twoFour:{regular:"{{count}} minúty",past:"{{count}} minútami",future:"{{count}} minúty"},other:{regular:"{{count}} minút",past:"{{count}} minútami",future:"{{count}} minút"}},xHours:{one:{regular:"hodina",past:"hodinou",future:"hodinu"},twoFour:{regular:"{{count}} hodiny",past:"{{count}} hodinami",future:"{{count}} hodiny"},other:{regular:"{{count}} hodín",past:"{{count}} hodinami",future:"{{count}} hodín"}},xDays:{one:{regular:"deň",past:"dňom",future:"deň"},twoFour:{regular:"{{count}} dni",past:"{{count}} dňami",future:"{{count}} dni"},other:{regular:"{{count}} dní",past:"{{count}} dňami",future:"{{count}} dní"}},xMonths:{one:{regular:"mesiac",past:"mesiacom",future:"mesiac"},twoFour:{regular:"{{count}} mesiace",past:"{{count}} mesiacmi",future:"{{count}} mesiace"},other:{regular:"{{count}} mesiacov",past:"{{count}} mesiacmi",future:"{{count}} mesiacov"}},xYears:{one:{regular:"rok",past:"rokom",future:"rok"},twoFour:{regular:"{{count}} roky",past:"{{count}} rokmi",future:"{{count}} roky"},other:{regular:"{{count}} rokov",past:"{{count}} rokmi",future:"{{count}} rokov"}}};return{localize:e}}e.exports=s},function(e,t,n){function r(){var e=["jan","feb","mar","apr","máj","jún","júl","aug","sep","okt","nov","dec"],t=["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december"],n=["ne","po","ut","st","št","pi","so"],r=["neď","pon","uto","str","štv","pia","sob"],a=["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:2===n?t[e].two:3===n||4===n?t[e].three.replace("{{count}}",n):t[e].other.replace("{{count}}",n),r.addSuffix?(o=o.replace(/(minut|sekund|ur)(a)/,"$1o"),"xMonths"===e&&(o=o.replace(/(mesec)(i)/,"$1e")),r.comparison>0?"čez "+o:o+" nazaj"):o}var t={lessThanXSeconds:{one:"manj kot sekunda",two:"manj kot 2 sekundi",three:"manj kot {{count}} sekunde",other:"manj kot {{count}} sekund"},xSeconds:{one:"1 sekunda",two:"2 sekundi",three:"{{count}} sekunde",other:"{{count}} sekund"},halfAMinute:"pol minute",lessThanXMinutes:{one:"manj kot minuta",two:"manj kot 2 minuti",three:"manj kot {{count}} minute",other:"manj kot {{count}} minut"},xMinutes:{one:"1 minuta",two:"2 minuti",three:"{{count}} minute",other:"{{count}} minut"},aboutXHours:{one:"približno 1 ura",two:"približno 2 uri",three:"približno {{count}} ure",other:"približno {{count}} ur"},xHours:{one:"1 ura",two:"2 uri",three:"{{count}} ure",other:"{{count}} ur"},xDays:{one:"1 dan",two:"2 dni",three:"{{count}} dni",other:"{{count}} dni"},aboutXMonths:{one:"približno 1 mesec",two:"približno 2 meseca",three:"približno {{count}} mesece",other:"približno {{count}} mesecev"},xMonths:{one:"1 mesec",two:"2 meseca",three:"{{count}} meseci",other:"{{count}} mesecev"},aboutXYears:{one:"približno 1 leto",two:"približno 2 leti",three:"približno {{count}} leta",other:"približno {{count}} let"},xYears:{one:"1 leto",two:"2 leti",three:"{{count}} leta",other:"{{count}} let"},overXYears:{one:"več kot 1 leto",two:"več kot 2 leti",three:"več kot {{count}} leta",other:"več kot {{count}} let"},almostXYears:{one:"skoraj 1 leto",two:"skoraj 2 leti",three:"skoraj {{count}} leta",other:"skoraj {{count}} let"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec"],t=["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"],n=["ne","po","to","sr","če","pe","so"],r=["ned","pon","tor","sre","čet","pet","sob"],a=["nedelja","ponedeljek","torek","sreda","četrtek","petek","sobota"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,r,o){o=o||{};var i,a=t[e];return i="string"==typeof a?a:0===r||r>1?a.plural.replace("{{count}}",r<13?n[r]:r):a.singular,o.addSuffix?o.comparison>0?"om "+i:i+" sedan":i}var t={lessThanXSeconds:{singular:"mindre än en sekund",plural:"mindre än {{count}} sekunder"},xSeconds:{singular:"en sekund",plural:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{singular:"mindre än en minut",plural:"mindre än {{count}} minuter"},xMinutes:{singular:"en minut",plural:"{{count}} minuter"},aboutXHours:{singular:"ungefär en timme",plural:"ungefär {{count}} timmar"},xHours:{singular:"en timme",plural:"{{count}} timmar"},xDays:{singular:"en dag",plural:"{{count}} dagar"},aboutXMonths:{singular:"ungefär en månad",plural:"ungefär {{count}} månader"},xMonths:{singular:"en månad",plural:"{{count}} månader"},aboutXYears:{singular:"ungefär ett år",plural:"ungefär {{count}} år"},xYears:{singular:"ett år",plural:"{{count}} år"},overXYears:{singular:"över ett år",plural:"över {{count}} år"},almostXYears:{singular:"nästan ett år",plural:"nästan {{count}} år"}},n=["noll","en","två","tre","fyra","fem","sex","sju","åtta","nio","tio","elva","tolv"];return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],t=["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],n=["sö","må","ti","on","to","fr","lö"],r=["sön","mån","tis","ons","tor","fre","lör"],a=["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],u=["f.m.","e.m."],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},aa:function(e){return e.getHours()/12>=1?u[1]:u[0]}};return s.A=s.aa,s.a=s.aa,["M","D","DDD","d","Q","W"].forEach(function(e){s[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:s,formattingTokensRegExp:i(s)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:case 2:return e+":a"}return e+":e"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"halfAMinute"===e?"ใน"+o:"ใน "+o:o+"ที่ผ่านมา":o}var t={lessThanXSeconds:{one:"น้อยกว่า 1 วินาที",other:"น้อยกว่า {{count}} วินาที"},xSeconds:{one:"1 วินาที",other:"{{count}} วินาที"},halfAMinute:"ครึ่งนาที",lessThanXMinutes:{one:"น้อยกว่า 1 นาที",other:"น้อยกว่า {{count}} นาที"},xMinutes:{one:"1 นาที",other:"{{count}} นาที"},aboutXHours:{one:"ประมาณ 1 ชั่วโมง",other:"ประมาณ {{count}} ชั่วโมง"},xHours:{one:"1 ชั่วโมง",other:"{{count}} ชั่วโมง"},xDays:{one:"1 วัน",other:"{{count}} วัน"},aboutXMonths:{one:"ประมาณ 1 เดือน",other:"ประมาณ {{count}} เดือน"},xMonths:{one:"1 เดือน",other:"{{count}} เดือน"},aboutXYears:{one:"ประมาณ 1 ปี",other:"ประมาณ {{count}} ปี"},xYears:{one:"1 ปี",other:"{{count}} ปี"},overXYears:{one:"มากกว่า 1 ปี",other:"มากกว่า {{count}} ปี"},almostXYears:{one:"เกือบ 1 ปี",other:"เกือบ {{count}} ปี"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],t=["มกราคาม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],n=["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],r=["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],i=["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],a=["น."],u=["น."],s=["นาฬิกา"],c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return a[0]},a:function(e){return u[0]},aa:function(e){return s[0]}};return{formatters:c,formattingTokensRegExp:o(c)}}var o=n(2);e.exports=r},function(e,t){function n(){function e(e,r,o){o=o||{};var i;if(i="string"==typeof t[e]?t[e]:1===r?t[e].one:t[e].other.replace("{{count}}",r),o.addSuffix){var a="";return n.indexOf(e)>-1&&(a=" bir süre"),o.comparison>0?i+a+" içinde":i+a+" önce"}return i}var t={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarım dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklaşık 1 saat",other:"yaklaşık {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gün",other:"{{count}} gün"},aboutXMonths:{one:"yaklaşık 1 ay",other:"yaklaşık {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklaşık 1 yıl",other:"yaklaşık {{count}} yıl"},xYears:{one:"1 yıl",other:"{{count}} yıl"},overXYears:{one:"1 yıldan fazla",other:"{{count}} yıldan fazla"},almostXYears:{one:"neredeyse 1 yıl",other:"neredeyse {{count}} yıl"}},n=["lessThanXSeconds","lessThanXMinutes","overXYears"];return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],t=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],n=["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],r=["Paz","Pts","Sal","Çar","Per","Cum","Cts"],a=["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],u=["ÖÖ","ÖS"],s=["öö","ös"],c=["ö.ö.","ö.s."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){var t={1:"'inci",2:"'inci",3:"'üncü",4:"'üncü",5:"'inci",6:"'ıncı",7:"'inci",8:"'inci",9:"'uncu",10:"'uncu",20:"'inci",30:"'uncu",50:"'inci",60:"'ıncı",70:"'inci",80:"'inci",90:"'ıncı",100:"'üncü"};if(0===e)return"0'ıncı";var n=e%10,r=e%100-n,o=e>=100?100:null;return e+(t[n]||t[r]||t[o])}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?o+"内":o+"前":o}var t={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],t=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],n=["日","一","二","三","四","五","六"],r=["周日","周一","周二","周三","周四","周五","周六"],a=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],u=["上午","下午"],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]}};return s.a=s.aa=s.A=function(e){return e.getHours()/12>=1?u[1]:u[0]},["M","D","DDD","d","Q","W"].forEach(function(e){s[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:s,formattingTokensRegExp:i(s)}}function o(e){return e.toString()}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?o+"內":o+"前":o}var t={lessThanXSeconds:{one:"少於 1 秒",other:"少於 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分鐘",lessThanXMinutes:{one:"少於 1 分鐘",other:"少於 {{count}} 分鐘"},xMinutes:{one:"1 分鐘",other:"{{count}} 分鐘"},xHours:{one:"1 小時",other:"{{count}} 小時"},aboutXHours:{one:"大約 1 小時",other:"大約 {{count}} 小時"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXMonths:{one:"大約 1 個月",other:"大約 {{count}} 個月"},xMonths:{one:"1 個月",other:"{{count}} 個月"},aboutXYears:{one:"大約 1 年",other:"大約 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超過 1 年",other:"超過 {{count}} 年"},almostXYears:{one:"將近 1 年",other:"將近 {{count}} 年"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],t=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],n=["日","一","二","三","四","五","六"],r=["周日","周一","周二","周三","周四","周五","周六"],a=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],u=["AM","PM"],s=["am","pm"],c=["上午","下午"],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e.toString()}var i=n(2);e.exports=r},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,n(21))},function(e,t){function n(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}e.exports=r},function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(178)),o="function"==typeof Promise?Promise:r;e.exports=o},function(e,t,n){"use strict";(function(t){function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,t.browser||(this.handled=b),e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function f(e){var t=new this(r);return v.reject(t,e)}function d(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,v.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,v.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,v.resolve(a,e))},function(e){o||(o=!0,v.reject(a,e))})}(e[i]);return a}var p=n(75),v={},y=["REJECTED"],m=["FULFILLED"],g=["PENDING"];if(!t.browser)var b=["UNHANDLED"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,n){if("function"!=typeof e&&this.state===m||"function"!=typeof n&&this.state===y)return this;var o=new this.constructor(r);if(t.browser||this.handled===b&&(this.handled=null),this.state!==g){a(o,this.state===m?e:n,this.outcome)}else this.queue.push(new i(o,e,n));return o},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=m,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,n){e.state=y,e.outcome=n,t.browser||e.handled===b&&p(function(){e.handled===b&&t.emit("unhandledRejection",n,e)});for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(n);return e},o.resolve=l,o.reject=f,o.all=d,o.race=h}).call(t,n(18))},function(e,t,n){"use strict";function r(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?c[h.call(e)]||"object":typeof e}function o(e){return null!==e&&e===e.window}function i(e){if(!e||"object"!==r(e)||e.nodeType||o(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||p.call(e,t)}function a(e){return"function"===r(e)}function u(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var o={};e.push({args:r,result:{container:o,key:"key"}});for(var i;i=e.pop();)s(e,i.args,i.result);return o.key}function s(e,t,n){var r,o,u,s,c,l,f,d=t[0]||{},h=1,p=t.length,y=!1,m=/\d+/;for("boolean"==typeof d&&(y=d,d=t[1]||{},h=2),"object"==typeof d||a(d)||(d={}),p===h&&(d=this,--h);h<p;h++)if(null!=(r=t[h])){f=v(r);for(o in r)if(!(o in Object.prototype)){if(f&&!m.test(o))continue;if(u=d[o],s=r[o],d===s)continue;y&&s&&(i(s)||(c=v(s)))?(c?(c=!1,l=u&&v(u)?u:[]):l=u&&i(u)?u:{},e.push({args:[y,l,s],result:{container:d,key:o}})):void 0!==s&&(v(r)&&a(s)||(d[o]=s))}}n.container[n.key]=d}for(var c={},l=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],f=0;f<l.length;f++){var d=l[f];c["[object "+d+"]"]=d.toLowerCase()}var h=c.toString,p=c.hasOwnProperty,v=Array.isArray||function(e){return"array"===r(e)};e.exports=u},function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";function t(e,t,n,r,o,i){return t=b(b(t,e),b(r,i)),b(t<<o|t>>>32-o,n)}function n(e,n,r,o,i,a,u){return t(n&r|~n&o,e,n,i,a,u)}function r(e,n,r,o,i,a,u){return t(n&o|r&~o,e,n,i,a,u)}function o(e,n,r,o,i,a,u){return t(n^r^o,e,n,i,a,u)}function i(e,n,r,o,i,a,u){return t(r^(n|~o),e,n,i,a,u)}function a(e,t){var a=e[0],u=e[1],s=e[2],c=e[3];a=n(a,u,s,c,t[0],7,-680876936),c=n(c,a,u,s,t[1],12,-389564586),s=n(s,c,a,u,t[2],17,606105819),u=n(u,s,c,a,t[3],22,-1044525330),a=n(a,u,s,c,t[4],7,-176418897),c=n(c,a,u,s,t[5],12,1200080426),s=n(s,c,a,u,t[6],17,-1473231341),u=n(u,s,c,a,t[7],22,-45705983),a=n(a,u,s,c,t[8],7,1770035416),c=n(c,a,u,s,t[9],12,-1958414417),s=n(s,c,a,u,t[10],17,-42063),u=n(u,s,c,a,t[11],22,-1990404162),a=n(a,u,s,c,t[12],7,1804603682),c=n(c,a,u,s,t[13],12,-40341101),s=n(s,c,a,u,t[14],17,-1502002290),u=n(u,s,c,a,t[15],22,1236535329),a=r(a,u,s,c,t[1],5,-165796510),c=r(c,a,u,s,t[6],9,-1069501632),s=r(s,c,a,u,t[11],14,643717713),u=r(u,s,c,a,t[0],20,-373897302),a=r(a,u,s,c,t[5],5,-701558691),c=r(c,a,u,s,t[10],9,38016083),s=r(s,c,a,u,t[15],14,-660478335),u=r(u,s,c,a,t[4],20,-405537848),a=r(a,u,s,c,t[9],5,568446438),c=r(c,a,u,s,t[14],9,-1019803690),s=r(s,c,a,u,t[3],14,-187363961),u=r(u,s,c,a,t[8],20,1163531501),a=r(a,u,s,c,t[13],5,-1444681467),c=r(c,a,u,s,t[2],9,-51403784),s=r(s,c,a,u,t[7],14,1735328473),u=r(u,s,c,a,t[12],20,-1926607734),a=o(a,u,s,c,t[5],4,-378558),c=o(c,a,u,s,t[8],11,-2022574463),s=o(s,c,a,u,t[11],16,1839030562),u=o(u,s,c,a,t[14],23,-35309556),a=o(a,u,s,c,t[1],4,-1530992060),c=o(c,a,u,s,t[4],11,1272893353),s=o(s,c,a,u,t[7],16,-155497632),u=o(u,s,c,a,t[10],23,-1094730640),a=o(a,u,s,c,t[13],4,681279174),c=o(c,a,u,s,t[0],11,-358537222),s=o(s,c,a,u,t[3],16,-722521979),u=o(u,s,c,a,t[6],23,76029189),a=o(a,u,s,c,t[9],4,-640364487),c=o(c,a,u,s,t[12],11,-421815835),s=o(s,c,a,u,t[15],16,530742520),u=o(u,s,c,a,t[2],23,-995338651),a=i(a,u,s,c,t[0],6,-198630844),c=i(c,a,u,s,t[7],10,1126891415),s=i(s,c,a,u,t[14],15,-1416354905),u=i(u,s,c,a,t[5],21,-57434055),a=i(a,u,s,c,t[12],6,1700485571),c=i(c,a,u,s,t[3],10,-1894986606),s=i(s,c,a,u,t[10],15,-1051523),u=i(u,s,c,a,t[1],21,-2054922799),a=i(a,u,s,c,t[8],6,1873313359),c=i(c,a,u,s,t[15],10,-30611744),s=i(s,c,a,u,t[6],15,-1560198380),u=i(u,s,c,a,t[13],21,1309151649),a=i(a,u,s,c,t[4],6,-145523070),c=i(c,a,u,s,t[11],10,-1120210379),s=i(s,c,a,u,t[2],15,718787259),u=i(u,s,c,a,t[9],21,-343485551),e[0]=b(a,e[0]),e[1]=b(u,e[1]),e[2]=b(s,e[2]),e[3]=b(c,e[3])}function u(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function s(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function c(e){var t,n,r,o,i,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)a(l,u(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(l,r),t=0;t<16;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),s=parseInt(o[1],16)||0,r[14]=i,r[15]=s,a(l,r),l}function l(e){var t,n,r,o,i,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)a(l,s(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(l,r),t=0;t<16;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),u=parseInt(o[1],16)||0,r[14]=i,r[15]=u,a(l,r),l}function f(e){var t,n="";for(t=0;t<4;t+=1)n+=_[e>>8*t+4&15]+_[e>>8*t&15];return n}function d(e){var t;for(t=0;t<e.length;t+=1)e[t]=f(e[t]);return e.join("")}function h(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function p(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function v(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function y(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function m(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function g(){this.reset()}var b=function(e,t){return e+t&4294967295},_=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==d(c("hello"))&&(b=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,u,s=this.byteLength,c=t(n,s),l=s;return r!==e&&(l=t(r,s)),c>l?new ArrayBuffer(0):(o=l-c,i=new ArrayBuffer(o),a=new Uint8Array(i),u=new Uint8Array(this,c,o),a.set(u),i)}}(),g.prototype.append=function(e){return this.appendBinary(h(e)),this},g.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)a(this._hash,u(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},g.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=d(this._hash),e&&(n=m(n)),this.reset(),n},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},g.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(e,t){var n,r,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(a(this._hash,e),i=0;i<16;i+=1)e[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=r,e[15]=o,a(this._hash,e)},g.hash=function(e,t){return g.hashBinary(h(e),t)},g.hashBinary=function(e,t){var n=c(e),r=d(n);return t?m(r):r},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(e){var t,n=y(this._buff.buffer,e,!0),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)a(this._hash,s(n.subarray(t-64,t)));return this._buff=t-64<r?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=d(this._hash),e&&(n=m(n)),this.reset(),n},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var e=g.prototype.getState.call(this);return e.buff=v(e.buff),e},g.ArrayBuffer.prototype.setState=function(e){return e.buff=p(e.buff,!0),g.prototype.setState.call(this,e)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(e,t){var n=l(new Uint8Array(e)),r=d(n);return t?m(r):r},g})},function(e,t,n){"use strict";var r=n(17),o=r.clone;e.exports=function(e){return e=o(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}},function(e,t,n){"use strict";function r(e,t,n){return"string"!=typeof t?i.reject(new Error("doc id is required")):e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(r){var i=r._rev,a=n(r);return a?(a._id=t,a._rev=i,o(e,a,n)):{updated:!1,rev:i}})}function o(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return r(e,t._id,n)})}var i=n(374);t.upsert=function(e,t,n){var o=this,i=r(o,e,t);if("function"!=typeof n)return i;i.then(function(e){n(null,e)},n)},t.putIfNotExists=function(e,t,n){var o=this;"string"!=typeof e&&(n=t,t=e,e=t._id);var i=function(e){return!e._rev&&t},a=r(o,e,i);if("function"!=typeof n)return a;a.then(function(e){n(null,e)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(t)},function(e,t,n){"use strict";var r=n(182).upsert;e.exports=function(e,t,n){return r.apply(e,[t,n])}},function(e,t,n){"use strict";function r(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=o.flatten(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:a(n.options.def)}})})),t.indexes.sort(function(e,t){return o.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var o=n(17),i=n(29),a=i.massageIndexDef;e.exports=r},function(e,t,n){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(t.SHARINGS_DOCTYPE="io.cozy.sharings",t.SHARED_BY_LINK="sharedByLink"),u=t.SHARED_WITH_ME="sharedWithMe",s=t.SHARED_WITH_OTHERS="sharedWithOthers",c=function(){function t(){o(this,t)}return i(t,[{key:"create",value:function(t,n,r,o){return e.fetchJSON("POST","/sharings/",{desc:o,permissions:t,recipients:n.map(function(e){return{recipient:{id:e,type:"io.cozy.contacts"}}}),sharing_type:r})}},{key:"destroy",value:function(e){return this.revoke(e)}},{key:"findByDoctype",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var r,o,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSharingPermissions(t);case 2:return r=e.sent,o=[].concat(n(r.byMe.map(function(e){return e.attributes.source_id})),n(r.withMe.map(function(e){return e.attributes.source_id}))),e.next=6,Promise.all(o.map(function(e){return a.fetchSharing(e)}));case 6:return i=e.sent,e.abrupt("return",{permissions:r,sharings:i});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchSharingPermissions",value:function(){function t(e){return n.apply(this,arguments)}var n=r(regeneratorRuntime.mark(function t(n){var r,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(t,n){return e.fetchJSON("GET","/permissions/doctype/"+t+"/"+n)},t.next=3,r(n,s);case 3:return o=t.sent,t.next=6,r(n,a);case 6:return i=t.sent,t.next=9,r(n,u);case 9:return c=t.sent,t.abrupt("return",{byMe:o,byLink:i,withMe:c});case 11:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchSharing",value:function(t){return e.fetchJSON("GET","/sharings/"+t)}},{key:"revoke",value:function(t){return e.fetchJSON("DELETE","/sharings/"+t)}},{key:"revokeForClient",value:function(t,n){return e.fetchJSON("DELETE","/sharings/"+t+"/recipient/"+n)}},{key:"createLink",value:function(t){return e.fetchJSON("POST","/permissions?codes=email",{data:{type:"io.cozy.permissions",attributes:{permissions:t}}})}},{key:"revokeLink",value:function(t){return e.fetchJSON("DELETE","/permissions/"+t._id)}}]),t}();t.default=c}).call(t,n(10))},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(12),o=n.n(r),i=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),a=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(){}function s(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function c(e){var t,n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=c.getDisplayName,d=void 0===l?function(e){return"ConnectAdvanced("+e+")"}:l,_=c.methodName,w=void 0===_?"connectAdvanced":_,k=c.renderCountProp,E=void 0===k?void 0:k,x=c.shouldHandleStateChanges,S=void 0===x||x,O=c.storeKey,A=void 0===O?"store":O,j=c.withRef,T=void 0!==j&&j,D=a(c,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),C=A+"Subscription",M=g++,R=(t={},t[A]=y.a,t[C]=y.b,t),I=(n={},n[C]=y.b,n);return function(t){h()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",a=d(n),c=m({},D,{getDisplayName:d,methodName:w,renderCountProp:E,shouldHandleStateChanges:S,storeKey:A,withRef:T,displayName:a,wrappedComponentName:n,WrappedComponent:t}),l=function(n){function l(e,t){r(this,l);var i=o(this,n.call(this,e,t));return i.version=M,i.state={},i.renderCount=0,i.store=e[A]||t[A],i.propsMode=Boolean(e[A]),i.setWrappedInstance=i.setWrappedInstance.bind(i),h()(i.store,'Could not find "'+A+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+A+'" as a prop to "'+a+'".'),i.initSelector(),i.initSubscription(),i}return i(l,n),l.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[C]=t||this.context[C],e},l.prototype.componentDidMount=function(){S&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},l.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=u,this.store=null,this.selector.run=u,this.selector.shouldComponentUpdate=!1},l.prototype.getWrappedInstance=function(){return h()(T,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+w+"() call."),this.wrappedInstance},l.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},l.prototype.initSelector=function(){var t=e(this.store.dispatch,c);this.selector=s(t,this.store),this.selector.run(this.props)},l.prototype.initSubscription=function(){if(S){var e=(this.propsMode?this.props:this.context)[C];this.subscription=new v.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(b)):this.notifyNestedSubs()},l.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.prototype.addExtraProps=function(e){if(!(T||E||this.propsMode&&this.subscription))return e;var t=m({},e);return T&&(t.ref=this.setWrappedInstance),E&&(t[E]=this.renderCount++),this.propsMode&&this.subscription&&(t[C]=this.subscription),t},l.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(p.createElement)(t,this.addExtraProps(e.props))},l}(p.Component);return l.WrappedComponent=t,l.displayName=a,l.childContextTypes=I,l.contextTypes=R,l.propTypes=R,f()(l,t)}}t.a=c;var l=n(388),f=n.n(l),d=n(13),h=n.n(d),p=n(0),v=n(389),y=n(186),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=0,b={}},function(e,t,n){"use strict";function r(e,t,n){function i(){m===y&&(m=y.slice())}function s(){return v}function c(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return i(),m.push(e),function(){if(t){t=!1,i();var n=m.indexOf(e);m.splice(n,1)}}}function l(e){if(!Object(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,v=p(v,e)}finally{g=!1}for(var t=y=m,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");p=e,l({type:u.INIT})}function d(){var e,t=c;return e={subscribe:function(e){function n(){e.next&&e.next(s())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var h;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var p=e,v=t,y=[],m=y,g=!1;return l({type:u.INIT}),h={dispatch:l,subscribe:c,getState:s,replaceReducer:f},h[a.a]=d,h}n.d(t,"a",function(){return u}),t.b=r;var o=n(81),i=n(401),a=n.n(i),u={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";var r=n(394),o=r.a.Symbol;t.a=o},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=r},function(e,t,n){"use strict";function r(e){return function(t,n){function r(){return o}var o=e(t,n);return r.dependsOnOwnProps=!1,r}}function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function i(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=o(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=o(i),i=r(t,n)),i},r}}t.a=r,t.b=i;n(193)},function(e,t,n){"use strict";n(81),n(80)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.isCollectionFetched=t.getDocument=t.getCollection=t.enhancePropsForActions=t.applySelectorForAction=t.makeFetchMoreAction=t.makeActionCreator=t.removeReferencedFiles=t.addReferencedFiles=t.trashFile=t.createFile=t.deleteDocuments=t.deleteDocument=t.updateDocuments=t.updateDocument=t.createDocument=t.fetchReferencedFiles=t.fetchDocument=t.refetchCollections=t.fetchCollection=t.CREATE_DOCUMENT=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(22),c=n(74),l=n(195),f=r(l),d=n(79),h=r(d),p=t.CREATE_DOCUMENT="CREATE_DOCUMENT",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"RECEIVE_DATA":var n=t.response.data;if(0===n.length)return e;var r=k(n);return u({},e,a({},r,u({},e[r],y(n))));case"RECEIVE_NEW_DOCUMENT":case"RECEIVE_UPDATED_DOCUMENT":var o=t.response.data[0];return u({},e,a({},o._type,u({},e[o._type],a({},o.id,o))));case"RECEIVE_UPDATED_DOCUMENTS":var i=t.response.data,s=i[0]._type;return u({},e,a({},s,u({},e[s],i.reduce(function(e,t){return(e[t.id]=t)&&e},{}))));case"RECEIVE_DELETED_DOCUMENT":var l=t.response.data[0];return u({},e,a({},l._type,(0,c.removeObjectProperty)(e[l._type],l.id)));case"RECEIVE_DELETED_DOCUMENTS":var f=t.response.data,d=f[0];return u({},e,a({},d._type,(0,c.removeObjectProperties)(e[d._type],f.map(function(e){return e.id}))));case"ADD_REFERENCED_FILES":return u({},e,{"io.cozy.files":u({},e["io.cozy.files"],g(e["io.cozy.files"],t.ids,t.document))});case"REMOVE_REFERENCED_FILES":return u({},e,{"io.cozy.files":u({},e["io.cozy.files"],_(e["io.cozy.files"],t.ids,t.document))});default:return e}},y=function(e){return e.reduce(function(e,t){return u({},e,a({},t.id,t))},{})},m=function(e,t){var n=e.relationships,r=n.referenced_by,s=i(n,["referenced_by"]),c=i(e,["relationships"]);return u({},c,{relationships:u({},s,a({},r.data,null===r.data?[{id:t.id,type:t.type}]:[].concat(o(r.data),[{id:t.id,type:t.type}])))})},g=function(e,t,n){return t.reduce(function(t,r){return u({},t,a({},r,m(e[r],n)))},{})},b=function(e,t){var n=e.relationships,r=n.referenced_by,o=i(n,["referenced_by"]),s=i(e,["relationships"]);return u({},s,{relationships:u({},o,a({},r.data,r.data.filter(function(e){return e.type!==t.type&&e.id!==t.id})))})},_=function(e,t,n){return t.reduce(function(t,r){return u({},t,a({},r,b(e[r],n)))},{})},w=function(e){var t=e._type;return"file"===t?"io.cozy.files":t},k=function(e){return w(e[0])},E={type:null,options:{},fetchStatus:"pending",lastFetch:null,hasMore:!1,count:0,ids:[]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments[1];switch(t.type){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":return u({},e,{type:t.doctype||"io.cozy.files",options:t.options,fetchStatus:t.skip>0?"loadingMore":"loaded"===e.fetchStatus?"loaded":"loading"});case"RECEIVE_DATA":var n=t.response;return u({},e,{fetchStatus:"loaded",lastFetch:Date.now(),hasMore:void 0!==n.next?n.next:e.hasMore,count:n.meta&&n.meta.count?n.meta.count:n.data.length,ids:t.skip?[].concat(o(e.ids),o(n.data.map(function(e){return e.id}))):n.data.map(function(e){return e.id})});case"ADD_REFERENCED_FILES":return u({},e,{type:"io.cozy.files",count:e.count+t.ids.length,ids:[].concat(o(e.ids),o(t.ids))});case"REMOVE_REFERENCED_FILES":return u({},e,{count:e.count-t.ids.length,ids:e.ids.filter(function(e){return-1===t.ids.indexOf(e)})});case"RECEIVE_ERROR":return u({},e,{fetchStatus:"failed"});case"RECEIVE_NEW_DOCUMENT":return u({},e,{ids:[].concat(o(e.ids),[t.response.data[0].id])});case"RECEIVE_DELETED_DOCUMENT":return u({},e,{ids:e.ids.filter(function(e){return e!==t.response.data[0].id})});case"RECEIVE_DELETED_DOCUMENTS":var r=new Set(t.response.data.map(function(e){return e.id})),i=e.ids.filter(function(e){return!r.has(e)});return u({},e,{ids:i});default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":case"ADD_REFERENCED_FILES":case"REMOVE_REFERENCED_FILES":case"RECEIVE_DATA":case"RECEIVE_ERROR":return t.collection?u({},e,a({},t.collection,x(e[t.collection],t))):e;case"RECEIVE_NEW_DOCUMENT":case"RECEIVE_DELETED_DOCUMENT":case"RECEIVE_DELETED_DOCUMENTS":return t.updateCollections?u({},e,function(e,n){return n.updateCollections.reduce(function(n,r){return u({},n,a({},r,x(e[r],t)))},{})}(e,t)):e;default:return e}};t.default=(0,s.combineReducers)({collections:S,documents:v,sharings:f.default,synchronization:h.default});var O=t.fetchCollection=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{types:["FETCH_COLLECTION","RECEIVE_DATA","RECEIVE_ERROR"],collection:e,doctype:t,options:n,skip:r,promise:function(o){return o.fetchDocuments(e,t,n,r)}}},A=(t.refetchCollections=function(){return function(e,t){var n=D(t());return Object.keys(n).map(function(t){var r=n[t],o=r.type,i=r.options;e(O(t,o,i))})}},t.fetchDocument=function(e,t){return{types:["FETCH_DOCUMENT","RECEIVE_DATA","RECEIVE_ERROR"],doctype:e,id:t,promise:function(n){return n.fetchDocument(e,t)}}},t.fetchReferencedFiles=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{types:["FETCH_REFERENCED_FILES","RECEIVE_DATA","RECEIVE_ERROR"],collection:e._type+"/"+e.id+"#files",document:e,options:{},skip:t,promise:function(n){return n.fetchReferencedFiles(e,t)}}}),j=(t.createDocument=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u({types:[p,"RECEIVE_NEW_DOCUMENT","RECEIVE_ERROR"],doctype:e,document:t,promise:function(n){return n.createDocument(e,t)}},n)},t.updateDocument=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u({types:["UPDATE_DOCUMENT","RECEIVE_UPDATED_DOCUMENT","RECEIVE_ERROR"],document:e,promise:function(t){return t.updateDocument(e)}},t)},t.updateDocuments=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return u({types:["UPDATE_DOCUMENTS","RECEIVE_UPDATED_DOCUMENTS","RECEIVE_ERROR"],promise:function(r){return r.updateDocuments(e,t,n)}},r)},t.deleteDocument=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u({types:["DELETE_DOCUMENT","RECEIVE_DELETED_DOCUMENT","RECEIVE_ERROR"],document:e,promise:function(t){return t.deleteDocument(e)}},t)},t.deleteDocuments=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u({types:["DELETE_DOCUMENTS","RECEIVE_DELETED_DOCUMENTS","RECEIVE_ERROR"],promise:function(n){return n.deleteDocuments(e,t)}},n)},t.createFile=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u({types:[p,"RECEIVE_NEW_DOCUMENT","RECEIVE_ERROR"],doctype:"io.cozy.files",promise:function(n){return n.createFile(e,t)}},n)},t.trashFile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u({types:["DELETE_DOCUMENT","RECEIVE_DELETED_DOCUMENT","RECEIVE_ERROR"],document:e,promise:function(t){return t.trashFile(e)}},t)},t.addReferencedFiles=function(e,t){return{type:"ADD_REFERENCED_FILES",collection:e._type+"/"+e._id+"#files",document:e,ids:t,promise:function(n){return n.addReferencedFiles(e,t)}}},t.removeReferencedFiles=function(e,t){return{type:"REMOVE_REFERENCED_FILES",collection:e._type+"/"+e._id+"#files",document:e,ids:t,promise:function(n){return n.removeReferencedFiles(e,t)}}},t.makeActionCreator=function(e){return{promise:e}},t.makeFetchMoreAction=function(e,t){var n=e.types,r=e.collection,o=e.document,i=e.doctype,a=e.options;return"FETCH_REFERENCED_FILES"===n[0]?A(o,t):O(r,i,a,t)}),T=(t.applySelectorForAction=function(e,t){switch(t.types[0]){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":return M(e,t.collection);case"FETCH_DOCUMENT":return R(e,t.doctype,t.id);case l.FETCH_SHARINGS:return t.id?(0,l.getSharingDetails)(e,t.doctype,t.id,t.options):(0,l.getSharings)(e,t.doctype,t.options);default:return null}},t.enhancePropsForActions=function(e,t,n){return(0,c.mapValues)(t,function(t,r){var o=e[r];switch(t.types[0]){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":return u({},o,{fetchMore:o.hasMore?function(){return n(j(t,o.data.length))}:null});default:return o}})},function(e,t,n){return n.map(function(n){return e[t][n]})}),D=function(e){return e.cozy.collections},C=function(e){return e.cozy.documents},M=t.getCollection=function(e,t){var n=D(e)[t];return n?u({},n,{data:T(C(e),n.type,n.ids)}):u({},E,{data:null})},R=t.getDocument=function(e,t,n){var r=e.cozy.documents[t];return r?r[n]:null};t.isCollectionFetched=function(e,t){return e.cozy.collections[t]&&"loaded"===e.cozy.collections[t].fetchStatus}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSharingDetails=t.getSharingStatus=t.getSharings=t.fetchContacts=t.revokeLink=t.shareByLink=t.leave=t.unshare=t.share=t.fetchSharings=t.FETCH_SHARINGS=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(22),s=n(83),c=n(185),l=n(194),f=t.FETCH_SHARINGS="FETCH_SHARINGS",d=function(e,t){var n=e.findIndex(function(e){return e.recipient.id===t});return[].concat(i(e.slice(0,n)),i(e.slice(n+1)))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"RECEIVE_SHARINGS_DATA":return t.response.sharings;case"RECEIVE_NEW_SHARING":return[].concat(i(e),[t.response]);case"RECEIVE_SHARING_REVOKE":var n=e.findIndex(function(e){return e.attributes.sharing_id===t.sharingId});if(-1===n)return e;var r=e[n],o=void 0===r.attributes.recipients||1===r.attributes.recipients.length,u=o?a({},r,{attributes:a({},r.attributes,{revoked:!0})}):a({},r,{attributes:a({},r.attributes,{recipients:d(r.attributes.recipients,t.recipientId)})});return[].concat(i(e.slice(0,n)),[u],i(e.slice(n+1)));default:return e}},p={fetchStatus:"loading",byMe:[],byLink:[],withMe:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=void 0;switch(t.type){case f:return e[t.doctype]?a({},e,o({},t.doctype,a({},e[t.doctype],{fetchStatus:"loading"}))):a({},e,o({},t.doctype,p));case"RECEIVE_SHARINGS_DATA":return a({},e,o({},t.doctype,a({fetchStatus:"loaded"},t.response.permissions)));case"RECEIVE_FETCH_SHARINGS_ERROR":return a({},e,o({},t.doctype,{fetchStatus:"error"}));case"RECEIVE_NEW_SHARING":return a({},e,o({},t.doctype,a({},e[t.doctype],{byMe:[].concat(i(e[t.doctype].byMe),[{attributes:{permissions:{rule0:{type:t.doctype,values:[t.id]}},source_id:t.response.attributes.sharing_id,type:"io.cozy.sharings"}}])})));case"RECEIVE_NEW_SHARING_LINK":return a({},e,o({},t.doctype,a({},e[t.doctype],{byLink:[].concat(i(e[t.doctype].byLink),[t.response])})));case"REVOKE_SHARING_LINK":return n=e[t.doctype].byLink.findIndex(function(e){return t.permission._id===e._id}),-1===n?e:a({},e,o({},t.doctype,a({},e[t.doctype],{byLink:[].concat(i(e[t.doctype].byLink.slice(0,n)),i(e[t.doctype].byLink.slice(n+1)))})));default:return e}};t.default=(0,u.combineReducers)({documents:h,permissions:v});var y=(t.fetchSharings=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{types:[f,"RECEIVE_SHARINGS_DATA","RECEIVE_FETCH_SHARINGS_ERROR"],doctype:e,id:t,options:n,promise:function(t){return t.getCollection(c.SHARINGS_DOCTYPE).findByDoctype(e)}}},t.share=function(e,t,n,o){return function(){var i=r(regeneratorRuntime.mark(function r(i,a){var u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all(t.map(function(e){return e.id||i(g(e)).then(function(e){return e.data[0].id})}));case 2:return u=r.sent,R(e),r.abrupt("return",i(y(e,u,n,o)));case 5:case"end":return r.stop()}},r,void 0)}));return function(e,t){return i.apply(this,arguments)}}()},t.unshare=function(e,t){return function(){var n=r(regeneratorRuntime.mark(function n(r,o){var i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=S(o(),e,t),a=1===i.attributes.recipients.length,n.abrupt("return",r({types:["REVOKE_SHARING","RECEIVE_SHARING_REVOKE","RECEIVE_ERROR"],doctype:e._type,id:e._id,sharingId:i.attributes.sharing_id,recipientId:t._id,promise:function(e){return a?e.getCollection(c.SHARINGS_DOCTYPE).revoke(i.attributes.sharing_id):e.getCollection(c.SHARINGS_DOCTYPE).revokeForClient(i.attributes.sharing_id,i.attributes.recipients.find(function(e){return e.recipient.id===t._id}).Client.client_id)}}));case 3:case"end":return n.stop()}},n,void 0)}));return function(e,t){return n.apply(this,arguments)}}()},t.leave=function(e){return function(){var t=r(regeneratorRuntime.mark(function t(n,r){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=O(r(),e._type,e._id),i=o.find(function(e){return!1===e.attributes.owner}),t.abrupt("return",n({types:["REVOKE_SHARING","RECEIVE_SHARING_REVOKE","RECEIVE_ERROR"],doctype:e._type,id:e._id,sharingId:i.attributes.sharing_id,promise:function(e){return e.getCollection(c.SHARINGS_DOCTYPE).revoke(i.attributes.sharing_id)}}));case 3:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()},t.shareByLink=function(e){return M(e),m(e)},t.revokeLink=function(e){return function(){var t=r(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=x(r(),e._type,e._id),t.abrupt("return",n({types:["REVOKE_SHARING_LINK","RECEIVE_SHARING_LINK_REVOKE","RECEIVE_ERROR"],doctype:e._type,id:e._id,permission:o,promise:function(e){return e.getCollection(c.SHARINGS_DOCTYPE).revokeLink(o)}}));case 2:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"master-slave",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{types:["CREATE_SHARING","RECEIVE_NEW_SHARING","RECEIVE_ERROR"],doctype:e._type,id:e._id,promise:function(o){return o.getCollection(c.SHARINGS_DOCTYPE).create(b(e),t,n,r)}}}),m=function(e){return{types:["CREATE_SHARING_LINK","RECEIVE_NEW_SHARING_LINK","RECEIVE_ERROR"],doctype:e._type,id:e._id,promise:function(t){return t.getCollection(c.SHARINGS_DOCTYPE).createLink(b(e,!0))}}},g=(t.fetchContacts=function(){var e=(0,l.fetchCollection)("contacts","io.cozy.contacts");return e.promise=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchDocuments("contacts","io.cozy.contacts");case 2:return n=e.sent,e.next=5,Promise.all(n.data.map(function(e){return"string"!=typeof e.email?e:t.updateDocument(a({},e,{email:[{address:e.email,primary:!0}]})).then(function(e){return e.data[0]})}));case 5:return r=e.sent,e.abrupt("return",a({},n,{data:r}));case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),e},function(e){var t=e.email;return(0,l.createDocument)("io.cozy.contacts",{email:[{address:t,primary:!0}]})}),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e._id,r=e._type,o=t?["GET"]:["ALL"];return D(e)?{files:{type:"io.cozy.files",verbs:o,values:[n]}}:{collection:{type:r,verbs:o,values:[n]},files:{type:"io.cozy.files",verbs:o,values:[r+"/"+n],selector:"referenced_by"}}},_=function(e,t){return e.cozy.sharings.documents.find(function(e){return e.attributes.sharing_id===t})},w=function(e,t){return(0,l.getDocument)(e,"io.cozy.contacts",t)},k=function(e,t){return e.cozy.sharings.permissions[t]?e.cozy.sharings.permissions[t]:p},E=function(e,t,n){var r=x(e,t,n);return r?T(n,t,r.attributes.codes.email):null},x=function(e,t,n){var r=k(e,t),o=D({_type:t})?"files":"collection";return r.byLink.find(function(e){return-1!==e.attributes.permissions[o].values.indexOf(n)})},S=function(e,t,n){return O(e,t._type,t._id).find(function(e){return e.attributes.recipients.find(function(e){return e.recipient.id===n._id})})},O=function(e,t,n){var r=k(e,t);return[].concat(i(r.byMe.filter(function(e){return-1!==e.attributes.permissions.rule0.values.indexOf(n)})),i(r.withMe.filter(function(e){return-1!==e.attributes.permissions.rule0.values.indexOf(n)}))).map(function(t){return _(e,t.attributes.source_id)}).filter(function(e){return!e.attributes.revoked})},A=(t.getSharings=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],k(e,t)),r="io.cozy.files"===t?"files":"collection";return{byMe:n.byMe.map(function(e){return e.attributes.permissions.rule0.values[0]}),withMe:n.withMe.map(function(e){return e.attributes.permissions.rule0.values[0]}),byLink:n.byLink.map(function(e){return e.attributes.permissions[r].values[0]})}},t.getSharingStatus=function(e,t,n){var r=O(e,t,n);return{shared:0!==r.length,owner:0===r.length||r.some(function(e){return!0===e.attributes.owner}),sharingType:r.some(function(e){return"master-master"===e.attributes.sharing_type})?"master-master":"master-slave",sharings:r}}),j=(t.getSharingDetails=function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],A(e,t,n)),o=r.shared,i=r.owner,a=r.sharingType,u=r.sharings,s=E(e,t,n);return{shared:o,owner:i,sharingType:a,sharingLink:s,sharer:o&&!i?{name:"John Doe",url:u[0].attributes.sharer.url}:null,readOnly:!i&&"master-slave"===a,recipients:o&&i?j(e,u):[],byMe:o&&!0===i,withMe:o&&!i,byLink:!!s}},function(e,t){return t.filter(function(e){return e.attributes.recipients}).map(function(t){return t.attributes.recipients.map(function(n){return{contact:w(e,n.recipient.id),status:n.status,type:t.attributes.sharing_type}})}).reduce(function(e,t){return e.concat(t)},[])}),T=function(e,t,n){return window.location.origin+"/public?sharecode="+n+"&id="+e+("file"===t?"&directdownload":"")},D=function(e){var t=e._type,n=e.type;return"io.cozy.files"===t||"directory"===n||"file"===n},C=function(e,t){var n=(0,s.getTracker)();n&&n.push(["trackEvent",D(e)?"Drive":"Photos",t,t+(D(e)?"File":"Album")])},M=function(e){return C(e,"shareByLink")},R=function(e){return C(e,"shareByEmail")}},,,function(e,t){e.exports={Nav:{item_drive:"Drive",item_recent:"Recent",item_shared:"Shared by me",item_activity:"Activity",item_trash:"Trash",item_settings:"الإعدادات","btn-client":"تحصّل على كوزي","btn-client-web":"تحصّل على كوزي","btn-client-mobile":"تحصّل على كوزي لجهازك المحمول !","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"نزِّل الآن","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/fr/try-it?from=albumsharing"},breadcrumb:{title_drive:"Drive",title_recent:"الحديثة",title_shared:"التي شاركتها",title_activity:"النشاط",title_trash:"Trash"},Toolbar:{more:"More"},toolbar:{item_upload:"تحميل",menu_upload:"رفع الملفات",item_more:"More",menu_new_folder:"مُجلّد جديد",menu_select:"Select items",menu_download_folder:"مُجلّد التنزيل",empty_trash:"Empty trash",share:"شارك",leave:"Leave shared folder & delete it"},service:{bills:"Get my bills"},Share:{status:{pending:"معلق",accepted:"Accepted",refused:"Refused",error:"خطأ",unregistered:"خطأ","mail-not-sent":"خطأ",revoked:"خطأ"},type:{"master-slave":"Can View","master-master":"Can Change"}},Files:{share:{cta:"شارك",title:"شارك مع الآخرين",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared by me",sharedWithMe:"Shared with me",shareByLink:{title:"بواسطة رابط عمومي",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your files."},shareByEmail:{title:"عبر البريد الإلكتروني",subtitle:"شارك عبر البريد الإلكتروني",email:"البريد الإلكتروني",emailPlaceholder:"قم بإدخال عنوان البريد الإلكتروني أو إسم المُتلقي",send:"إرسل",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}."},unshare:{title:"Remove from sharing",success:"You removed this shared file from %{email}."},sharingLink:{title:"Link to share",copy:"نسخ",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"قريبًا !",desc:"Share anything by email with your family and friends!"},close:"غلق",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the file share link, please try again."}},"viewer-fallback":"If the file has started downloading, you can close this."},table:{head_name:"الإسم",head_update:"آخر تحديث",head_size:"الحجم",head_status:"Status",row_update_format:"MMM D, YYYY",row_update_format_full:"MMMM D, YYYY",row_read_only:"Share (Read only)",row_read_write:"Share (Read & Write)",row_size_symbols:{B:"ب",KB:"كب",MB:"مب",GB:"جب",TB:"تب",PB:"PB",EB:"EB",ZB:"ZB",YB:"YB"}},SelectionBar:{selected_count:"item selected |||| items selected",share:"مشاركة",download:"تنزيل",trash:"حذف",destroy:"Delete permanently",moveto:"Move",rename:"Rename",restore:"Restore",close:"غلق",openWith:"فتح بواسطة",availableOffline:"Make available offline"},deleteconfirmation:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",referenced:"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"},emptytrashconfirmation:{title:"Permanently delete?",forbidden:"You won't be able to access these files anymore.",restore:"You won't be able to restore these files if you didn't make a backup.",cancel:"Cancel",delete:"Delete all"},destroyconfirmation:{title:"Permanently delete?",forbidden:"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.",restore:"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.",cancel:"Cancel",delete:"Delete permanently"},quotaalert:{title:"Your disk space is full :(",desc:" Please remove files and empty your trash before uploading files again.",confirm:"OK"},loading:{message:"Loading"},empty:{title:"You don’t have any files in this folder.",text:'Click the "upload" button to add files to this folder.',trash:{title:"You don’t have any deleted files.",text:"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."}},error:{open_folder:"Something went wrong when opening the folder.",button:{reload:"Refresh now"},download_file:{offline:"You should be connected to download this file",missing:"This file is missing"},public_unshared_title:"Sorry, this link is no longer available.",public_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost."},alert:{could_not_open_file:"The file could not be opened",try_again:"An error has occurred, please try again in a moment.",restore_file_success:"The selection has been successfully restored.",trash_file_success:"The selection has been moved to the Trash.",destroy_file_success:"The selection has been deleted permanently.",empty_trash_progress:"Your trash is being emptied. This might take a few moments.",empty_trash_success:"The trash has been emptied.",folder_name:"The element %{folderName} already exists, please choose a new name.",folder_generic:"An error occurred, please try again.",folder_abort:"You need to add a name to your new folder if you would like to save it. Your information has not been saved.",offline:"This feature is not available offline."},mobile:{onboarding:{welcome:{title1:"أهلاً بكم في كوزي",title2:"سحابيتكم الخاصة",button:"تسجيل الدخول إلى كوزي",no_account_link:"ليس عندكم حساب بعد ؟ أطلبوا واحدا هنا."},server_selection:{description:"Example: https://claudedouillet.mycozy.cloud",label:"Enter your Cozy address",cozy_address_placeholder:"tonystark.mycozy.cloud",button:"التالي",wrong_address_with_email:"You typed an email address. To connect on your cozy you must type its url, something like https://tonystark.mycozy.cloud",wrong_address_v2:"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)",wrong_address:"يبدو و كأن هذا العنوان لا يشير إلى كوزي. رجاءا تحقق من صحته."},files:{title:"Access your drive",description:"In order to save your Cozy Drive on your device, the application must access your files."},photos:{title:"Backup your photos and videos",description:"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},contacts:{title:"Sync your contacts",description:"Save your phone's contact on your Cozy — this will facilitate sharing files with them."},step:{button:"فَعِّل الآن",skip:"لاحقًا",next:"التالي"},analytics:{title:"ساعدنا في تحسين كوزي",description:"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},settings:{title:"الإعدادات",about:{title:"عن كوزي",app_version:"إصدار التطبيق",account:"الحساب"},unlink:{title:"Reset this application",description:"By clicking Reset, you will be able to start your application over, and will only lose the data saved on your smartphone.",button:"Reset",confirmation:{title:"Reset this application?",description:"By logging out of your Cozy, you will erase all data synchronized locally by your mobile application.",cancel:"إلغاء",unlink:"Reset"}},media_backup:{media_folder:"/Photos/Backuped from my mobile",title:"Media Backup",images:{title:"Backup images",label:"Backup your images automatically to your Cozy not to ever lose them and share them easily."},launch:"Launch Backup",stop:"Stop Backup",wifi:{title:"Backup on WIFI only",label:"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},media_upload:"%{remaining} remaining pictures",media_uptodate:"Media backup is up-to-date"},support:{title:"المساعدة",analytics:{title:"ساعدنا في تحسين كوزي",label:"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},logs:{title:"Help us to understand your problem",description:"Send the application log to help us improve its quality and stability.",button:"Send my logs",success:"Thanks, we will investigate your problem and contact you soon.",error:"A problem happened, logs couldn't be sent, please try again."}},contacts:{title:"Contacts",subtitle:"Import contacts",text:"Import the contacts from your device to your Cozy to easily share content with them."}},error:{open_with:{offline:"You should be connected to open this file",noapp:"No application can open this file"}},revoked:{title:"Access revoked",description:"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.",loginagain:"Log in again",logout:"Log out"},rating:{enjoy:{title:"هل أنتم مُعجَبون بكوزي درايف ؟",yes:"Yes!",no:"Not really"},rate:{title:"Would you mind rating it?",yes:"Let's do that!",no:"No, thanks",later:"Maybe later"},feedback:{title:"Would you mind giving us some feedback?",yes:"إرسل",no:"لا شكرا"},email:{subject:"عبِّر عن رأيك بخصوص كوزي درايف",placeholder:"Hello, I think Cozy Drive would be better if…"},alert:{rated:"Thank you! You're ⭐️⭐️⭐️⭐️⭐️",declined:"Awesome. You will love the upcoming features. Stay Cozy!",later:"No problem, we'll ask again later.",feedback:"Thank you for the feedback. We'll definitely work on it!"}},first_sync:{title:"You are about to start your first photos back up 🎉",tips:"Tips",tip_bed:"Open Cozy Drive before you go to bed or when you don't use your phone.",tip_wifi:"Enable Wi-Fi to preserve your data.",tip_lock:"Disable your lock screen.",result:"In the morning, all your photos will be stored in a safe and secure location.",button:"Got it!"},notifications:{backup_paused:"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},upload:{alert:{success:"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.",success_conflicts:"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the file upload."}},UploadQueue:{header:"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive",header_mobile:"%{done} of %{total} uploading…",header_done:"Uploaded %{done} out of %{total} successfully",close:"غلق",item:{pending:"معلق"}}}},function(e,t){e.exports={Nav:{item_drive:"Drive",item_recent:"Recent",item_shared:"Shared by me",item_activity:"Activity",item_trash:"Trash",item_settings:"Settings","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/fr/try-it?from=albumsharing"},breadcrumb:{title_drive:"Laufwerk",title_recent:"Neueste",title_shared:"Von mir geteilt",title_activity:"Aktivität",title_trash:"Mülleimer"},Toolbar:{more:"More"},toolbar:{item_upload:"Hochladen",menu_upload:"Dateien hochladen",item_more:"More",menu_new_folder:"Neuer Ordner",menu_select:"Elemente auswählen",menu_download_folder:"Download Ordner",empty_trash:"Mülleimer leeren",share:"Teilen",leave:"Leave shared folder & delete it"},service:{bills:"Get my bills"},Share:{status:{pending:"Ausstehend",accepted:"Accepted",refused:"Verweigert",error:"Fehler",unregistered:"Fehler","mail-not-sent":"Fehler",revoked:"Fehler"},type:{"master-slave":"Can View","master-master":"Can Change"}},Files:{share:{cta:"Teilen",title:"Mit Anderen teilen",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared by me",sharedWithMe:"Shared with me",shareByLink:{title:"über öffentlichen Link",subtitle:"Geteilt über Link",desc:"Jeder der den Link kennt, kann deine Dateien sehen und herunterladen."},shareByEmail:{title:"Per Email",subtitle:"Geteilt über Email",email:"Email",emailPlaceholder:"E-Mail-Adresse oder Name des Empfängers eingeben",send:"Senden",genericSuccess:"You sent an invite to %{count} contacts.",success:"Du hast eine Einladung an %{email} geschickt."},unshare:{title:"Remove from sharing",success:"You removed this shared file from %{email}."},sharingLink:{title:"Link zum Teilen",copy:"Kopie",copied:"Kopiert"},whoHasAccess:{title:"Wer hat Zugriff"},protectedShare:{title:"Kommt später!",desc:"Teile irgendetwas per Email mit Familie und Freunden!"},close:"Schließen",gettingLink:"Erstelle deinen Link ...",error:{generic:"Beim Erstellen der Dateifreigabeverknüpfung ist ein Fehler aufgetreten, bitte versuche es erneut."}},"viewer-fallback":"If the file has started downloading, you can close this."},table:{head_name:"Name",head_update:"Letzte Aktualisierung",head_size:"Größe",head_status:"Status",row_update_format:"MMM D, YYYY",row_update_format_full:"MMMM D, YYYY",row_read_only:"Teilen (nur Lesen)",row_read_write:"Teilen (Lesen & Schreiben)",row_size_symbols:{B:"Byte",KB:"Kilobyte",MB:"Megabyte",GB:"Gigabyte",TB:"Terabyte",PB:"Petabyte",EB:"Exabyte",ZB:"Zettabyte",YB:"Yottabyte"}},SelectionBar:{selected_count:"Element ausgewählt |||| Elemente ausgewählt",share:"Teilen",download:"Herunterladen",trash:"Enfernen",destroy:"Dauerhaft löschen",moveto:"Verschieben",rename:"Umbenennen",restore:"Wiederherstellen",close:"Schließen",openWith:"Öffnen mit",availableOffline:"Make available offline"},deleteconfirmation:{title:"Dieses Element löschen? |||| Diese Elemente löschen?",trash:"Es wird in den Papierkorb verschoben. |||| Sie werden in den Papierkorb verschoben.",restore:"Du kannst es immer wiederherstellen, wann du willst. |||| Du kannst sie immer wiederherstellen, wann du willst.",shared:"Wenn du es geteilt hast, können die Leute nicht darauf zugreifen. |||| Wenn du sie geteilt hast, können die Leute nicht darauf zugreifen.",referenced:"Einige der Dateien innerhalb der Auswahl beziehen sich auf ein Fotoalbum. Sie werden aus ihm entfernt, wenn du sie in den Müll verschiebst.",cancel:"Abbrechen",delete:"Entfernen"},emptytrashconfirmation:{title:" Dauerhaft löschen? ",forbidden:"Du kannst nicht mehr auf diese Dateien zugreifen.",restore:"Du kannst diese Dateien nicht wiederherstellen, wenn du keine Sicherung gemacht hast.",cancel:"Abbrechen",delete:"Alles löschen"},destroyconfirmation:{title:"Dauerhaft löschen?",forbidden:"Du kannst nicht mehr auf diese Datei zugreifen. |||| Du kannst nicht mehr auf diese Dateien zugreifen.",restore:"Du kannst diese Datei nicht wiederherstellen, wenn du keine Sicherung gemacht hast. |||| Du kannst diese Dateien nicht wiederherstellen, wenn du keine Sicherung gemacht hast.",cancel:"Abbrechen",delete:"Dauerhaft löschen"},quotaalert:{title:"Dein Speicherplatz ist voll :(",desc:"Bitte entferne Dateien und leere den Papierkorb, bevor du Dateien erneut hochlädst.",confirm:"OK"},loading:{message:"Lade"},empty:{title:"Du hast keine Dateien in diesem Ordner.",text:'Klicke auf die Schaltfläche "Hochladen", um Dateien zu diesem Ordner hinzuzufügen.',trash:{title:"Du hast keine gelöschten Dateien. ",text:"Verschiebe Dateien, die du nicht mehr benötigst, in den Papierkorb und lösche Elemente endgültig um Speicherplatz freizugeben."}},error:{open_folder:"Beim Öffnen des Ordners ist etwas schief gelaufen.",button:{reload:"Jetzt aktualisieren"},download_file:{offline:"Du solltest verbunden sein, um diese Datei herunterzuladen.",missing:"Diese Datei fehlt"},public_unshared_title:"Dieser Link ist leider nicht mehr verfügbar.",public_unshared_text:"Eins verloren, zehn gefunden ... oder bitte einfach nur den Besitzer um Hilfe. Diese Datei ist möglicherweise nicht verloren."},alert:{could_not_open_file:"The file could not be opened",try_again:"Ein Fehler ist aufgetreten, bitte versuche es noch einmal.",restore_file_success:"Die Auswahl wurde erfolgreich wiederhergestellt.",trash_file_success:"Die Auswahl wurde in den Mülleimer verschoben.",destroy_file_success:"Die Auswahl wurde entgültig gelöscht.",empty_trash_progress:"Your trash is being emptied. This might take a few moments.",empty_trash_success:"The trash has been emptied.",folder_name:"Das Element %{folderName} existiert bereits, bitte wähle einen neuen Namen.",folder_generic:" Ein Fehler ist aufgetreten, bitte versuche es noch einmal.",folder_abort:"Du musst deinem neuen Ordner einen Namen hinzufügen, wenn du ihn speichern möchtest. Deine Daten wurden nicht gespeichert.",offline:"Diese Funktion ist offline nicht verfügbar."},mobile:{onboarding:{welcome:{title1:"Willkommen bei Cozy",title2:"Deine eigene Personal Cloud",button:"Melde dich bei deinem Cozy an",no_account_link:"Du hast kein Konto? Hier anfordern"},server_selection:{description:"Example: https://claudedouillet.mycozy.cloud",label:"Enter your Cozy address",cozy_address_placeholder:"tonystark.mycozy.cloud",button:"Nächster",wrong_address_with_email:"Du hast eine E-Mail-Adresse eingegeben. Um dich mit deinem Cozy zu verbinden, musst du eine URL eingeben, etwas wie https://tonystark.mycozy.cloud",wrong_address_v2:"Du hast gerade die Adresse der alten Cosy Version eingegeben. Diese Anwendung ist nur mit der neuesten Version kompatibel. [Bitte beachte unsere Website für weitere Informationen.] (https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)",wrong_address:"Unter dieser Adresse scheint es kein Cozy zu geben. Bitte überprüfe die von dir angegebene Adresse."},files:{title:"Zugriff auf Ihr Laufwerk",description:"Um Ihr Cozy Drive auf Ihrem Gerät zu speichern, muss die Anwendung auf deine Dateien zugreifen."},photos:{title:"Sichere deine Fotos und Videos",description:"Automatische Sicherung der Fotos, die mit deinem Telefon aufgenommen wurden, in Cozy. Also verlierst du sie nie."},contacts:{title:"Syncronisiere deine Kontakte",description:"Speichere die Kontakte auf deinem Telefon auf dein Cozy - das erleichtert das Teilen von Dateien mit deinen Kontakten."},step:{button:"Jetzt aktivieren",skip:"Später",next:"Nächster"},analytics:{title:"Hilf uns, Cozy zu verbessern",description:"Die Anwendung liefert automatisch Daten (hauptsächlich Fehler) an Cozy Cloud. Das wird uns erlauben, Probleme schneller zu lösen."}},settings:{title:"Einstellungen",about:{title:"Über",app_version:"App Version",account:"Konto"},unlink:{title:"Diese Anwendung zurücksetzen",description:"Wenn du auf Reset klickst, kannst du deine Anwendung starten und verlierst nur die, auf deinem Smartphone, gespeicherten Daten.",button:"Zurücksetzen",confirmation:{title:"Diese Anwendung zurücksetzen?",description:"Durch das Abmelden von deinem Cozy, löschst du alle Daten, die lokal von deiner mobilen Anwendung synchronisiert wurden.",cancel:"Abbrechen",unlink:"Zurücksetzen"}},media_backup:{media_folder:"/Fotos/Gesichert von deinem Handy",title:"Medien Sicherung",images:{title:"Fotosicherung",label:"Sichere deine Bilder automatisch zu deinem Cozy, um sie niemals zu verlieren und sie leicht zu teilen."},launch:"Sicherungskopie starten",stop:"Sicherungskopie stoppen",wifi:{title:"Sicherungskopie nur per WLan",label:"Wenn die Option aktiviert ist, wird dein Gerät nur Fotos sichern, wenn WLan aktiviert ist."},media_upload:"%{remaining} remaining pictures",media_uptodate:"Media backup is up-to-date"},support:{title:"Support",analytics:{title:"Hilf uns, Cozy zu verbessern",label:"Die Anwendung liefert automatisch Daten (hauptsächlich Fehler) an Cozy Cloud. Das wird uns erlauben, Probleme schneller zu lösen."},logs:{title:"Hilf uns, dein Problem zu verstehen",description:"Sende das Anwendungsprotokoll, um uns zu helfen, Qualität und Stabilität zu verbessern.",button:"Sende meine Log-Dateien",success:"Danke, wir werden dein Problem untersuchen und dann mit dir in Verbindung treten.",error:"Ein Problem ist aufgetreten, Log-Dateien konnten nicht gesendet werden, bitte versuche es erneut."}},contacts:{title:"Kontakte",subtitle:"Importierte Kontakte",text:"Importiere Kontakte von deinem Gerät zu deinem Cozy, um Inhalte mit ihnen leicht zu teilen."}},error:{open_with:{offline:"Du sollten verbunden sein, um diese Datei zu öffnen",noapp:"Keine Anwendung kann diese Datei öffnen"}},revoked:{title:"Zugang widerrufen",description:"Es scheint, dass du dieses Gerät von deinem Cozy widerrufen hast. Wenn du das nicht getan hast, informiere uns bitte unter contact@cozycloud.cc. Alle deine lokalen Daten im Zusammenhang mit deinem Cozy werden entfernt.",loginagain:"Nochmal anmelden",logout:"Ausloggen"},rating:{enjoy:{title:"Erfreut dich Cozy Drive?",yes:"Ja!",no:"Nicht wirklich"},rate:{title:"Würdest du es bewerten?",yes:"Lass uns das tun!",no:"Nein, Danke",later:"Vielleicht später"},feedback:{title:"Würdest du uns etwas Feedback geben?",yes:"Senden",no:"Nein, Danke"},email:{subject:"Feedback zu Cozy Drive",placeholder:"Hallo, ich denke Cozy Drive wäre besser, wenn ..."},alert:{rated:"Danke! Du bist ⭐️⭐️⭐️⭐️⭐️",declined:"Genial. Du wirst die kommenden Features lieben. Bleib bei Cozy!",later:"Kein Problem, wir werden später noch einmal fragen.",feedback:"Danke für die Bewertung. Wir werden definitiv daran arbeiten!"}},first_sync:{title:"You are about to start your first photos back up 🎉",tips:"Tips",tip_bed:"Open Cozy Drive before you go to bed or when you don't use your phone.",tip_wifi:"Enable Wi-Fi to preserve your data.",tip_lock:"Disable your lock screen.",result:"In the morning, all your photos will be stored in a safe and secure location.",button:"Got it!"},notifications:{backup_paused:"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},upload:{alert:{success:"%{smart_count} Datei erfolgreich hochgeladen . |||| %{smart_count} Dateien erfolgreich hochgeladen.",success_conflicts:"%{smart_count} Datei hochgeladen mit %{conflictNumber} Konflikt(en). |||| %{smart_count} Dateien hochgeladen mit %{conflictNumber} Konflikt(en).",errors:"Während des Hochladens sind Fehler aufgetreten."}},UploadQueue:{header:"Hochladen von %{smart_count} Foto zum Cozy Drive |||| Hochladen von %{smart_count} Fotos zum Cozy Drive",header_mobile:"%{done} von %{total} hochgeladen…",header_done:"Hochladen %{done} aus %{total} erfolgreich",close:"Schließen",item:{pending:"Ausstehend"}}}},function(e,t){e.exports={Nav:{item_drive:"Drive",item_recent:"Recent",item_shared:"Shared by me",item_activity:"Activity",item_trash:"Trash",item_settings:"Settings","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/fr/try-it?from=albumsharing"},breadcrumb:{title_drive:"Drive",title_recent:"Recent",title_shared:"Shared by me",title_activity:"Activity",title_trash:"Trash"},Toolbar:{more:"More"},toolbar:{item_upload:"Upload",menu_upload:"Upload files",item_more:"More",menu_new_folder:"New folder",menu_select:"Select items",menu_download_folder:"Download folder",empty_trash:"Empty trash",share:"Share",leave:"Leave shared folder & delete it"},service:{bills:"Get my bills"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Files:{share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared by me",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your files."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}."},unshare:{title:"Remove from sharing",success:"You removed this shared file from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the file share link, please try again."}},"viewer-fallback":"If the file has started downloading, you can close this."},table:{head_name:"Name",head_update:"Last update",head_size:"Size",head_status:"Status",row_update_format:"MMM D, YYYY",row_update_format_full:"MMMM D, YYYY",row_read_only:"Share (Read only)",row_read_write:"Share (Read & Write)",row_size_symbols:{B:"B",KB:"KB",MB:"MB",GB:"GB",TB:"TB",PB:"PB",EB:"EB",ZB:"ZB",YB:"YB"}},SelectionBar:{selected_count:"item selected |||| items selected",share:"Share",download:"Download",trash:"Remove",destroy:"Delete permanently",moveto:"Move",rename:"Rename",restore:"Restore",close:"Close",openWith:"Open with",availableOffline:"Make available offline"},deleteconfirmation:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",referenced:"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"},emptytrashconfirmation:{title:"Permanently delete?",forbidden:"You won't be able to access these files anymore.",restore:"You won't be able to restore these files if you didn't make a backup.",cancel:"Cancel",delete:"Delete all"},destroyconfirmation:{title:"Permanently delete?",forbidden:"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.",restore:"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.",cancel:"Cancel",delete:"Delete permanently"},quotaalert:{title:"Your disk space is full :(",desc:" Please remove files and empty your trash before uploading files again.",confirm:"OK"},loading:{message:"Loading"},empty:{title:"You don’t have any files in this folder.",text:'Click the "upload" button to add files to this folder.',trash:{title:"You don’t have any deleted files.",text:"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."}},error:{open_folder:"Something went wrong when opening the folder.",button:{reload:"Refresh now"},download_file:{offline:"You should be connected to download this file",missing:"This file is missing"},public_unshared_title:"Sorry, this link is no longer available.",public_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost."},alert:{could_not_open_file:"The file could not be opened",try_again:"An error has occurred, please try again in a moment.",restore_file_success:"The selection has been successfully restored.",trash_file_success:"The selection has been moved to the Trash.",destroy_file_success:"The selection has been deleted permanently.",empty_trash_progress:"Your trash is being emptied. This might take a few moments.",empty_trash_success:"The trash has been emptied.",folder_name:"The element %{folderName} already exists, please choose a new name.",folder_generic:"An error occurred, please try again.",folder_abort:"You need to add a name to your new folder if you would like to save it. Your information has not been saved.",offline:"This feature is not available offline."},mobile:{onboarding:{welcome:{title1:"Welcome to Cozy",title2:"Your own personal cloud",button:"Sign in to your Cozy",no_account_link:"Don’t have an account? Request one here."},server_selection:{description:"Example: https://claudedouillet.mycozy.cloud",label:"Enter your Cozy address",cozy_address_placeholder:"tonystark.mycozy.cloud",button:"Next",wrong_address_with_email:"You typed an email address. To connect on your cozy you must type its url, something like https://tonystark.mycozy.cloud",wrong_address_v2:"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)",wrong_address:"This address doesn’t seem to be a cozy. Please check the address you provide."},files:{title:"Access your drive",description:"In order to save your Cozy Drive on your device, the application must access your files."},photos:{title:"Backup your photos and videos",description:"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},contacts:{title:"Sync your contacts",description:"Save your phone's contact on your Cozy — this will facilitate sharing files with them."},step:{button:"Enable now",skip:"Later",next:"Next"},analytics:{title:"Help us improve Cozy",description:"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},settings:{title:"Settings",about:{title:"About",app_version:"App Version",account:"Account"},unlink:{title:"Reset this application",description:"By clicking Reset, you will be able to start your application over, and will only lose the data saved on your smartphone.",button:"Reset",confirmation:{title:"Reset this application?",description:"By logging out of your Cozy, you will erase all data synchronized locally by your mobile application.",cancel:"Cancel",unlink:"Reset"}},media_backup:{media_folder:"/Photos/Backuped from my mobile",title:"Media Backup",images:{title:"Backup images",label:"Backup your images automatically to your Cozy not to ever lose them and share them easily."},launch:"Launch Backup",stop:"Stop Backup",wifi:{title:"Backup on WIFI only",label:"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},media_upload:"%{remaining} remaining pictures",media_uptodate:"Media backup is up-to-date"},support:{title:"Support",analytics:{title:"Help us improve Cozy",label:"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},logs:{title:"Help us to understand your problem",description:"Send the application log to help us improve its quality and stability.",button:"Send my logs",success:"Thanks, we will investigate your problem and contact you soon.",error:"A problem happened, logs couldn't be sent, please try again."}},contacts:{title:"Contacts",subtitle:"Import contacts",text:"Import the contacts from your device to your Cozy to easily share content with them."}},error:{open_with:{offline:"You should be connected to open this file",noapp:"No application can open this file"}},revoked:{title:"Access revoked",description:"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.",loginagain:"Log in again",logout:"Log out"},rating:{enjoy:{title:"Enjoying Cozy Drive?",yes:"Yes!",no:"Not really"},rate:{title:"Would you mind rating it?",yes:"Let's do that!",no:"No, thanks",later:"Maybe later"},feedback:{title:"Would you mind giving us some feedback?",yes:"Send",no:"No, thanks"},email:{subject:"Feedback on Cozy Drive",placeholder:"Hello, I think Cozy Drive would be better if…"},alert:{rated:"Thank you! You're ⭐️⭐️⭐️⭐️⭐️",declined:"Awesome. You will love the upcoming features. Stay Cozy!",later:"No problem, we'll ask again later.",feedback:"Thank you for the feedback. We'll definitely work on it!"}},first_sync:{title:"You are about to start your first photos back up 🎉",tips:"Tips",tip_bed:"Open Cozy Drive before you go to bed or when you don't use your phone.",tip_wifi:"Enable Wi-Fi to preserve your data.",tip_lock:"Disable your lock screen.",result:"In the morning, all your photos will be stored in a safe and secure location.",button:"Got it!"},notifications:{backup_paused:"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},upload:{alert:{success:"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.",success_conflicts:"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the file upload."}},UploadQueue:{header:"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive",header_mobile:"%{done} of %{total} uploading…",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"}}}},function(e,t){e.exports={Nav:{item_drive:"Drive",item_recent:"Reciente",item_shared:"Compartido por mí",item_activity:"Actividad",item_trash:"Papelera",item_settings:"Ajustes","btn-client":"Descargar Cozy Desktop","btn-client-web":"Descargar Cozy","btn-client-mobile":"Descargar Cozy Drive en su celular","banner-txt-client":"Consejo: sus imágenes, facturas, documentos de identidad, todo accesible cuando usted quiera, desde cualquiera de sus periféricos con Cozy Drive instalado en su ordenador","banner-btn-client":"Descargar ahora","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/fr/try-it?from=albumsharing"},breadcrumb:{title_drive:"Drive",title_recent:"Recientes",title_shared:"Mis archivos compartidos",title_activity:"Actividad",title_trash:"Papelera"},Toolbar:{more:"More"},toolbar:{item_upload:"Cargar",menu_upload:"Transferir archivos",item_more:"More",menu_new_folder:"Nueva carpeta",menu_select:"Seleccionar items",menu_download_folder:"Descargar carpeta",empty_trash:"Vaciar la papelera",share:"Compartir",leave:"Leave shared folder & delete it"},service:{bills:"Get my bills"},Share:{status:{pending:"Pendiente",accepted:"Accepted",refused:"Rechazado",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Files:{share:{cta:"Compartir",title:"Compartir con otros",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared by me",sharedWithMe:"Shared with me",shareByLink:{title:"Mediante enlace público",subtitle:"Compartir mediante enlace",desc:"Nadie con el enlace suministrado puede mirar y descargar sus archivos."},shareByEmail:{title:"Por email",subtitle:"Compartir mediante email",email:"email",emailPlaceholder:"Entre su dirección email o el nombre de su destinatario",send:"Enviar",genericSuccess:"You sent an invite to %{count} contacts.",success:"Ystad envía un envitado a %{email}."},unshare:{title:"Borrar desde en compartir",success:"Usted ha borrado este archivo compartido desde %{email}"},sharingLink:{title:"Enlace a compartir",copy:"Copiar",copied:"Copiado"},whoHasAccess:{title:"Quién tiene acceso"},protectedShare:{title:"Vendrá pronto!",desc:"Compartir algo por email con su familia y sus amigos!"},close:"Cerrar",gettingLink:"Adquiriendo su enlace...",error:{generic:"Ha ocurrido un error al usted crear el link para compartir el archivo, por favor vuelva a ansayar."}},"viewer-fallback":"If the file has started downloading, you can close this."},table:{head_name:"Nombre",head_update:"Ultima actualización",head_size:"Tamaño",head_status:"Estatuto",row_update_format:"MMM D, AAAA",row_update_format_full:"MMMM D, YYYY",row_read_only:"Compartido (sólo en lectura)",row_read_write:"Compartido (Lectura & Escritura)",row_size_symbols:{B:"o",KB:"Ko",MB:"Mo",GB:"Go",TB:"To",PB:"Po",EB:"Eo",ZB:"Zo",YB:"Yo"}},SelectionBar:{selected_count:"item seleccionado |||| items seleccionados",share:"Compartir",download:"Descargar",trash:"Borrar",destroy:"Borrar definitivamente",moveto:"Trasladar",rename:"Cambiar el nombre",restore:"Restaurar",close:"Cerrar",openWith:"Abir con",availableOffline:"Hacerla disponible cuando esté desconectado"},deleteconfirmation:{title:"¿Suprimir este elemento? |||| ¿Suprimir estos elementos?",trash:"Será desplazado(a) a la Papelera. ||| Serán desplazado(a)s a la Papelera.",restore:"Usted puede restaurarl(o)a cuando lo desee. ||| Usted puede restaurarlo(a)s cuando lo desee.",shared:"Si usted lo(a) ha compartido, la gente no podrá acceder a él o ella. ||| Si usted lo(a)s ha compartido, la gente no podrá acceder a ello(a)s.",referenced:"Algunos de los archivos incluidos en la selección se refieren a un álbum de fotos. Se borrarán si usted procede a enviarlos a la papelera.",cancel:"Anular",delete:"Suprimir"},emptytrashconfirmation:{title:"¿Suprimir definitivamente?",forbidden:"Usted no podrá acceder más a estos archivos.",restore:"Usted no podrá recuperar estos archivos si no ha hecho una copia de seguridad.",cancel:"Anular",delete:"Suprimir definitivamente"},destroyconfirmation:{title:"¿Suprimir definitivamente?",forbidden:"Usted no podrá acceder más a este archivo. ||| Usted no podrá acceder más a estos archivos.",restore:"Usted no podrá recuperar este archivo si no ha hecho una copia de seguridad. ||| Usted no podrá recuperar estos archivos si no ha hecho una copia de seguridad.",cancel:"Anular",delete:"Suprimir definitivamente"},quotaalert:{title:"Su espacio disco está lleno :(",desc:"Por favor, suprimir archivos y vaciar la Papelera antes de cargar nuevos archivos.",confirm:"OK"},loading:{message:"Cargando"},empty:{title:"No hay archivos en esta carpeta.",text:'Haga clic en el botón "cargar" para añadir archivos a esta carpeta.',trash:{title:"Usted no tiene ningún archivo borrado.",text:"Los archivos que no necesita más échelos a la Papelera y suprímalos definitivamente para liberar espacio de almacenamiento."}},error:{open_folder:"Algo ha fallado al abrir la carpeta.",button:{reload:"Actualizar ahora"},download_file:{offline:"Usted debe estar conectado para descargar este archivo",missing:"Este archivo no existe"},public_unshared_title:"Lo sentimos, este enlace ya no es válido.",public_unshared_text:"Por uno que se pierde, diez que se encuentran... o mire a ver con el propietario para que le ayude. Este archivo quizás no está perdido."},alert:{could_not_open_file:"The file could not be opened",try_again:"Ha ocurrido un error, por favor ensaye más tarde.",restore_file_success:"La selección ha sido restaurada con éxito.",trash_file_success:"La selección ha sido desplazada a la Papelera.",destroy_file_success:"Se ha suprimido definitivamente la selección.",empty_trash_progress:"Your trash is being emptied. This might take a few moments.",empty_trash_success:"The trash has been emptied.",folder_name:"El elemento %{folderName} ya existe, por favor escoger otro nombre.",folder_generic:"Ha ocurrido un error, por favor vuelva a ensayar.",folder_abort:"Se requiere poner un nombre a la nueva carpeta si desea guardarla. Su información no ha sido guardada.",offline:"Esta función no esta disponible cuando usted está desconectado."},mobile:{onboarding:{welcome:{title1:"Bienvenida(o) a Cozy",title2:"Su propia nube personal",button:"Iniciar sesión en su Cozy",no_account_link:"¿No tiene usted una cuenta? Solicite una aquí."},server_selection:{description:"Example: https://claudedouillet.mycozy.cloud",label:"Enter your Cozy address",cozy_address_placeholder:"tonystark.mycozy.cloud",button:"Siguiente",wrong_address_with_email:"Usted ha escrito una dirección email. Para conectarse a su cozy usted debe escribir la url, algo así como https://tonystark.mycozy.cloud",wrong_address_v2:"Usted ha entrado la dirección de la vieja versión de Cozy. Esta aplicación es sólo compatible con la última versión. [Por favor vaya a nuestra página para una mayor información.}\n(https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=es)",wrong_address:"Esta dirección no parece ser la de una cozy. Por favor, chequée la dirección de su proveedor."},files:{title:"Acceder a sus archivos",description:"Para guardar sus archivos Cozy en su periférico, la aplicación debe poder acceder a sus archivos."},photos:{title:"Hacer una copia de seguridad de sus fotos y sus vídeos",description:"Haga automáticamente una copia de seguridad de las fotos que usted toma con su teléfono en su Cozy, así nunca se perderán."},contacts:{title:"Sincronizar sus contactos",description:"Guardar los contactos de su teléfono en su Cozy - esto le facilitará compartir archivos con ellos."},step:{button:"Activar ahora",skip:"Más tarde",next:"Siguiente"},analytics:{title:"Ayúdenos a mejorar Cozy",description:"La aplicación enviará automáticamente información (principalmente errores) a Cozy Cloud. Esto permitirá resolver problemas más tarde."}},settings:{title:"Ajustes",about:{title:"Acerca de",app_version:"Versión ",account:"Cuenta"},unlink:{title:"Reiniciar esta aplicación",description:"Al hacer clic en Reset, usted podrá lanzar su aplicación de nuevo, y sólo perderá los datos guardados en su smartphone.",button:"Reiniciar",confirmation:{title:"¿Reiniciar esta aplicación?",description:"Al desconectarse de su Cozy, se borran todos los datos sincronizados localmente por su aplicación móvil.",cancel:"Anular",unlink:"Reiniciar"}},media_backup:{media_folder:"/Fotos/Salvaguardadas de su celular",title:"Copia de seguridad de Medios",images:{title:"Copia de seguridad de imágenes",label:"Cree automáticamente una Copia de seguridad de sus imágenes en Cozy, así nunca se perderán y podrá compartirlas fácilmente."},launch:"Lanzar Copia de Seguridad",stop:"Parar la Copia de Seguridad",wifi:{title:"Copia de seguridad sólo con WIFI",label:"Si la opción está activada, su periférico sólo hará una copia de seguridad de las fotos cuando haya WIFI disponible."},media_upload:"%{remaining} remaining pictures",media_uptodate:"Media backup is up-to-date"},support:{title:"Asistencia",analytics:{title:"Ayúdenos a mejorar Cozy",label:"La aplicación enviará automáticamente información (principalmente errores) a Cozy Cloud. Esto permitirá resolver problemas más tarde."},logs:{title:"Ayúdenos a entender su problema",description:"Envíenos el log de la aplicación para ayudarnos a mejorar su calidad y estabilidad.",button:"Enviar mis logs",success:"Gracias, investigaremos su problema y le contactaremos pronto.",error:"Ha ocurrido un problema, los logs no podrán enviarse, por favor vuelva a ensayar más tarde"}},contacts:{title:"Contactos",subtitle:"Importar contactos",text:"Importar los contactos de su aparato a su Cozy para así poder compartir contenidos con ellos."}},error:{open_with:{offline:"Para abrir este archivo usted debe estar conectado",noapp:"Ninguna aplicación puede abrir este archivo"}},revoked:{title:"Acceso revocado",description:"Parece que usted ha desconectado este periférico de su Cozy. Si no es así, háganoslo saber a contact@cozycloud.cc.  Todos sus datos locales relacionados con su Cozy serán borrados.",loginagain:"Iniciar sesión de nuevo",logout:"Desconectarse"},rating:{enjoy:{title:"¿Disfruta usted de Cozy Drive?",yes:"¡Sí!",no:"Realmente no"},rate:{title:"¿Le importaría evaluarlo?",yes:"¡Hagámoslo pues!",no:"No, gracias",later:"Quizás más tarde"},feedback:{title:"¿Podría usted hacernos algunos comentarios?",yes:"Enviar",no:"No, gracias"},email:{subject:"Comentarios sobre Cozy Drive",placeholder:"Hola, pienso que Cozy Drive sería mejor si..."},alert:{rated:"¡Gracias! Usted es ⭐️⭐️⭐️⭐️",declined:"Impresionante. Le gustarán las funciones que vienen. ¡Permanezca en Cozy!",later:"No hay problema, ya le preguntaremos más tarde.",feedback:"Gracias por sus comentarios. ¡Trabajamos precisamente en ello!"}},first_sync:{title:"You are about to start your first photos back up 🎉",tips:"Tips",tip_bed:"Open Cozy Drive before you go to bed or when you don't use your phone.",tip_wifi:"Enable Wi-Fi to preserve your data.",tip_lock:"Disable your lock screen.",result:"In the morning, all your photos will be stored in a safe and secure location.",button:"Got it!"},notifications:{backup_paused:"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},upload:{alert:{success:"%{smart_count} archivo cargado con éxito |||| %{smart_count} archivos cargados con éxito.",success_conflicts:"%{smart_count} archivo cargado con %{conflictNumber} conflicto(s). |||| %{smart_count} archivos cargados con %{conflictNumber} conflicto(s).",errors:"Han ocurrido errores al subir el archivo."}},UploadQueue:{header:"Cargando %{smart_count} foto a Cozy Drive |||| Cargando %{smart_count} fotos a Cozy Drive",header_mobile:"%{done} de %{total} cargando…",header_done:"Cargados %{done} de %{total} con éxito",close:"cerrar",item:{pending:"Pendiente"}}}},function(e,t){e.exports={Nav:{item_drive:"Drive",item_recent:"Récents",item_shared:"Partagés",item_activity:"Activité",item_trash:"Corbeille",item_settings:"Paramètres","btn-client":"Télécharger Cozy Drive pour ordinateur","btn-client-web":"Obtenez un Cozy","btn-client-mobile":"Téléchargez Cozy Drive sur votre mobile !","banner-txt-client":"Astuce : vos photos, vos factures, vos documents d'identité accessibles n'importe quand, depuis tous vos appareils avec Cozy Drive installé sur votre ordinateur","banner-btn-client":"Télécharger maintenant","link-client":"https://cozy.io/fr/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile&hl=fr","link-client-ios":"https://itunes.apple.com/fr/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/fr/try-it?from=albumsharing"},breadcrumb:{title_drive:"Drive",title_recent:"Récents",title_shared:"Mes fichiers partagés",title_activity:"Activité",title_trash:"Corbeille"},Toolbar:{more:"Plus"},toolbar:{item_upload:"Transférer des fichiers",menu_upload:"Transférer des fichiers",item_more:"Plus",menu_new_folder:"Nouveau dossier",menu_select:"Sélectionner les éléments",menu_download_folder:"Télécharger le dossier",empty_trash:"Vider la corbeille",share:"Partager",leave:"Quitter le dossier partagé et le supprimer"},service:{bills:"Récupérer mes factures"},Share:{status:{pending:"En attente",accepted:"Accepté",refused:"Refusé",error:"Erreur",unregistered:"Erreur","mail-not-sent":"Erreur",revoked:"Erreur"},type:{"master-slave":"Peut consulter","master-master":"Peut modifier"}},Files:{share:{cta:"Partager",title:"Partager avec d'autres",details:{title:"Détails du partage",createdAt:"Le %{date}",ro:"Lecture seule",rw:"Lecture/écriture"},sharedByMe:"Partagé",sharedWithMe:"Partagé avec moi",shareByLink:{title:"Par lien",subtitle:"Partager par lien",desc:"Chaque personne possédant le lien fourni peut voir et télécharger vos fichiers."},shareByEmail:{title:"Par e-mail",subtitle:"Partager par e-mail",email:"e-mail",emailPlaceholder:"Entrez l'adresse e-mail ou le nom de votre destinataire",send:"Envoyer",genericSuccess:"Vous avez invité %{count} contacts.",success:"Vous avez envoyé une invitation à %{email}."},unshare:{title:"Révoquer le partage",success:"Vous avez cessé de partager ce fichier avec %{email}."},sharingLink:{title:"Partager",copy:"Copier",copied:"Copié"},whoHasAccess:{title:"Qui a accès"},protectedShare:{title:"Prochainement !",desc:"Partagez ce que vous souhaitez par email avec votre famille et vos amis !"},close:"Fermer",gettingLink:"Création du lien…",error:{generic:"Une erreur est survenue lors de la création du lien de partage, merci de réessayer"}},"viewer-fallback":"Le fichier est en cours de téléchargement, vous pouvez fermer cette fenêtre."},table:{head_name:"Nom",head_update:"Mise à jour",head_size:"Taille",head_status:"État",row_update_format:"D MMM YYYY",row_update_format_full:"D MMMM YYYY",row_read_only:"Partagé (lecture seule)",row_read_write:"Partagé (lecture & écriture)",row_size_symbols:{B:"o",KB:"Ko",MB:"Mo",GB:"Go",TB:"To",PB:"Po",EB:"Eo",ZB:"Zo",YB:"Yo"}},SelectionBar:{selected_count:"élément sélectionné |||| éléments sélectionnés",share:"Partager",download:"Télécharger",trash:"Supprimer",destroy:"Supprimer définitivement",moveto:"Déplacer",rename:"Renommer",restore:"Restaurer",close:"Fermer",openWith:"Ouvrir avec",availableOffline:"Rendre accessible hors-ligne"},deleteconfirmation:{title:"Supprimer cet élément ? |||| Supprimer ces éléments ?",trash:"Cet élément sera déplacé dans la corbeille. |||| Ces éléments seront déplacés dans la corbeille.",restore:"Vous pouvez toujours le restaurer quand vous voulez.",shared:"Les gens auxquels vous l'aviez partagé ne pourront plus y accéder.",referenced:"Des photos de la sélection sont dans un album. Elles seront retirées de l'album si vous validez.",cancel:"Annuler",delete:"Supprimer"},emptytrashconfirmation:{title:"Supprimer définitivement ?",forbidden:"Vous ne pourrez plus accéder à ces fichiers.",restore:"Vous ne pourrez pas restaurer ces fichiers.",cancel:"Annuler",delete:"Supprimer tout"},destroyconfirmation:{title:"Supprimer définitivement ?",forbidden:"Vous ne pourrez plus accéder à ce fichier. |||| Vous ne pourrez plus accéder à ces fichiers.",restore:"Vous ne pourrez pas restaurer ce fichier. |||| Vous ne pourrez pas restaurer ces fichiers.",cancel:"Annuler",delete:"Supprimer définitivement"},quotaalert:{title:"Votre espace disque est plein :(",desc:"Merci de supprimer des fichiers et vider la corbeille avant de transférer de nouveaux fichiers.",confirm:"OK"},loading:{message:"Chargement"},empty:{title:"Vous n'avez aucun fichier dans ce dossier.",text:'Cliquez sur le bouton "Transférer des fichiers" pour ajouter des fichiers à ce dossier.',trash:{title:"Vous n'avez aucun fichier supprimé.",text:"Déplacez les fichiers dont vous n'avez plus besoin dans la corbeille et supprimez-les définitivement pour récupérer de l'espace de stockage."}},error:{open_folder:"Une erreur est survenue pendant l'ouverture du dossier.",button:{reload:"Rafraîchir"},download_file:{offline:"Vous devez être connecté pour pouvoir ouvrir ce fichier",missing:"Le fichier n'existe pas"},public_unshared_title:"Désolé, ce lien n'est plus disponible.",public_unshared_text:"Un de perdu, dix de retrouvés... ou alors prenez contact avec le propriétaire. Ce fichier n'est peut-être pas perdu."},alert:{could_not_open_file:"Impossible d'ouvrir le fichier",try_again:"Une erreur est survenue, merci de réessayer dans un instant.",restore_file_success:"La sélection a été restaurée avec succès.",trash_file_success:"La sélection a été déplacée dans la Corbeille.",destroy_file_success:"La sélection a été supprimée définitivement.",empty_trash_progress:" Votre corbeille est en train de se vider. Cela peut prendre quelques instants.",empty_trash_success:"La corbeille a été vidée.",folder_name:"L'élément %{folderName} existe déjà, merci de choisir un nouveau nom.",folder_generic:"Une erreur est survenue, merci de réessayer.",folder_abort:"Vous devez nommer votre dossier si vous voulez le sauvegarder. Vos informations n'ont pas été enregistrées.",offline:"C'est fonctionnalité n'est pas disponible en mode hors-ligne."},mobile:{onboarding:{welcome:{title1:"Bienvenue sur Cozy",title2:"Votre propre cloud personnel",button:"Vous connecter à votre Cozy",no_account_link:"Vous n'avez pas de compte? Demandez-en un ici."},server_selection:{description:"Exemple: https://claudedouillet.mycozy.cloud",label:"Entrez l'adresse de votre Cozy",cozy_address_placeholder:"tonystark.mycozy.cloud",button:"Suivant",wrong_address_with_email:"Vous avez entré une adresse email. Pour vous connecter à votre Cozy vous devez entrer son url, sous la forme https://tonystark.mycozy.cloud",wrong_address_v2:"Vous avez entré l'adresse d'une Cozy v2. Cette application n'est compatible qu'avec la dernière version de Cozy. Rendez-vous sur [notre site](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=fr) pour plus d'informations",wrong_address:"Cette adresse ne semble pas correspondre à un Cozy."},files:{title:"Accéder à vos fichiers",description:"Pour sauvegarder les fichiers de votre Cozy sur votre périphérique, l'application doit accéder à vos fichiers."},photos:{title:"Sauvegarder vos photos et vos vidéos",description:"Sauvegarder automatiquement les photos prises avec votre téléphone dans votre Cozy, pour ne jamais les perdre."},contacts:{title:"Synchronisez vos contacts",description:"Sauvegardez les contacts de votre appareil sur votre Cozy — cela facilitera le partage de fichiers avec eux."},step:{button:"Activer maintenant",skip:"Plus tard",next:"Suivant"},analytics:{title:"Aidez-nous à améliorer Cozy",description:"Cette application transmettra automatiquement des données (surtout des erreurs) à notre équipe support. Cela nous permettra de résoudre les problèmes plus vite."}},settings:{title:"Paramètres",about:{title:"À propos",app_version:"Version",account:"Compte"},unlink:{title:"Réinitialiser cette application",description:"En cliquant sur Réinitialiser, vous pourrez redémarrer à zéro votre application et perdrez uniquement les données sauvegardées sur votre téléphone.",button:"Réinitialiser",confirmation:{title:"Réinitialiser cette application?",description:"En vous déconnectant de votre Cozy, vous allez écraser les données locales enregistrées par votre application mobile.",cancel:"Annuler",unlink:"Réinitialiser"}},media_backup:{media_folder:"/Photos/Sauvegardées depuis mon mobile",title:"Sauvegarder des médias",images:{title:"Sauvegarde des images",label:"Sauvegardez vos photos automatiquement dans votre Cozy pour ne jamais les perdre et les partager efficacement."},launch:"Lancer la sauvegarde",stop:"Arrêter la sauvegarde",wifi:{title:"Sauvegarder seulement en WIFI",label:"Si l'option est activée, votre périphérique ne sauvegardera les photos que lorsqu'il est connecté en WIFI afin d'économiser votre forfait."},media_upload:"%{remaining} photos restantes",media_uptodate:"Sauvegarde de photos - à jour"},support:{title:"Support",analytics:{title:" Aidez-nous à améliorer Cozy",label:"Cette application transmettra automatiquement des données (surtout des erreurs) à notre équipe support. Cela nous permettra de résoudre les problèmes plus vite."},logs:{title:"Aidez-nous à comprendre votre problème",description:"Envoyez-nous le journal de l'application afin de nous aider à améliorer sa qualité et sa fiabilité.",button:"Envoyer mon journal",success:"Merci, nous allons investiguer votre problème et vous recontacter rapidement.",error:"Un problème n'a pas permis d'envoyer les informations."}},contacts:{title:"Contacts",subtitle:"Import de contacts",text:"Importez les contacts de votre téléphone dans votre Cozy pour partager plus facilement du contenu avec eux."}},error:{open_with:{offline:"Vous devez être connecté pour pouvoir ouvrir ce fichier",noapp:"Aucune application ne vous permet de lire ce fichier"}},revoked:{title:"Accès révoqué",description:"Vous semblez avoir révoqué votre périphérique depuis votre Cozy. Si ce n'est pas vous, n'hésitez pas à nous contacter à contact@cozycloud.cc. Toutes les données relatives à Cozy présentes localement vont être supprimées.",loginagain:"Se réenregistrer",logout:"Se déconnecter"},rating:{enjoy:{title:"Aimez-vous Cozy Drive ?",yes:"Oui !",no:"Non"},rate:{title:"Pouvez-vous nous noter sur le Store ?",yes:"Allons-y",no:"Non, merci",later:"Plus tard"},feedback:{title:"Pouvez-vous nous donner des idées d'amélioration ?",yes:"Envoyer",no:"Non, merci"},email:{subject:"Améiloration de Cozy Drive",placeholder:"Bonjour,\nJ'aimerais faire des suggestions sur Cozy Drive. Je pense que vous pourriez améliorer…"},alert:{rated:"Merci ! Vous êtes au top ⭐️⭐️⭐️⭐️⭐️",declined:"Pas de problème. Vous allez adorer les prochaines améliorations. Restez Cozy !",later:"Vous avez raison de prendre votre temps pour nous répondre.",feedback:"Merci pour votre retour. Nous allons y travailler."}},first_sync:{title:"Vous êtes sur le point de lancer votre première sauvegarde de photos 🎉\n",tips:"Astuces",tip_bed:"Ouvrir l’application Cozy Drive avant de vous coucher ou quand vous n’utilisez pas votre mobile.",tip_wifi:"Activer le Wi-Fi pour ne pas consommer votre forfait.",tip_lock:"Désactiver le verrouillage de votre écran de veille.",result:"Au petit-déjeuner, toutes vos photos seront ainsi stockées dans un endroit sécurisé. ",button:"Bien compris !"},notifications:{backup_paused:"Votre sauvegarde photos est en pause. Laissez l'application ouverte et empêchez le téléphone de passer en veille pour terminer l'importation."}},upload:{alert:{success:"%{smart_count} fichier mis en ligne. |||| %{smart_count} fichiers mis en ligne.",success_conflicts:"%{smart_count} fichier mis en ligne avec %{conflictNumber} conflit(s). |||| %{smart_count} fichiers mis en ligne avec %{conflictNumber} conflit(s).",errors:"Une erreur est survenue lors de la mise en ligne du fichier, merci de réessayer plus tard."}},UploadQueue:{header:"Mise en ligne de %{smart_count} fichier dans votre Cozy |||| Mise en ligne de %{smart_count} fichiers dans votre Cozy",header_mobile:"%{done} sur %{total} mis en ligne…",header_done:"%{done} sur %{total} mises en ligne terminées",close:"Fermer",item:{pending:"En attente"}}}},function(e,t){e.exports={Nav:{item_drive:"ドライブ",item_recent:"最近使用したファイル",item_shared:"自分が共有した",item_activity:"アクティビティ",item_trash:"ゴミ箱",item_settings:"設定","btn-client":"デスクトップ用 Cozy を入手","btn-client-web":"Cozy を入手する","btn-client-mobile":"お使いのモバイルで Cozy ドライブを入手しましょう!","banner-txt-client":"ヒント: お使いのコンピュータにインストールされた Cozy ドライブで、デバイスから、写真、請求書、身分証明書がいつでもアクセス可能です","banner-btn-client":"今すぐダウンロード","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/fr/try-it?from=albumsharing"},breadcrumb:{title_drive:"ドライブ",title_recent:"最近使用したファイル",title_shared:"自分が共有した",title_activity:"アクティビティ",title_trash:"ゴミ箱"},Toolbar:{more:"More"},toolbar:{item_upload:"アップロード",menu_upload:"ファイルのアップロード",item_more:"More",menu_new_folder:"新しいフォルダー",menu_select:"アイテムを選択",menu_download_folder:"ダウンロードフォルダー",empty_trash:"ゴミ箱を空にする",share:"共有",leave:"Leave shared folder & delete it"},service:{bills:"Get my bills"},Share:{status:{pending:"保留",accepted:"Accepted",refused:"拒否されました",error:"エラー",unregistered:"エラー","mail-not-sent":"エラー",revoked:"エラー"},type:{"master-slave":"Can View","master-master":"Can Change"}},Files:{share:{cta:"共有",title:"他の人と共有",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared by me",sharedWithMe:"Shared with me",shareByLink:{title:"公開リンクで",subtitle:"リンクで共有",desc:"提供されたリンクを持つ人は、誰でもあなたのファイルを見たりダウンロードしたりすることができます。"},shareByEmail:{title:"メールで",subtitle:"メールで共有",email:"メール",emailPlaceholder:"メールアドレスまたは受信者の名前を入力してください",send:"送信",genericSuccess:"You sent an invite to %{count} contacts.",success:"招待状を %{email} に送信しました。"},unshare:{title:"共有から削除",success:"この共有済ファイルを %{email} から削除しました。"},sharingLink:{title:"共有するリンク",copy:"コピー",copied:"コピーしました"},whoHasAccess:{title:"アクセスできる人"},protectedShare:{title:"まもなく登場します!",desc:"あなたの家族や友達とメールで何でも共有してください!"},close:"閉じる",gettingLink:"リンクの取得中...",error:{generic:"ファイル共有リンクの作成中にエラーが発生しました。もう一度やり直してください。"}},"viewer-fallback":"If the file has started downloading, you can close this."},table:{head_name:"名前",head_update:"最終更新",head_size:"サイズ",head_status:"ステータス",row_update_format:"yyyy/MM/dd",row_update_format_full:"MMMM D, YYYY",row_read_only:"共有 (読み取り専用)",row_read_write:"共有 (読み書き)",row_size_symbols:{B:"B",KB:"KB",MB:"MB",GB:"GB",TB:"TB",PB:"PB",EB:"EB",ZB:"ZB",YB:"YB"}},SelectionBar:{selected_count:"アイテム選択 |||| アイテム選択",share:"共有",download:"ダウンロード",trash:"削除",destroy:"完全に削除",moveto:"移動",rename:"名前の変更",restore:"復元",close:"閉じる",openWith:"開く...",availableOffline:"オフラインで利用可能にする"},deleteconfirmation:{title:"この要素を削除しますか? |||| これらの要素を削除しますか?",trash:"ゴミ箱に移動されます。 |||| ゴミ箱に移動されます。",restore:"いつでも元に戻すことができます。 |||| いつでも元に戻すことができます。",shared:"共有している場合、他の人がアクセスすることができなくなります。 |||| 共有している場合、他の人がアクセスすることができなくなります。",referenced:"選択範囲内の一部のファイルがフォトアルバムに関連しています。それらはゴミ箱に移動すると、削除されます。",cancel:"キャンセル",delete:"削除"},emptytrashconfirmation:{title:"完全に削除しますか?",forbidden:"これらのファイルにもうアクセスすることはできません。",restore:"バックアップを作成していない場合、これらのファイルを復元することはできません。",cancel:"キャンセル",delete:"すべて削除"},destroyconfirmation:{title:"完全に削除しますか?",forbidden:"このファイルにもうアクセスすることはできません。 |||| これらのファイルにもうアクセスすることはできません。",restore:"バックアップを作成していない場合、このファイルを復元することはできません。 |||| バックアップを作成していない場合、これらのファイルを復元することはできません。",cancel:"キャンセル",delete:"完全に削除"},quotaalert:{title:"お使いのディスク容量が一杯です :(",desc:"ファイルを再度アップロードする前に、ファイルを削除してごみ箱を空にしてください。",confirm:"OK"},loading:{message:"読み込み中"},empty:{title:"このフォルダーにファイルはありません。",text:'"アップロード" ボタンをクリックして、このフォルダーにファイルを追加します。',trash:{title:"削除されたファイルはありません。",text:"不要になったファイルをゴミ箱に移動し、アイテムを完全に削除するとストレージページを解放します。"}},error:{open_folder:"フォルダーを開くときに何か問題が発生しました。",button:{reload:"今すぐ更新"},download_file:{offline:"このファイルをダウンロードするには接続している必要があります",missing:"このファイルが見つかりません"},public_unshared_title:"申し訳ありません。このリンクはもう利用できません。",public_unshared_text:"1 つ失い、10 見つかりました... そうでなければオーナーの支援を受けてチェックしてください。 このファイルは失われないかもしれません。"},alert:{could_not_open_file:"The file could not be opened",try_again:"エラーが発生しました。しばらくしてからもう一度やり直してください。",restore_file_success:"選択を正常に復元しました。",trash_file_success:"選択をゴミ箱に移動しました。",destroy_file_success:"選択を完全に削除しました。",empty_trash_progress:"Your trash is being emptied. This might take a few moments.",empty_trash_success:"The trash has been emptied.",folder_name:"要素 %{folderName} はすでに存在します。新しい名前を選んでください。",folder_generic:"エラーが発生しました。もう一度やり直してください。",folder_abort:"保存したい場合、新しいフォルダーに名前を追加する必要があります。 情報は保存されていません。",offline:"この機能はオフラインでは利用できません。"},mobile:{onboarding:{welcome:{title1:"Cozy へようこそ",title2:"あなた独自のパーソナルクラウド",button:"Cozy にサインインしてください",no_account_link:"アカウントをお持ちではありませんか? ここからリクエストしてください。"},server_selection:{description:"Example: https://claudedouillet.mycozy.cloud",label:"Enter your Cozy address",cozy_address_placeholder:"tonystark.mycozy.cloud",button:"次へ",wrong_address_with_email:"メールアドレスを入力しました。 Cozy に接続するには、https://tonystark.mycozy.cloud のような URL を入力する必要があります",wrong_address_v2:"古い Cozy バージョンのアドレスを入力しました。 このアプリケーションは、最新バージョンとのみ互換性があります。 [詳細については、私たちのサイトを参照してください。](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)",wrong_address:"このアドレスは Cozy ではないようです。 入力したアドレスを確認してください。"},files:{title:"ファイルのアクセス",description:"お使いのデバイスで Cozy のファイルを保存するには、アプリケーションがファイルにアクセスする必要があります。"},photos:{title:"写真とビデオをバックアップ",description:"お使いの電話で撮影した写真を自動的に Cozy にバックアップして、失わないようにします。"},contacts:{title:"連絡先を同期",description:"お使いの携帯電話の連絡先を Cozy に保存します — これにより、連絡先とファイルの共有が容易になります。"},step:{button:"今すぐ有効にする",skip:"後で",next:"次へ"},analytics:{title:"Cozy の改善を手伝う",description:"アプリケーションは、自動的にデータ (主にエラー) を Cozy クラウドに提供します。 これにより問題をより早く解決することができます。"}},settings:{title:"設定",about:{title:"アプリについて",app_version:"アプリのバージョン",account:"アカウント"},unlink:{title:"このアプリケーションをリセット",description:"リセットをクリックすると、アプリケーションを起動することができ、スマートフォンに保存されているデータのみが失われます。",button:"リセット",confirmation:{title:"アプリケーションをリセットしますか?",description:"Cozy からログアウトすると、モバイルアプリケーションによってローカルに同期されたデータはすべて消去されます",cancel:"キャンセル",unlink:"リセット"}},media_backup:{media_folder:"自分のモバイルから /Photos/Backuped",title:"メディアバックアップ",images:{title:"画像のバックアップ",label:"画像を自動的に Cozy にバックアップして、無くさないようにして、簡単に共有できるようにします。"},launch:"バックアップを起動",stop:"バックアップを停止",wifi:{title:"WIFI でのみバックアップ",label:"このオプションが有効になっている場合、パケットを節約するために、お使いのデバイスが WIFI 接続時にのみ写真をバックアップします。"},media_upload:"%{remaining} remaining pictures",media_uptodate:"Media backup is up-to-date"},support:{title:"サポート",analytics:{title:"Cozy の改善を手伝う",label:"アプリケーションは、自動的にデータ (主にエラー) を Cozy クラウドに提供します。 これにより問題をより早く解決することができます。"},logs:{title:"あなたの問題を理解できるように私たちを手伝ってください",description:"アプリケーションログをメールで送って、品質と安定性の向上を支援してください。",button:"ログを送信",success:"ありがとうございます、私たちは問題を調査し、すぐにご連絡いたします。",error:"問題が発生しました。ログを送信できませんでした。もう一度やり直してください。"}},contacts:{title:"連絡先",subtitle:"連絡先をインポート",text:"お使いのデバイスから Cozy に連絡先をインポートすると、コンテンツを簡単に共有できます。"}},error:{open_with:{offline:"このファイルを開くには接続している必要があります",noapp:"このファイルを開くことができるアプリケーションがありません"}},revoked:{title:"アクセスが取り消されました",description:"あなたはこのデバイスを Cozy から取り消したようです。 あなたが行っていない場合は、contact@cozycloud.cc までお知らせください。 あなたの Cozy に関連するすべてのローカルデータが削除されます。",loginagain:"もう一度ログイン",logout:"ログアウト"},rating:{enjoy:{title:"Cozy ドライブを楽しんでますか?",yes:"はい!",no:"あまり"},rate:{title:"評価して頂けますか?",yes:"そうする!",no:"いいえ結構です",later:"後で"},feedback:{title:"フィードバックをお願いできますか?",yes:"送信",no:"いいえ結構です"},email:{subject:"Cozy ドライブでフィードバック",placeholder:"こんにちは、Cozy ドライブはいいと思います..."},alert:{rated:"ありがとう! ⭐️⭐️⭐️⭐️⭐️ です",declined:"素晴らしい。今後の機能が楽しみです。 Cozy を使い続けます!",later:"問題ありません、後でまた尋ねます。",feedback:"フィードバックいただきありがとうございます。 私たちは間違いなく取り組んでいきます!"}},first_sync:{title:"You are about to start your first photos back up 🎉",tips:"Tips",tip_bed:"Open Cozy Drive before you go to bed or when you don't use your phone.",tip_wifi:"Enable Wi-Fi to preserve your data.",tip_lock:"Disable your lock screen.",result:"In the morning, all your photos will be stored in a safe and secure location.",button:"Got it!"},notifications:{backup_paused:"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},upload:{alert:{success:"%{smart_count} ファイルを正常にアップロードしました。 |||| %{smart_count} ファイルを正常にアップロードしました。",success_conflicts:"%{smart_count} ファイルをアップロードしましたが %{conflictNumber} の競合がありました。 |||| ファイルをアップロードしましたが %{conflictNumber} の競合がありました。",errors:"ファイルのアップロード中にエラーが発生しました。"}},UploadQueue:{header:"%{smart_count} 枚の写真を Cozy ドライブにアップロード中 |||| %{smart_count} 枚の写真を Cozy ドライブにアップロード中",header_mobile:"%{done} / %{total} アップロード中…",header_done:"%{done} / %{total} を正常にアップロードしました",close:"閉じる",item:{pending:"保留"}}}},function(e,t){e.exports={Nav:{item_drive:"Drive",item_recent:"Recent",item_shared:"Shared by me",item_activity:"Activity",item_trash:"Trash",item_settings:"Settings","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/fr/try-it?from=albumsharing"},breadcrumb:{title_drive:"Drive",title_recent:"Recent",title_shared:"Shared by me",title_activity:"Activity",title_trash:"Trash"},Toolbar:{more:"More"},toolbar:{item_upload:"Upload",menu_upload:"Upload files",item_more:"More",menu_new_folder:"New folder",menu_select:"Select items",menu_download_folder:"Download folder",empty_trash:"Empty trash",share:"Share",leave:"Leave shared folder & delete it"},service:{bills:"Get my bills"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Files:{share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared by me",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your files."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}."},unshare:{title:"Remove from sharing",success:"You removed this shared file from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the file share link, please try again."}},"viewer-fallback":"If the file has started downloading, you can close this."},table:{head_name:"Name",head_update:"Last update",head_size:"Size",head_status:"Status",row_update_format:"MMM D, YYYY",row_update_format_full:"MMMM D, YYYY",row_read_only:"Share (Read only)",row_read_write:"Share (Read & Write)",row_size_symbols:{B:"B",KB:"KB",MB:"MB",GB:"GB",TB:"TB",PB:"PB",EB:"EB",ZB:"ZB",YB:"YB"}},SelectionBar:{selected_count:"item selected |||| items selected",share:"Share",download:"Download",trash:"Remove",destroy:"Delete permanently",moveto:"Move",rename:"Rename",restore:"Restore",close:"Close",openWith:"Open with",availableOffline:"Make available offline"},deleteconfirmation:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",referenced:"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"},emptytrashconfirmation:{title:"Permanently delete?",forbidden:"You won't be able to access these files anymore.",restore:"You won't be able to restore these files if you didn't make a backup.",cancel:"Cancel",delete:"Delete all"},destroyconfirmation:{title:"Permanently delete?",forbidden:"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.",restore:"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.",cancel:"Cancel",delete:"Delete permanently"},quotaalert:{title:"Your disk space is full :(",desc:" Please remove files and empty your trash before uploading files again.",confirm:"OK"},loading:{message:"Loading"},empty:{title:"You don’t have any files in this folder.",text:'Click the "upload" button to add files to this folder.',trash:{title:"You don’t have any deleted files.",text:"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."}},error:{open_folder:"Something went wrong when opening the folder.",button:{reload:"Refresh now"},download_file:{offline:"You should be connected to download this file",missing:"This file is missing"},public_unshared_title:"Sorry, this link is no longer available.",public_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost."},alert:{could_not_open_file:"The file could not be opened",try_again:"An error has occurred, please try again in a moment.",restore_file_success:"The selection has been successfully restored.",trash_file_success:"The selection has been moved to the Trash.",destroy_file_success:"The selection has been deleted permanently.",empty_trash_progress:"Your trash is being emptied. This might take a few moments.",empty_trash_success:"The trash has been emptied.",folder_name:"The element %{folderName} already exists, please choose a new name.",folder_generic:"An error occurred, please try again.",folder_abort:"You need to add a name to your new folder if you would like to save it. Your information has not been saved.",offline:"This feature is not available offline."},mobile:{onboarding:{welcome:{title1:"Welcome to Cozy",title2:"Your own personal cloud",button:"Sign in to your Cozy",no_account_link:"Don’t have an account? Request one here."},server_selection:{description:"Example: https://claudedouillet.mycozy.cloud",label:"Enter your Cozy address",cozy_address_placeholder:"tonystark.mycozy.cloud",button:"Next",wrong_address_with_email:"You typed an email address. To connect on your cozy you must type its url, something like https://tonystark.mycozy.cloud",wrong_address_v2:"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)",wrong_address:"This address doesn’t seem to be a cozy. Please check the address you provide."},files:{title:"Access your drive",description:"In order to save your Cozy Drive on your device, the application must access your files."},photos:{title:"Backup your photos and videos",description:"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},contacts:{title:"Sync your contacts",description:"Save your phone's contact on your Cozy — this will facilitate sharing files with them."},step:{button:"Enable now",skip:"Later",next:"Next"},analytics:{title:"Help us improve Cozy",description:"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},settings:{title:"Settings",about:{title:"About",app_version:"App Version",account:"Account"},unlink:{title:"Reset this application",description:"By clicking Reset, you will be able to start your application over, and will only lose the data saved on your smartphone.",button:"Reset",confirmation:{title:"Reset this application?",description:"By logging out of your Cozy, you will erase all data synchronized locally by your mobile application.",cancel:"Cancel",unlink:"Reset"}},media_backup:{media_folder:"/Photos/Backuped from my mobile",title:"Media Backup",images:{title:"Backup images",label:"Backup your images automatically to your Cozy not to ever lose them and share them easily."},launch:"Launch Backup",stop:"Stop Backup",wifi:{title:"Backup on WIFI only",label:"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},media_upload:"%{remaining} remaining pictures",media_uptodate:"Media backup is up-to-date"},support:{title:"Support",analytics:{title:"Help us improve Cozy",label:"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},logs:{title:"Help us to understand your problem",description:"Send the application log to help us improve its quality and stability.",button:"Send my logs",success:"Thanks, we will investigate your problem and contact you soon.",error:"A problem happened, logs couldn't be sent, please try again."}},contacts:{title:"Contacts",subtitle:"Import contacts",text:"Import the contacts from your device to your Cozy to easily share content with them."}},error:{open_with:{offline:"You should be connected to open this file",noapp:"No application can open this file"}},revoked:{title:"Access revoked",description:"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.",loginagain:"Log in again",logout:"Log out"},rating:{enjoy:{title:"Enjoying Cozy Drive?",yes:"Yes!",no:"Not really"},rate:{title:"Would you mind rating it?",yes:"Let's do that!",no:"No, thanks",later:"Maybe later"},feedback:{title:"Would you mind giving us some feedback?",yes:"Send",no:"No, thanks"},email:{subject:"Feedback on Cozy Drive",placeholder:"Hello, I think Cozy Drive would be better if…"},alert:{rated:"Thank you! You're ⭐️⭐️⭐️⭐️⭐️",declined:"Awesome. You will love the upcoming features. Stay Cozy!",later:"No problem, we'll ask again later.",feedback:"Thank you for the feedback. We'll definitely work on it!"}},first_sync:{title:"You are about to start your first photos back up 🎉",tips:"Tips",tip_bed:"Open Cozy Drive before you go to bed or when you don't use your phone.",tip_wifi:"Enable Wi-Fi to preserve your data.",tip_lock:"Disable your lock screen.",result:"In the morning, all your photos will be stored in a safe and secure location.",button:"Got it!"},notifications:{backup_paused:"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},upload:{alert:{success:"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.",success_conflicts:"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the file upload."}},UploadQueue:{header:"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive",header_mobile:"%{done} of %{total} uploading…",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"}}}},function(e,t){e.exports={Nav:{item_drive:"Drive",item_recent:"Recent",item_shared:"Shared by me",item_activity:"Activity",item_trash:"Trash",item_settings:"Settings","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/fr/try-it?from=albumsharing"},breadcrumb:{title_drive:"Schijf",title_recent:"Recent",title_shared:"Gedeeld door mij",title_activity:"Activiteit",title_trash:"Prullenbak"},Toolbar:{more:"More"},toolbar:{item_upload:"Upload",menu_upload:"Upload bestand",item_more:"More",menu_new_folder:"Nieuwe map",menu_select:"Selecteer items",menu_download_folder:"Download folder",empty_trash:"Leeg de prullenbak",share:"Share",leave:"Leave shared folder & delete it"},service:{bills:"Get my bills"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Files:{share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared by me",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your files."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}."},unshare:{title:"Remove from sharing",success:"You removed this shared file from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the file share link, please try again."}},"viewer-fallback":"If the file has started downloading, you can close this."},table:{head_name:"Naam",head_update:"Laatst bijgewerkt",head_size:"Grootte",head_status:"Status",row_update_format:"MMM D, YYYY",row_update_format_full:"MMMM D, YYYY",row_read_only:"Delen (alleen lezen)",row_read_write:"Delen (Lezen en schrijven)",row_size_symbols:{B:"B",KB:"KB",MB:"MB",GB:"GB",TB:"TB",PB:"PB",EB:"EB",ZB:"ZB",YB:"YB"}},SelectionBar:{selected_count:"item selected |||| items selected",share:"Share",download:"Download",trash:"Remove",destroy:"Delete permanently",moveto:"Move",rename:"Rename",restore:"Restore",close:"Close",openWith:"Open with",availableOffline:"Make available offline"},deleteconfirmation:{title:"Verwijder dit element? |||| Verwijder deze elementen?",trash:"Het zal worden verplaatst naar de Prullenbak. ||| Ze zullen worden verplaatst naar de Prullenbak.",restore:"Je kunt het nog steeds terughalen als je wilt. |||| Je kunt ze nog steeds terughalen als je wilt.",shared:"Als je het gedeeld hebt, kunnen de mensen er niet meer bij. |||| Als je ze gedeeld hebt, kunnen de mensen er niet meer bij.",referenced:"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.",cancel:"Annuleren",delete:"Verwijderen"},emptytrashconfirmation:{title:"Permanent verwijderen?",forbidden:"Je kunt deze bestanden niet meer benaderen.",restore:"Als je geen back-up gemaakt hebt, kun je deze bestanden niet meer terugzetten.",cancel:"Annuleren",delete:"Verwijder alles"},destroyconfirmation:{title:"Verwijder permanent?",forbidden:"Je kunt dit bestand net meer benaderen. |||| Je kunt deze bestanden niet meer benaderen.",restore:"Als je geen back-up gemaakt hebt, kun je dit bestand niet meer terugzetten. |||| Als je geen back-up gemaakt hebt, kun je deze bestanden niet meer terugzetten.",cancel:"Annuleren",delete:"Verwijder permanent"},quotaalert:{title:"Jouw schijfruimte is vol :(",desc:"Verwijder alsjeblieft bestanden en leeg de prullenbak voordat je opnieuw bestanden upload.",confirm:"OK"},loading:{message:"Laden"},empty:{title:"Er staan geen bestanden in deze map.",text:'Klik op de "upload" knop om bestanden aan deze map toe te voegen.',trash:{title:"Je hebt geen verwijderde bestanden.",text:"Verplaats bestanden die je niet meer nodig hebt naar de prullenbak en verwijder bestanden permanent om schijfruimte op te schonen."}},error:{open_folder:"Er is is fout gegaan bij het openen van de map.",button:{reload:"Nu verversen"},download_file:{offline:"Je moet verbonden zijn om dit  bestand te downloaden",missing:"Dit bestand bestaat niet"},public_unshared_title:"Sorry, this link is no longer available.",public_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost."},alert:{could_not_open_file:"The file could not be opened",try_again:"Er is een fout opgetreden, probeer het later nog eens.",restore_file_success:"De selectie is succesvol herstelt.",trash_file_success:"De selectie is verplaatst naar de Prullenbak.",destroy_file_success:"De selectie is permanent verwijderd.",empty_trash_progress:"Your trash is being emptied. This might take a few moments.",empty_trash_success:"The trash has been emptied.",folder_name:"Het element %{foldername} bestaat al, kies een andere naam.",folder_generic:"Er is een fout opgetreden, probeer het opnieuw.",folder_abort:"Je moet de nieuwe map een naam geven als je het wilt opslaan. De gegevens zijn niet opgeslagen.",offline:"Deze mogelijkheid is niet beschikbaar offline."},mobile:{onboarding:{welcome:{title1:"Welkom bij Cozy",title2:"Jouw eigen persoonlijke cloud",button:"Log in op jouw Cozy",no_account_link:"Heb je geen account? Vraag er hier een aan."},server_selection:{description:"Example: https://claudedouillet.mycozy.cloud",label:"Enter your Cozy address",cozy_address_placeholder:"tonhaai.mycozy.cloud",button:"Volgende",wrong_address_with_email:"Je hebt een e-mail adres getypt. On te verbinden met jouw cozy moet je een URL typen, zoals https://tonhaai.mycozy.cloud",wrong_address_v2:"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)",wrong_address:"This address doesn’t seem to be a cozy. Please check the address you provide."},files:{title:"Toegang tot jouw schijf",description:"Om jouw Cozy schijf op jouw apparaat te zetten, moet de toepassing toegang hebben tot jouw bestanden."},photos:{title:"Maak een back-up van jouw foto's en video's",description:"Maak automatisch een back-up op jouw Cozy van de foto's die je neem met jouw telefoon, zodat je ze nooit verliest."},contacts:{title:"Sync your contacts",description:"Save your phone's contact on your Cozy — this will facilitate sharing files with them."},step:{button:"Zet nu aan",skip:"Later",next:"Volgende"},analytics:{title:"Help ons om Cozy te verbeteren",description:"Deze toepassing zal automatisch gegevens (meest foutmeldingen)  toevoegen aan de Cozy cloud. Dit zal ons helpen om problemen sneller op te lossen."}},settings:{title:"Instellingen",about:{title:"Over",app_version:"App Versie",account:"Account"},unlink:{title:"Reset this application",description:"By clicking Reset, you will be able to start your application over, and will only lose the data saved on your smartphone.",button:"Reset",confirmation:{title:"Reset this application?",description:"Door uit te loggen op jouw Cozy, zullen alle gegevens die je lokaal gesynchroniseerd hebt door de mobiele toepassing, worden verwijderd.",cancel:"Annuleren",unlink:"Reset"}},media_backup:{media_folder:"/Photos/Back-up-ed van mijn telefoon",title:"Media Back-up",images:{title:"Back-up foto's",label:"Back up jouw foto's automatisch naar jouw Cozy, zodat je ze nooit kwijt kunt raken en makkelijk kunt delen."},launch:"Start Back-up",stop:"Stop back-up",wifi:{title:"Back-up alleen bij WIFI bereik",label:"Als die optie geselecteerd is, zal jouw apparaat alleen back-ups maken van foto's als het via WIFI verbonden is, om je databundel te beschermen."},media_upload:"%{remaining} remaining pictures",media_uptodate:"Media backup is up-to-date"},support:{title:"Support",analytics:{title:"Help ons om Cozy te verbeteren",label:"De toepassing zal automatisch gegevens (meestal foutmeldingen) aanbieden aan Cozy. Dit stelt on in staat om problemen snel op te lossen."},logs:{title:"Help ons om het probleem te begrijpen",description:"Stuur de toepassingslogbestanden om ons te helpen om de kwaliteit en stabiliteit te verbeteren.",button:"Stuur mijn log bestanden",success:"Bedankt, we gaan jouw probleem analyseren en nemen spoedig contact met je op.",error:"Er is een probleem, logbestanden konden niet worden verstuurd, probeer het later nog eens."}},contacts:{title:"Contacts",subtitle:"Import contacts",text:"Import the contacts from your device to your Cozy to easily share content with them."}},error:{open_with:{offline:"Je moet verbonden zijn om dit bestand te openen",noapp:"Er is geen toepassing die dit bestand kan openen"}},revoked:{title:"Toegang geweigerd",description:"Het lijkt erop dat je dit apparaat verboden hebt om verbinding te maken met Cozy. Als je dit niet gedaan hebt, neem dan contact met ons op via contact@cozycloud.cc. All jouw gegevens gerelateerd aan Cozy zullen worden verwijderd.",loginagain:"Log opnieuw in",logout:"Log uit"},rating:{enjoy:{title:"Enjoying Cozy Drive?",yes:"Yes!",no:"Not really"},rate:{title:"Would you mind rating it?",yes:"Let's do that!",no:"No, thanks",later:"Maybe later"},feedback:{title:"Would you mind giving us some feedback?",yes:"Send",no:"No, thanks"},email:{subject:"Feedback on Cozy Drive",placeholder:"Hello, I think Cozy Drive would be better if…"},alert:{rated:"Thank you! You're ⭐️⭐️⭐️⭐️⭐️",declined:"Awesome. You will love the upcoming features. Stay Cozy!",later:"No problem, we'll ask again later.",feedback:"Thank you for the feedback. We'll definitely work on it!"}},first_sync:{title:"You are about to start your first photos back up 🎉",tips:"Tips",tip_bed:"Open Cozy Drive before you go to bed or when you don't use your phone.",tip_wifi:"Enable Wi-Fi to preserve your data.",tip_lock:"Disable your lock screen.",result:"In the morning, all your photos will be stored in a safe and secure location.",button:"Got it!"},notifications:{backup_paused:"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},upload:{alert:{success:"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.",success_conflicts:"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the file upload."}},UploadQueue:{header:"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive",header_mobile:"%{done} of %{total} uploading…",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"}}}},function(e,t){e.exports={Nav:{item_drive:"Drive",item_recent:"Recent",item_shared:"Доступно мне",item_activity:"Активность",item_trash:"Корзина",item_settings:"Настройки","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Скачать сейчас","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/fr/try-it?from=albumsharing"},breadcrumb:{title_drive:"Drive",title_recent:"Recent",title_shared:"Shared by me",title_activity:"Активность",title_trash:"Корзина"},Toolbar:{more:"More"},toolbar:{item_upload:"Загрузить",menu_upload:"Загрузить файлы",item_more:"More",menu_new_folder:"Новая папка",menu_select:"Select items",menu_download_folder:"Скачать папку",empty_trash:"Очистить корзину",share:"Поделится",leave:"Leave shared folder & delete it"},service:{bills:"Get my bills"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Ошибка",unregistered:"Ошибка","mail-not-sent":"Ошибка",revoked:"Ошибка"},type:{"master-slave":"Can View","master-master":"Can Change"}},Files:{share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared by me",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your files."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}."},unshare:{title:"Remove from sharing",success:"You removed this shared file from %{email}."},sharingLink:{title:"Link to share",copy:"Копировать",copied:"Скопировано"},whoHasAccess:{title:"Кто имеет доступ"},protectedShare:{title:"Скоро!",desc:"Share anything by email with your family and friends!"},close:"Закрыть",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the file share link, please try again."}},"viewer-fallback":"If the file has started downloading, you can close this."},table:{head_name:"Имя",head_update:"Последнее обновление",head_size:"Размер",head_status:"Статус",row_update_format:"MMM D, YYYY",row_update_format_full:"MMMM D, YYYY",row_read_only:"Поделится (Чтение)",row_read_write:"Поделится (Чтение и Запись)",row_size_symbols:{B:"Б",KB:"Кб",MB:"МБ",GB:"ГБ",TB:"ТБ",PB:"ПБ",EB:"ЕБ",ZB:"ЗБ",YB:"ЮБ"}},SelectionBar:{selected_count:"item selected |||| items selected",share:"Поделится",download:"Скачать",trash:"Удалить",destroy:"Удалить полностью",moveto:"Перенести",rename:"Переименовать",restore:"Сбросить",close:"Закрыть",openWith:"Открыть через",availableOffline:"Сделать доступным офлайн"},deleteconfirmation:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",referenced:"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.",cancel:"Отмена",delete:"Удалить"},emptytrashconfirmation:{title:"Удалить полностью?",forbidden:"You won't be able to access these files anymore.",restore:"You won't be able to restore these files if you didn't make a backup.",cancel:"Отмена",delete:"Удалить все"},destroyconfirmation:{title:"Удалить полностью?",forbidden:"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.",restore:"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.",cancel:"Отмена",delete:"Удалить полностью"},quotaalert:{title:"Нет мета на диске ;(",desc:"Удалите файлы и очистите корзину перед продолжением загрузки.",confirm:"ОК"},loading:{message:"Загрузка"},empty:{title:"You don’t have any files in this folder.",text:'Click the "upload" button to add files to this folder.',trash:{title:"You don’t have any deleted files.",text:"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."}},error:{open_folder:"Something went wrong when opening the folder.",button:{reload:"Обновить"},download_file:{offline:"You should be connected to download this file",missing:"Этот файл не найден"},public_unshared_title:"Sorry, this link is no longer available.",public_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost."},alert:{could_not_open_file:"The file could not be opened",try_again:"An error has occurred, please try again in a moment.",restore_file_success:"The selection has been successfully restored.",trash_file_success:"The selection has been moved to the Trash.",destroy_file_success:"The selection has been deleted permanently.",empty_trash_progress:"Your trash is being emptied. This might take a few moments.",empty_trash_success:"The trash has been emptied.",folder_name:"The element %{folderName} already exists, please choose a new name.",folder_generic:"An error occurred, please try again.",folder_abort:"You need to add a name to your new folder if you would like to save it. Your information has not been saved.",offline:"This feature is not available offline."},mobile:{onboarding:{welcome:{title1:"Добро пожаловать в Cozy",title2:"Ваше личное облако",button:"Sign in to your Cozy",no_account_link:"Нет учетной записи? Зарегистрируйтесь."},server_selection:{description:"Example: https://claudedouillet.mycozy.cloud",label:"Enter your Cozy address",cozy_address_placeholder:"tonystark.mycozy.cloud",button:"Далее",wrong_address_with_email:"You typed an email address. To connect on your cozy you must type its url, something like https://tonystark.mycozy.cloud",wrong_address_v2:"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)",wrong_address:"This address doesn’t seem to be a cozy. Please check the address you provide."},files:{title:"Access your drive",description:"In order to save your Cozy Drive on your device, the application must access your files."},photos:{title:"Backup your photos and videos",description:"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},contacts:{title:"Sync your contacts",description:"Save your phone's contact on your Cozy — this will facilitate sharing files with them."},step:{button:"Включить",skip:"Позже",next:"Далее"},analytics:{title:"Помочь улучшить Cozy",description:"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},settings:{title:"Настройки",about:{title:"О программе",app_version:"Версия",account:"Пользователь"},unlink:{title:"Сбросить настройки",description:"By clicking Reset, you will be able to start your application over, and will only lose the data saved on your smartphone.",button:"Сбросить",confirmation:{title:"Сбросить все настройки?",description:"By logging out of your Cozy, you will erase all data synchronized locally by your mobile application.",cancel:"Отмена",unlink:"Сбросить"}},media_backup:{media_folder:"/Photos/Backuped from my mobile",title:"Media Backup",images:{title:"Backup images",label:"Backup your images automatically to your Cozy not to ever lose them and share them easily."},launch:"Запустить копирование",stop:"Остановить копирование",wifi:{title:"Делать копии только при WiFi подключении",label:"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},media_upload:"%{remaining} remaining pictures",media_uptodate:"Media backup is up-to-date"},support:{title:"Помощь",analytics:{title:"Help us improve Cozy",label:"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},logs:{title:"Help us to understand your problem",description:"Send the application log to help us improve its quality and stability.",button:"Send my logs",success:"Thanks, we will investigate your problem and contact you soon.",error:"A problem happened, logs couldn't be sent, please try again."}},contacts:{title:"Контакты",subtitle:"Импортировать контакты",text:"Import the contacts from your device to your Cozy to easily share content with them."}},error:{open_with:{offline:"You should be connected to open this file",noapp:"No application can open this file"}},revoked:{title:"Access revoked",description:"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.",loginagain:"Войти заного",logout:"Выйти"},rating:{enjoy:{title:"Enjoying Cozy Drive?",yes:"Да!",no:"Не возможно"},rate:{title:"Would you mind rating it?",yes:"Сделаем это!",no:"Нет, спасибо",later:"Позже"},feedback:{title:"Would you mind giving us some feedback?",yes:"Отправить",no:"Нет, спасибо"},email:{subject:"Feedback on Cozy Drive",placeholder:"Hello, I think Cozy Drive would be better if…"},alert:{rated:"Thank you! You're ⭐️⭐️⭐️⭐️⭐️",declined:"Awesome. You will love the upcoming features. Stay Cozy!",later:"No problem, we'll ask again later.",feedback:"Thank you for the feedback. We'll definitely work on it!"}},first_sync:{title:"You are about to start your first photos back up 🎉",tips:"Tips",tip_bed:"Open Cozy Drive before you go to bed or when you don't use your phone.",tip_wifi:"Enable Wi-Fi to preserve your data.",tip_lock:"Disable your lock screen.",result:"In the morning, all your photos will be stored in a safe and secure location.",button:"Got it!"},notifications:{backup_paused:"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},upload:{alert:{success:"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.",success_conflicts:"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the file upload."}},UploadQueue:{header:"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive",header_mobile:"%{done} of %{total} uploading…",header_done:"Uploaded %{done} out of %{total} successfully",close:"отмена",item:{pending:"Pending"}}}},function(e,t){e.exports={Nav:{item_drive:"Drive",item_recent:"Recent",item_shared:"Shared by me",item_activity:"Activity",item_trash:"Trash",item_settings:"Settings","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/fr/try-it?from=albumsharing"},breadcrumb:{title_drive:"Drive",title_recent:"Recent",title_shared:"Shared by me",title_activity:"Activity",title_trash:"Trash"},Toolbar:{more:"More"},toolbar:{item_upload:"Upload",menu_upload:"Upload files",item_more:"More",menu_new_folder:"New folder",menu_select:"Select items",menu_download_folder:"Download folder",empty_trash:"Empty trash",share:"Share",leave:"Leave shared folder & delete it"},service:{bills:"Get my bills"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Files:{share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared by me",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your files."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}."},unshare:{title:"Remove from sharing",success:"You removed this shared file from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the file share link, please try again."}},"viewer-fallback":"If the file has started downloading, you can close this."},table:{head_name:"Name",head_update:"Last update",head_size:"Size",head_status:"Status",row_update_format:"MMM D, YYYY",row_update_format_full:"MMMM D, YYYY",row_read_only:"Share (Read only)",row_read_write:"Share (Read & Write)",row_size_symbols:{B:"B",KB:"KB",MB:"MB",GB:"GB",TB:"TB",PB:"PB",EB:"EB",ZB:"ZB",YB:"YB"}},SelectionBar:{selected_count:"item selected |||| items selected",share:"Share",download:"Download",trash:"Remove",destroy:"Delete permanently",moveto:"Move",rename:"Rename",restore:"Restore",close:"Close",openWith:"Open with",availableOffline:"Make available offline"},deleteconfirmation:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",referenced:"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"},emptytrashconfirmation:{title:"Permanently delete?",forbidden:"You won't be able to access these files anymore.",restore:"You won't be able to restore these files if you didn't make a backup.",cancel:"Cancel",delete:"Delete all"},destroyconfirmation:{title:"Permanently delete?",forbidden:"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.",restore:"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.",cancel:"Cancel",delete:"Delete permanently"},quotaalert:{title:"Your disk space is full :(",desc:" Please remove files and empty your trash before uploading files again.",confirm:"OK"},loading:{message:"Loading"},empty:{title:"You don’t have any files in this folder.",text:'Click the "upload" button to add files to this folder.',trash:{title:"You don’t have any deleted files.",text:"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."}},error:{open_folder:"Something went wrong when opening the folder.",button:{reload:"Refresh now"},download_file:{offline:"You should be connected to download this file",missing:"This file is missing"},public_unshared_title:"Sorry, this link is no longer available.",public_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost."},alert:{could_not_open_file:"The file could not be opened",try_again:"An error has occurred, please try again in a moment.",restore_file_success:"The selection has been successfully restored.",trash_file_success:"The selection has been moved to the Trash.",destroy_file_success:"The selection has been deleted permanently.",empty_trash_progress:"Your trash is being emptied. This might take a few moments.",empty_trash_success:"The trash has been emptied.",folder_name:"The element %{folderName} already exists, please choose a new name.",folder_generic:"An error occurred, please try again.",folder_abort:"You need to add a name to your new folder if you would like to save it. Your information has not been saved.",offline:"This feature is not available offline."},mobile:{onboarding:{welcome:{title1:"Welcome to Cozy",title2:"Your own personal cloud",button:"Sign in to your Cozy",no_account_link:"Don’t have an account? Request one here."},server_selection:{description:"Example: https://claudedouillet.mycozy.cloud",label:"Enter your Cozy address",cozy_address_placeholder:"tonystark.mycozy.cloud",button:"Next",wrong_address_with_email:"You typed an email address. To connect on your cozy you must type its url, something like https://tonystark.mycozy.cloud",wrong_address_v2:"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)",wrong_address:"This address doesn’t seem to be a cozy. Please check the address you provide."},files:{title:"Access your drive",description:"In order to save your Cozy Drive on your device, the application must access your files."},photos:{title:"Backup your photos and videos",description:"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},contacts:{title:"Sync your contacts",description:"Save your phone's contact on your Cozy — this will facilitate sharing files with them."},step:{button:"Enable now",skip:"Later",next:"Next"},analytics:{title:"Help us improve Cozy",description:"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},settings:{title:"Settings",about:{title:"About",app_version:"App Version",account:"Account"},unlink:{title:"Reset this application",description:"By clicking Reset, you will be able to start your application over, and will only lose the data saved on your smartphone.",button:"Reset",confirmation:{title:"Reset this application?",description:"By logging out of your Cozy, you will erase all data synchronized locally by your mobile application.",cancel:"Cancel",unlink:"Reset"}},media_backup:{media_folder:"/Photos/Backuped from my mobile",title:"Media Backup",images:{title:"Backup images",label:"Backup your images automatically to your Cozy not to ever lose them and share them easily."},launch:"Launch Backup",stop:"Stop Backup",wifi:{title:"Backup on WIFI only",label:"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},media_upload:"%{remaining} remaining pictures",media_uptodate:"Media backup is up-to-date"},support:{title:"Support",analytics:{title:"Help us improve Cozy",label:"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},logs:{title:"Help us to understand your problem",description:"Send the application log to help us improve its quality and stability.",button:"Send my logs",success:"Thanks, we will investigate your problem and contact you soon.",error:"A problem happened, logs couldn't be sent, please try again."}},contacts:{title:"Contacts",subtitle:"Import contacts",text:"Import the contacts from your device to your Cozy to easily share content with them."}},error:{open_with:{offline:"You should be connected to open this file",noapp:"No application can open this file"}},revoked:{title:"Access revoked",description:"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.",loginagain:"Log in again",logout:"Log out"},rating:{enjoy:{title:"Enjoying Cozy Drive?",yes:"Yes!",no:"Not really"},rate:{title:"Would you mind rating it?",yes:"Let's do that!",no:"No, thanks",later:"Maybe later"},feedback:{title:"Would you mind giving us some feedback?",yes:"Send",no:"No, thanks"},email:{subject:"Feedback on Cozy Drive",placeholder:"Hello, I think Cozy Drive would be better if…"},alert:{rated:"Thank you! You're ⭐️⭐️⭐️⭐️⭐️",declined:"Awesome. You will love the upcoming features. Stay Cozy!",later:"No problem, we'll ask again later.",feedback:"Thank you for the feedback. We'll definitely work on it!"}},first_sync:{title:"You are about to start your first photos back up 🎉",tips:"Tips",tip_bed:"Open Cozy Drive before you go to bed or when you don't use your phone.",tip_wifi:"Enable Wi-Fi to preserve your data.",tip_lock:"Disable your lock screen.",result:"In the morning, all your photos will be stored in a safe and secure location.",button:"Got it!"},notifications:{backup_paused:"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},upload:{alert:{success:"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.",success_conflicts:"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the file upload."}},UploadQueue:{header:"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive",header_mobile:"%{done} of %{total} uploading…",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"}}}},function(e,t,n){var r=n(4),o=n(6).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){for(var r,o=n(6),i=n(24),a=n(42),u=a("typed_array"),s=a("view"),c=!(!o.ArrayBuffer||!o.DataView),l=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=o[d[f++]])?(i(r.prototype,u,!0),i(r.prototype,s,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:u,VIEW:s}},function(e,t,n){var r=n(53);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(26),o=n(16),i=n(54);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(213)("keys"),o=n(42);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(6),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var r=n(31),o=n(54),i=n(16);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);c>u;)t[u++]=e;return t}},function(e,t,n){var r=n(7),o=n(43),i=n(9)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r=n(53),o=n(9)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t,n){var r=n(56),o=n(9)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(217),o=n(9)("iterator"),i=n(56);e.exports=n(49).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(58),o=n(256),i=n(56),a=n(26);e.exports=n(257)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(4),o=n(7),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(30)(Function.call,n(33).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){var r,o,i,a=n(30),u=n(263),s=n(254),c=n(208),l=n(6),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,y=0,m={},g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){g.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++y]=function(){u("function"==typeof e?e:Function(e),t)},r(y),y},h=function(e){delete m[e]},"process"==n(53)(f)?r=function(e){f.nextTick(a(g,e,1))}:v&&v.now?r=function(e){v.now(a(g,e,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:d,clear:h}},function(e,t,n){var r=n(269),o=n(45);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(9)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var r=n(14),o=n(41);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},,,,,,,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.translate=t.I18nProvider=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(12),d=r(f);(t.I18nProvider=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getChildContext",value:function(){return{t:this.props.i18n.t.bind(this.props.i18n),f:this.props.i18nDate.bind(this.props.i18nDate)}}},{key:"render",value:function(){return this.props.children&&this.props.children[0]||null}}]),t}(c.Component)).childContextTypes={t:d.default.func,f:d.default.func};t.translate=function(){return function(e){return function(t,n){return l.default.createElement(e,u({},t,{t:n.t,f:n.f}))}}}},,,,,,,,,,,,function(e,t,n){function r(e){return n(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./ar":198,"./ar.json":198,"./de":199,"./de.json":199,"./en":200,"./en.json":200,"./es":201,"./es.json":201,"./fr":202,"./fr.json":202,"./ja":203,"./ja.json":203,"./ko":204,"./ko.json":204,"./nl":205,"./nl.json":205,"./ru":206,"./ru.json":206,"./zh_CN":207,"./zh_CN.json":207};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=249},function(e,t,n){e.exports=!n(19)&&!n(11)(function(){return 7!=Object.defineProperty(n(208)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e,t,n){var r,o,i,a=Array(n),u=8*n-t-1,s=(1<<u)-1,c=s>>1,l=23===t?z(2,-24)-z(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for(e=F(e),e!=e||e===P?(o=e!=e?1:0,r=s):(r=L(q(e)/B),e*(i=z(2,-r))<1&&(r--,i*=2),e+=r+c>=1?l/i:l*z(2,1-c),e*i>=2&&(r++,i/=2),r+c>=s?(o=0,r=s):r+c>=1?(o=(e*i-1)*z(2,t),r+=c):(o=e*z(2,c-1)*z(2,t),r=0));t>=8;a[f++]=255&o,o/=256,t-=8);for(r=r<<t|o,u+=t;u>0;a[f++]=255&r,r/=256,u-=8);return a[--f]|=128*d,a}function o(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,u=o-7,s=n-1,c=e[s--],l=127&c;for(c>>=7;u>0;l=256*l+e[s],s--,u-=8);for(r=l&(1<<-u)-1,l>>=-u,u+=t;u>0;r=256*r+e[s],s--,u-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:c?-P:P;r+=z(2,t),l-=a}return(c?-1:1)*r*z(2,l-t)}function i(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function u(e){return[255&e,e>>8&255]}function s(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function c(e){return r(e,52,8)}function l(e){return r(e,23,4)}function f(e,t,n){O(e[T],t,{get:function(){return this[n]}})}function d(e,t,n,r){var o=+n,i=x(o);if(i+t>e[Y])throw I(D);var a=e[U]._b,u=i+e[H],s=a.slice(u,u+t);return r?s:s.reverse()}function h(e,t,n,r,o,i){var a=+n,u=x(a);if(u+t>e[Y])throw I(D);for(var s=e[U]._b,c=u+e[H],l=r(+o),f=0;f<t;f++)s[c+f]=l[i?f:t-f-1]}var p=n(6),v=n(19),y=n(50),m=n(209),g=n(24),b=n(51),_=n(11),w=n(52),k=n(44),E=n(16),x=n(252),S=n(66).f,O=n(14).f,A=n(215),j=n(55),T="prototype",D="Wrong index!",C=p.ArrayBuffer,M=p.DataView,R=p.Math,I=p.RangeError,P=p.Infinity,N=C,F=R.abs,z=R.pow,L=R.floor,q=R.log,B=R.LN2,U=v?"_b":"buffer",Y=v?"_l":"byteLength",H=v?"_o":"byteOffset";if(m.ABV){if(!_(function(){C(1)})||!_(function(){new C(-1)})||_(function(){return new C,new C(1.5),new C(NaN),"ArrayBuffer"!=C.name})){C=function(e){return w(this,C),new N(x(e))};for(var $,W=C[T]=N[T],G=S(N),V=0;G.length>V;)($=G[V++])in C||g(C,$,N[$]);y||(W.constructor=C)}var X=new M(new C(2)),J=M[T].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||b(M[T],{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},!0)}else C=function(e){w(this,C,"ArrayBuffer");var t=x(e);this._b=A.call(Array(t),0),this[Y]=t},M=function(e,t,n){w(this,M,"DataView"),w(e,C,"DataView");var r=e[Y],o=k(t);if(o<0||o>r)throw I("Wrong offset!");if(n=void 0===n?r-o:E(n),o+n>r)throw I("Wrong length!");this[U]=e,this[H]=o,this[Y]=n},v&&(f(C,"byteLength","_l"),f(M,"buffer","_b"),f(M,"byteLength","_l"),f(M,"byteOffset","_o")),b(M[T],{getInt8:function(e){return d(this,1,e)[0]<<24>>24},getUint8:function(e){return d(this,1,e)[0]},getInt16:function(e){var t=d(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=d(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return i(d(this,4,e,arguments[1]))},getUint32:function(e){return i(d(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return o(d(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return o(d(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){h(this,1,e,a,t)},setUint8:function(e,t){h(this,1,e,a,t)},setInt16:function(e,t){h(this,2,e,u,t,arguments[2])},setUint16:function(e,t){h(this,2,e,u,t,arguments[2])},setInt32:function(e,t){h(this,4,e,s,t,arguments[2])},setUint32:function(e,t){h(this,4,e,s,t,arguments[2])},setFloat32:function(e,t){h(this,4,e,l,t,arguments[2])},setFloat64:function(e,t){h(this,8,e,c,t,arguments[2])}});j(C,"ArrayBuffer"),j(M,"DataView"),g(M[T],m.VIEW,!0),t.ArrayBuffer=C,t.DataView=M},function(e,t,n){var r=n(44),o=n(16);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(20),o=n(26),i=n(211)(!1),a=n(212)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(6).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(53);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(50),o=n(1),i=n(35),a=n(24),u=n(20),s=n(56),c=n(450),l=n(55),f=n(57),d=n(9)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,v,y,m,g){c(n,t,v);var b,_,w,k=function(e){if(!h&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",x="values"==y,S=!1,O=e.prototype,A=O[d]||O["@@iterator"]||y&&O[y],j=A||k(y),T=y?x?k("entries"):j:void 0,D="Array"==t?O.entries||A:A;if(D&&(w=f(D.call(new e)))!==Object.prototype&&w.next&&(l(w,E,!0),r||u(w,d)||a(w,d,p)),x&&A&&"values"!==A.name&&(S=!0,j=function(){return A.call(this)}),r&&!g||!h&&!S&&O[d]||a(O,d,j),s[t]=j,s[E]=p,y)if(b={values:x?j:k("values"),keys:m?j:k("keys"),entries:T},g)for(_ in b)_ in O||i(O,_,b[_]);else o(o.P+o.F*(h||S),t,b);return b}},function(e,t,n){"use strict";var r=n(31),o=n(54),i=n(16);e.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),u=o(e,a),s=o(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:o(c,a))-s,a-u),f=1;for(s<u&&u<s+l&&(f=-1,s+=l-1,u+=l-1);l-- >0;)s in n?n[u]=n[s]:delete n[u],u+=f,s+=f;return n}},function(e,t,n){"use strict";var r=n(14).f,o=n(67),i=n(51),a=n(30),u=n(52),s=n(88),c=n(257),l=n(256),f=n(86),d=n(19),h=n(36).fastKey,p=n(59),v=d?"_s":"size",y=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){u(e,l,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&s(r,n,e[c],e)});return i(l.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=p(this,t),r=y(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[v]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(p(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return p(this,t)[v]}}),l},def:function(e,t,n){var r,o,i=y(e,t);return i?i.v=n:(e._l=i={i:o=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[v]++,"F"!==o&&(e._i[o]=i)),e},getEntry:y,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){var r=n(7);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){"use strict";var r=n(46),o=n(90),i=n(69),a=n(31),u=n(210),s=Object.assign;e.exports=!s||n(11)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,c=1,l=o.f,f=i.f;s>c;)for(var d,h=u(arguments[c++]),p=l?r(h).concat(l(h)):r(h),v=p.length,y=0;v>y;)f.call(h,d=p[y++])&&(n[d]=h[d]);return n}:s},function(e,t,n){"use strict";var r=n(51),o=n(36).getWeak,i=n(7),a=n(4),u=n(52),s=n(88),c=n(68),l=n(20),f=n(59),d=c(5),h=c(6),p=0,v=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},m=function(e,t){return d(e.a,function(e){return e[0]===t})};y.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var c=e(function(e,r){u(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=r&&s(r,n,e[i],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=o(e);return!0===n?v(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=o(e);return!0===n?v(f(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=o(i(t),!0);return!0===r?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(66),o=n(90),i=n(7),a=n(6).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=n(43);e.exports.f=function(e){return new r(e)}},function(e,t,n){t.f=n(9)},function(e,t,n){var r=n(26),o=n(66).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?u(e):o(r(e))}},function(e,t,n){"use strict";var r=n(44),o=n(45);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){var r=n(4),o=n(53),i=n(9)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(4),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(46),o=n(26),i=n(69).f;e.exports=function(e){return function(t){for(var n,a=o(t),u=r(a),s=u.length,c=0,l=[];s>c;)i.call(a,n=u[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t,n){var r=n(16),o=n(268),i=n(45);e.exports=function(e,t,n,a){var u=String(i(e)),s=u.length,c=void 0===n?" ":String(n),l=r(t);if(l<=s||""==c)return u;var f=l-s,d=o.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+u:u+d}},function(e,t,n){"use strict";var r=n(275),o=n(276),i=n(277);e.exports=function(){function e(e,t,n,r,a,u){u!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,u,s){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,u,s],f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){!function(e,n){n(t)}(0,function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,n){var r,o,i,a,u;for(u=arguments.length;u-- >2;)L.push(arguments[u]);for(n&&n.children&&(L.length||L.push(n.children),delete n.children);L.length;)if((i=L.pop())instanceof Array)for(u=i.length;u--;)L.push(i[u]);else null!=i&&!0!==i&&!1!==i&&("number"==typeof i&&(i=String(i)),a="string"==typeof i,a&&o?r[r.length-1]+=i:((r||(r=[])).push(i),o=a));var s=new t(e,n||void 0,r||q);return z.vnode&&z.vnode(s),s}function r(e,t){if(t)for(var n in t)e[n]=t[n];return e}function o(e){return r({},e)}function i(e,t){for(var n=t.split("."),r=0;r<n.length&&e;r++)e=e[n[r]];return e}function a(e){return"function"==typeof e}function u(e){return"string"==typeof e}function s(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function c(e,t){return n(e.nodeName,r(o(e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function l(e,t,n){var r=t.split(".");return function(t){for(var o=t&&t.target||this,a={},s=a,c=u(n)?i(t,n):o.nodeName?o.type.match(/^che|rad/)?o.checked:o.value:t,l=0;l<r.length-1;l++)s=s[r[l]]||(s[r[l]]=!l&&e.state[r[l]]||{});s[r[l]]=c,e.setState(a)}}function f(e){!e._dirty&&(e._dirty=!0)&&1==X.push(e)&&(z.debounceRendering||H)(d)}function d(){var e,t=X;for(X=[];e=t.pop();)e._dirty&&R(e)}function h(e){var t=e&&e.nodeName;return t&&a(t)&&!(t.prototype&&t.prototype.render)}function p(e,t){return e.nodeName(m(e),t||$)}function v(e,t){return u(t)?e instanceof Text:u(t.nodeName)?!e._componentConstructor&&y(e,t.nodeName):a(t.nodeName)?!e._componentConstructor||e._componentConstructor===t.nodeName||h(t):void 0}function y(e,t){return e.normalizedNodeName===t||U(e.nodeName)===U(t)}function m(e){var t=o(e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,n,r,o){if("className"===t&&(t="class"),"class"===t&&r&&"object"==typeof r&&(r=s(r)),"key"===t);else if("class"!==t||o)if("style"===t){if((!r||u(r)||u(n))&&(e.style.cssText=r||""),r&&"object"==typeof r){if(!u(n))for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"!=typeof r[i]||G[i]?r[i]:r[i]+"px"}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var c=e._listeners||(e._listeners={});t=U(t.substring(2)),r?c[t]||e.addEventListener(t,w,!!V[t]):c[t]&&e.removeEventListener(t,w,!!V[t]),c[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)_(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var l=o&&t.match(/^xlink\:?(.+)/);null==r||!1===r?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",U(l[1])):e.removeAttribute(t):"object"==typeof r||a(r)||(l?e.setAttributeNS("http://www.w3.org/1999/xlink",U(l[1]),r):e.setAttribute(t,r))}else e.className=r||""}function _(e,t,n){try{e[t]=n}catch(e){}}function w(e){return this._listeners[e.type](z.event&&z.event(e)||e)}function k(e){if(g(e),e instanceof Element){e._component=e._componentConstructor=null;var t=e.normalizedNodeName||U(e.nodeName);(J[t]||(J[t]=[])).push(e)}}function E(e,t){var n=U(e),r=J[n]&&J[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return r.normalizedNodeName=n,r}function x(){for(var e;e=K.pop();)z.afterMount&&z.afterMount(e),e.componentDidMount&&e.componentDidMount()}function S(e,t,n,r,o,i){Q++||(Z=o&&void 0!==o.ownerSVGElement,ee=e&&!(W in e));var a=O(e,t,n,r);return o&&a.parentNode!==o&&o.appendChild(a),--Q||(ee=!1,i||x()),a}function O(e,t,n,r){for(var o=t&&t.attributes&&t.attributes.ref;h(t);)t=p(t,n);if(null==t&&(t=""),u(t))return e&&e instanceof Text&&e.parentNode?e.nodeValue!=t&&(e.nodeValue=t):(e&&j(e),e=document.createTextNode(t)),e;if(a(t.nodeName))return I(e,t,n,r);var i=e,s=String(t.nodeName),c=Z,l=t.children;if(Z="svg"===s||"foreignObject"!==s&&Z,e){if(!y(e,s)){for(i=E(s,Z);e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),j(e)}}else i=E(s,Z);var f=i.firstChild,d=i[W];if(!d){i[W]=d={};for(var v=i.attributes,m=v.length;m--;)d[v[m].name]=v[m].value}return!ee&&l&&1===l.length&&"string"==typeof l[0]&&f&&f instanceof Text&&!f.nextSibling?f.nodeValue!=l[0]&&(f.nodeValue=l[0]):(l&&l.length||f)&&A(i,l,n,r,!!d.dangerouslySetInnerHTML),T(i,t.attributes,d),o&&(d.ref=o)(i),Z=c,i}function A(e,t,n,r,o){var i,a,u,s,c=e.childNodes,l=[],f={},d=0,h=0,p=c.length,y=0,m=t&&t.length;if(p)for(var b=0;b<p;b++){var _=c[b],w=_[W],k=m?(a=_._component)?a.__key:w?w.key:null:null;null!=k?(d++,f[k]=_):(ee||o||w||_ instanceof Text)&&(l[y++]=_)}if(m)for(var b=0;b<m;b++){u=t[b],s=null;var k=u.key;if(null!=k)d&&k in f&&(s=f[k],f[k]=void 0,d--);else if(!s&&h<y)for(i=h;i<y;i++)if((a=l[i])&&v(a,u)){s=a,l[i]=void 0,i===y-1&&y--,i===h&&h++;break}s=O(s,u,n,r),s&&s!==e&&(b>=p?e.appendChild(s):s!==c[b]&&(s===c[b+1]&&g(c[b]),e.insertBefore(s,c[b]||null)))}if(d)for(var b in f)f[b]&&j(f[b]);for(;h<=y;)(s=l[y--])&&j(s)}function j(e,t){var n=e._component;if(n)P(n,!t);else{e[W]&&e[W].ref&&e[W].ref(null),t||k(e);for(var r;r=e.lastChild;)j(r,t)}}function T(e,t,n){var r;for(r in n)t&&r in t||null==n[r]||b(e,r,n[r],n[r]=void 0,Z);if(t)for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||b(e,r,n[r],n[r]=t[r],Z)}function D(e){var t=e.constructor.name,n=te[t];n?n.push(e):te[t]=[e]}function C(e,t,n){var r=new e(t,n),o=te[e.name];if(N.call(r,t,n),o)for(var i=o.length;i--;)if(o[i].constructor===e){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function M(e,t,n,r,o){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===z.syncComponentUpdates&&e.base?f(e):R(e,1,o)),e.__ref&&e.__ref(e))}function R(e,t,n,i){if(!e._disable){var u,s,c,l,f=e.props,d=e.state,v=e.context,y=e.prevProps||f,g=e.prevState||d,b=e.prevContext||v,_=e.base,w=e.nextBase,k=_||w,E=e._component;if(_&&(e.props=y,e.state=g,e.context=b,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(f,d,v)?u=!0:e.componentWillUpdate&&e.componentWillUpdate(f,d,v),e.props=f,e.state=d,e.context=v),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!u){for(e.render&&(s=e.render(f,d,v)),e.getChildContext&&(v=r(o(v),e.getChildContext()));h(s);)s=p(s,v);var O,A,T=s&&s.nodeName;if(a(T)){var D=m(s);c=E,c&&c.constructor===T&&D.key==c.__key?M(c,D,1,v):(O=c,c=C(T,D,v),c.nextBase=c.nextBase||w,c._parentComponent=e,e._component=c,M(c,D,0,v),R(c,1,n,!0)),A=c.base}else l=k,O=E,O&&(l=e._component=null),(k||1===t)&&(l&&(l._component=null),A=S(l,s,v,n||!_,k&&k.parentNode,!0));if(k&&A!==k&&c!==E){var I=k.parentNode;I&&A!==I&&(I.replaceChild(A,k),O||(k._component=null,j(k)))}if(O&&P(O,A!==k),e.base=A,A&&!i){for(var N=e,F=e;F=F._parentComponent;)(N=F).base=A;A._component=N,A._componentConstructor=N.constructor}}!_||n?K.unshift(e):u||(e.componentDidUpdate&&e.componentDidUpdate(y,g,b),z.afterUpdate&&z.afterUpdate(e));var L,q=e._renderCallbacks;if(q)for(;L=q.pop();)L.call(e);Q||i||x()}}function I(e,t,n,r){for(var o=e&&e._component,i=o,a=e,u=o&&e._componentConstructor===t.nodeName,s=u,c=m(t);o&&!s&&(o=o._parentComponent);)s=o.constructor===t.nodeName;return o&&s&&(!r||o._component)?(M(o,c,3,n,r),e=o.base):(i&&!u&&(P(i,!0),e=a=null),o=C(t.nodeName,c,n),e&&!o.nextBase&&(o.nextBase=e,a=null),M(o,c,1,n,r),e=o.base,a&&e!==a&&(a._component=null,j(a))),e}function P(e,t){z.beforeUnmount&&z.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var r=e._component;if(r)P(r,t);else if(n){n[W]&&n[W].ref&&n[W].ref(null),e.nextBase=n,t&&(g(n),D(e));for(var o;o=n.lastChild;)j(o,!t)}e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function N(e,t){this._dirty=!0,this.context=t,this.props=e,this.state||(this.state={})}function F(e,t,n){return S(n,e,{},!1,t)}var z={},L=[],q=[],B={},U=function(e){return B[e]||(B[e]=e.toLowerCase())},Y="undefined"!=typeof Promise&&Promise.resolve(),H=Y?function(e){Y.then(e)}:setTimeout,$={},W="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",G={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},V={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},X=[],J={},K=[],Q=0,Z=!1,ee=!1,te={};r(N.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={});return n[e+t]||(n[e+t]=l(this,e,t))},setState:function(e,t){var n=this.state;this.prevState||(this.prevState=o(n)),r(n,a(e)?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),f(this)},forceUpdate:function(){R(this,2)},render:function(){}}),e.h=n,e.cloneElement=c,e.Component=N,e.render=F,e.rerender=d,e.options=z})},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTranslation=t._polyglot=void 0;var r=n(291),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(5),a=t._polyglot=void 0;t.initTranslation=function(e,n,r){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.DEFAULT_LANG;if(t._polyglot=a=new o.default({phrases:n(u),locale:u}),e&&e!==u)try{var s=n(e);a.extend(s),a.locale(e)}catch(t){console.warn('The dict phrases for "'+e+"\" can't be loaded")}if(r){var c=n(e,r);a.extend(c)}return a}},function(e,t,n){"use strict";function r(e){var t={};return s(e,function(e,n){s(e,function(e){t[e]=n})}),t}function o(e){var t=r(m);return t[e]||t[p.call(e,/-/,1)[0]]||t.en}function i(e,t){return y[o(e)](t)}function a(e,t,n){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var r=e,o="number"==typeof t?{smart_count:t}:t;if(null!=o.smart_count&&r){var a=p.call(r,v);r=f(a[i(n||"en",o.smart_count)]||a[0])}return r=h.call(r,_,function(e,t){return l(o,t)&&null!=o[t]?h.call(o[t],g,b):e})}function u(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?a:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||d}var s=n(292),c=n(23),l=n(97),f=n(295),d=function(e){c(!1,e)},h=String.prototype.replace,p=String.prototype.split,v="||||",y={arabic:function(e){return e<3?e:e%100>=3&&e%100<=10?3:e%100>=11?4:5},chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},m={arabic:["ar"],chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru","lt"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]},g=/\$/g,b="$$",_=/%\{(.*?)\}/g;u.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},u.prototype.extend=function(e,t){s(e,function(e,n){var r=t?t+"."+n:n;"object"==typeof e?this.extend(e,r):this.phrases[r]=e},this)},u.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:s(e,function(e,n){var r=t?t+"."+n:n;"object"==typeof e?this.unset(e,r):delete this.phrases[r]},this)},u.prototype.clear=function(){this.phrases={}},u.prototype.replace=function(e){this.clear(),this.extend(e)},u.prototype.t=function(e,t){var n,r,o=null==t?{}:t;if("string"==typeof this.phrases[e])n=this.phrases[e];else if("string"==typeof o._)n=o._;else if(this.onMissingKey){var i=this.onMissingKey;r=i(e,o,this.currentLocale)}else this.warn('Missing translation for key: "'+e+'"'),r=e;return"string"==typeof n&&(r=a(n,o,this.currentLocale)),r},u.prototype.has=function(e){return l(this.phrases,e)},u.transformPhrase=a,e.exports=u},function(e,t,n){function r(e,t,n){if(!u(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===s.call(e)?o(e,t,n):"string"==typeof e?i(e,t,n):a(e,t,n)}function o(e,t,n){for(var r=0,o=e.length;r<o;r++)c.call(e,r)&&t.call(n,e[r],r,e)}function i(e,t,n){for(var r=0,o=e.length;r<o;r++)t.call(n,e.charAt(r),r,e)}function a(e,t,n){for(var r in e)c.call(e,r)&&t.call(n,e[r],r,e)}var u=n(293);e.exports=r;var s=Object.prototype.toString,c=Object.prototype.hasOwnProperty},function(e,t){function n(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=n;var r=Object.prototype.toString},function(e,t,n){"use strict";var r=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,i=r.call(arguments,1),a=function(){if(this instanceof n){var o=t.apply(this,i.concat(r.call(arguments)));return Object(o)===o?o:this}return t.apply(e,i.concat(r.call(arguments)))},u=Math.max(0,t.length-i.length),s=[],c=0;c<u;c++)s.push("$"+c);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n}},function(e,t,n){"use strict";var r=n(72),o=n(98),i=n(99),a=n(101),u=n(306),s=r.call(Function.call,a());o(s,{getPolyfill:a,implementation:i,shim:u}),e.exports=s},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Array.prototype.slice,a=n(297),u=Object.prototype.propertyIsEnumerable,s=!u.call({toString:null},"toString"),c=u.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!h)return f(e);try{return f(e)}catch(e){return!1}},v=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),i=a(e),u=t&&"[object String]"===o.call(e),f=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var d=c&&n;if(u&&e.length>0&&!r.call(e,0))for(var h=0;h<e.length;++h)f.push(String(h));if(i&&e.length>0)for(var v=0;v<e.length;++v)f.push(String(v));else for(var y in e)d&&"prototype"===y||!r.call(e,y)||f.push(String(y));if(s)for(var m=p(e),g=0;g<l.length;++g)m&&"constructor"===l[g]||!r.call(e,l[g])||f.push(l[g]);return f};v.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(a(t)?i.call(t):t)}}}else Object.keys=v;return Object.keys||v},e.exports=v},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,t,o){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(o,e[a],a,e);else for(var u in e)n.call(e,u)&&t.call(o,e[u],u,e)}},function(e,t,n){"use strict";var r=n(300),o=n(301),i=n(302),a=n(303),u=n(100),s=n(304),c=n(97),l={ToPrimitive:s,ToBoolean:function(e){return!!e},ToNumber:function(e){return Number(e)},ToInteger:function(e){var t=this.ToNumber(e);return r(t)?0:0!==t&&o(t)?i(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(r(t)||0===t||!o(t))return 0;var n=i(t)*Math.floor(Math.abs(t));return a(n,65536)},ToString:function(e){return String(e)},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},IsCallable:u,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:r(e)&&r(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(c(e,n)&&!t[n])return!1;var r=c(e,"[[Value]]"),o=c(e,"[[Get]]")||c(e,"[[Set]]");if(r&&o)throw new TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!c(e,"[[Get]]")&&!c(e,"[[Set]]"))},IsDataDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!c(e,"[[Value]]")&&!c(e,"[[Writable]]"))},IsGenericDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e)},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new TypeError("ToPropertyDescriptor requires an object");var t={};if(c(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),c(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),c(e,"value")&&(t["[[Value]]"]=e.value),c(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),c(e,"get")){var n=e.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(c(e,"set")){var r=e.set;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("setter must be a function");t["[[Set]]"]=r}if((c(t,"[[Get]]")||c(t,"[[Set]]"))&&(c(t,"[[Value]]")||c(t,"[[Writable]]")))throw new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=l},function(e,t){e.exports=Number.isNaN||function(e){return e!==e}},function(e,t){var n=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=n(305),i=n(100),a={"[[DefaultValue]]":function(e,t){var n=t||("[object Date]"===r.call(e)?String:Number);if(n===String||n===Number){var a,u,s=n===String?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<s.length;++u)if(i(e[s[u]])&&(a=e[s[u]](),o(a)))return a;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(e,t){return o(e)?e:a["[[DefaultValue]]"](e,t)}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r=n(98),o=n(101);e.exports=function(){var e=o();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.initFormat=void 0;var o=n(308),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(5);t.initFormat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.DEFAULT_LANG,o=r({},t,n(107)("./"+t+"/index"));if(e&&e!==t)try{o[e]=n(107)("./"+e+"/index")}catch(t){console.warn('The "'+e+"\" locale isn't supported by date-fns")}return function(t,n){return(0,i.default)(t,n,{locale:o[e]})}}},function(e,t,n){function r(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=n||{},a=i.locale,u=h.format.formatters,s=h.format.formattingTokensRegExp;a&&a.format&&a.format.formatters&&(u=a.format.formatters,a.format.formattingTokensRegExp&&(s=a.format.formattingTokensRegExp));var c=f(e);return d(c)?o(r,u,s)(c):"Invalid Date"}function o(e,t,n){var r,o,a=e.match(n),u=a.length;for(r=0;r<u;r++)o=t[a[r]]||p[a[r]],a[r]=o||i(a[r]);return function(e){for(var t="",n=0;n<u;n++)a[n]instanceof Function?t+=a[n](e,p):t+=a[n];return t}}function i(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function a(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;return n+u(o,2)+t+u(i,2)}function u(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}var s=n(309),c=n(313),l=n(103),f=n(25),d=n(316),h=n(104),p={M:function(e){return e.getMonth()+1},MM:function(e){return u(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return u(e.getDate(),2)},DDD:function(e){return s(e)},DDDD:function(e){return u(s(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return c(e)},WW:function(e){return u(c(e),2)},YY:function(e){return u(e.getFullYear(),4).substr(2)},YYYY:function(e){return u(e.getFullYear(),4)},GG:function(e){return String(l(e)).substr(2)},GGGG:function(e){return l(e)},H:function(e){return e.getHours()},HH:function(e){return u(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return u(p.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return u(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return u(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return u(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return u(e.getMilliseconds(),3)},Z:function(e){return a(e.getTimezoneOffset(),":")},ZZ:function(e){return a(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};e.exports=r},function(e,t,n){function r(e){var t=o(e);return a(t,i(t))+1}var o=n(25),i=n(310),a=n(311);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var o=n(25);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t),u=n.getTime()-n.getTimezoneOffset()*i,s=r.getTime()-r.getTimezoneOffset()*i;return Math.round((u-s)/a)}var o=n(312),i=6e4,a=864e5;e.exports=r},function(e,t,n){function r(e){var t=o(e);return t.setHours(0,0,0,0),t}var o=n(25);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=i(t).getTime()-a(t).getTime();return Math.round(n/u)+1}var o=n(25),i=n(73),a=n(315),u=6048e5;e.exports=r},function(e,t,n){function r(e,t){var n=t?Number(t.weekStartsOn)||0:0,r=o(e),i=r.getDay(),a=(i<n?7:0)+i-n;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}var o=n(25);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),i(n)}var o=n(103),i=n(73);e.exports=r},function(e,t,n){function r(e){if(o(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}var o=n(102);e.exports=r},function(e,t,n){var r=n(108),o=n(109);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(110),o=n(111);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(112),o=n(113);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(114),o=n(115);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(116),o=n(117);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(118),o=n(119);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(120),o=n(121);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(122),o=n(123);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(124),o=n(125);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(126),o=n(127);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(128),o=n(129);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(130),o=n(131);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(132),o=n(133);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(134),o=n(135);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(136),o=n(137);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(138),o=n(139);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(140),o=n(141);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(142),o=n(143);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(144),o=n(145);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(146),o=n(147);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(148),o=n(149);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(150),o=n(151);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(152),o=n(153);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(154),o=n(155);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(156),o=n(157);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(158),o=n(159);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(160),o=n(161);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(162),o=n(163);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(164),o=n(165);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(166),o=n(167);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(168),o=n(169);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(170),o=n(171);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(172),o=n(173);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(12),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"getChildContext",value:function(){return{store:this.props.store||this.context.store,client:this.props.client}}},{key:"render",value:function(){return this.props.children&&this.props.children[0]||null}}]),t}(u.Component);l.propTypes={store:c.default.shape({subscribe:c.default.func.isRequired,dispatch:c.default.func.isRequired,getState:c.default.func.isRequired}),client:c.default.object.isRequired,children:c.default.element.isRequired},l.childContextTypes={store:c.default.object,client:c.default.object.isRequired},l.contextTypes={store:c.default.object},t.default=l},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(352),f=r(l),d=n(185),h=r(d),p=n(385),v=n(47),y=function(){function t(e){u(this,t);var n=e.cozyURL,r=a(e,["cozyURL"]);this.options=r,this.collections={},this.indexes={},this.specialDirectories={},this.facade=new f.default,n&&this.facade.setup(n,r),this.defineSpecialCollections()}return c(t,[{key:"register",value:function(t){return this.facade.setup(t,s({},this.options,{oauth:s({},this.options.oauth,{onRegistered:function(e,t){return(0,p.authenticateWithCordova)(t)}})})),e.authorize(!0)}},{key:"isRegistered",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,e.auth.getClient(n);case 5:return t.abrupt("return",!0);case 8:if(t.prev=8,t.t0=t.catch(2),"Failed to fetch"!==t.t0.message){t.next=14;break}return t.abrupt("return",!0);case 14:return console.warn(t.t0),t.abrupt("return",!1);case 16:case"end":return t.stop()}},t,this,[[2,8]])}));return t}()},{key:"defineCollection",value:function(e,t){this.collections[e]=t}},{key:"defineSpecialCollections",value:function(){this.defineCollection(d.SHARINGS_DOCTYPE,new h.default)}},{key:"getCollection",value:function(e){if(!this.collections[e])throw new Error("No collection found for doctype "+e);return this.collections[e]}},{key:"startSync",value:function(e){return this.facade.startSync(e)}},{key:"startReplicationTo",value:function(e){return this.facade.startReplicationTo(e)}},{key:"startReplicationFrom",value:function(e){return this.facade.startReplicationFrom(e)}},{key:"getAdapter",value:function(e){return this.facade.getAdapter(e)}},{key:"fetchDocuments",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.selector){e.next=5;break}return e.next=3,this.getQueryIndex(t,n,o);case 3:return r=e.sent,e.abrupt("return",this.getAdapter(n).queryDocuments(n,r,s({},o,{skip:i})));case 5:return e.abrupt("return",this.getAdapter(n).fetchDocuments(n));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDocument",value:function(e,t){return this.getAdapter(e).fetchDocument(e,t)}},{key:"fetchFile",value:function(e){return this.getAdapter("io.cozy.files").fetchFile(e)}},{key:"fetchReferencedFiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getAdapter(e._type).fetchReferencedFiles(e,t)}},{key:"addReferencedFiles",value:function(e,t){return this.getAdapter(e._type).addReferencedFiles(e,t)}},{key:"removeReferencedFiles",value:function(e,t){return this.getAdapter(e._type).removeReferencedFiles(e,t)}},{key:"createDocument",value:function(e,t){return this.getAdapter(e).createDocument(e,t)}},{key:"updateDocument",value:function(e){return this.getAdapter(e._type).updateDocument(e)}},{key:"updateDocuments",value:function(e,t,n){return this.getAdapter(e).updateDocuments(e,t,n)}},{key:"deleteDocument",value:function(e){return this.getAdapter(e._type).deleteDocument(e)}},{key:"deleteDocuments",value:function(e,t){return this.getAdapter(e).deleteDocuments(e,t)}},{key:"createFile",value:function(e,t){return this.getCollection("io.cozy.files").createFile(e,t)}},{key:"trashFile",value:function(e){return this.getCollection("io.cozy.files").trashFile(e)}},{key:"ensureDirectoryExists",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.specialDirectories[n]){t.next=5;break}return t.next=3,e.files.createDirectoryByPath(n);case 3:r=t.sent,this.specialDirectories[n]=r._id;case 5:return t.abrupt("return",this.specialDirectories[n]);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"checkUniquenessOf",value:function(){function t(e,t,r){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r,i){var a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getUniqueIndex(n,r);case 2:return a=t.sent,t.next=5,e.data.query(a,{selector:o({},r,i),fields:["_id"]});case 5:return u=t.sent,t.abrupt("return",0===u.length);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"getQueryIndex",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.indexes[t]){e.next=4;break}return e.next=3,this.getAdapter(n).createIndex(n,(0,v.getIndexFields)(r));case 3:this.indexes[t]=e.sent;case 4:return e.abrupt("return",this.indexes[t]);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUniqueIndex",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t+"/"+n,this.indexes[r]){e.next=5;break}return e.next=4,this.getAdapter(t).createIndex(t,[n]);case 4:this.indexes[r]=e.sent;case 5:return e.abrupt("return",this.indexes[r]);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}();t.default=y}).call(t,n(10))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(353),c=r(s),l=n(354),f=r(l),d=function(){function t(){i(this,t),this.stackAdapter=new c.default,this.pouchAdapter=new f.default}return u(t,[{key:"setup",value:function(t,n){var r=n.offline,i=o(n,["offline"]),u=r&&r.doctypes&&-1!==r.doctypes.indexOf("io.cozy.files")?a({cozyURL:t,offline:{doctypes:["io.cozy.files"]}},i):a({cozyURL:t},i);e.init(u),r&&r.doctypes?(this.pouchAdapter.registerDoctypes(r.doctypes),this.strategy=new h):this.strategy=new p}},{key:"getAdapter",value:function(e){return this.strategy.getAdapter(e,this.stackAdapter,this.pouchAdapter)}},{key:"startSync",value:function(e){return this.pouchAdapter.startSync(e,l.SYNC_BIDIRECTIONAL)}},{key:"startReplicationTo",value:function(e){return this.pouchAdapter.startSync(e,l.SYNC_TO)}},{key:"startReplicationFrom",value:function(e){return this.pouchAdapter.startSync(e,l.SYNC_FROM)}}]),t}();t.default=d;var h=function(){function e(){i(this,e)}return u(e,[{key:"getAdapter",value:function(e,t,n){return void 0===n.getDatabase(e)?t:n}}]),e}(),p=function(){function e(){i(this,e)}return u(e,[{key:"getAdapter",value:function(e,t,n){return t}}]),e}()}).call(t,n(10))},function(e,t,n){"use strict";(function(e){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(47),l=function(){function t(){a(this,t)}return s(t,[{key:"fetchDocuments",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){var r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchJSON("GET","/data/"+n+"/_all_docs?include_docs=true");case 3:return r=t.sent,o=r.rows.filter(function(e){return!e.doc.hasOwnProperty("views")}),i=o.map(function(e){return Object.assign({},e.doc,{id:e.id,_type:n})}),t.abrupt("return",{data:i,meta:{count:r.total_rows},skip:r.offset,next:!1});case 9:if(t.prev=9,t.t0=t.catch(0),!t.t0.message.match(/not_found/)){t.next=13;break}return t.abrupt("return",{data:[],meta:{count:0},skip:0,next:!1});case 13:throw t.t0;case 14:case"end":return t.stop()}},t,this,[[0,9]])}));return t}()},{key:"queryDocuments",value:function(){function t(e,t,r){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,i,a){var s,c,l,f,d,h,p,v,y;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a.fields,c=a.skip||0,l=a.sort?i.fields.map(function(e){return o({},e,a.sort[e]||"desc")}):void 0,f=u({limit:50,wholeResponse:!0},a,{fields:s?[].concat(r(s),["_id","_type","class"]):void 0,skip:c,sort:l}),d=void 0,h=void 0,p=void 0,"io.cozy.files"!==n){t.next=14;break}return t.next=8,e.files.query(i,f);case 8:v=t.sent,d=v.data.map(function(e){return Object.assign({_id:e.id,_type:n},e,e.attributes)}),h=v.meta,p=h.count>c+50,t.next=20;break;case 14:return t.next=16,e.data.query(i,f);case 16:y=t.sent,d=y.docs.map(function(e){return Object.assign({id:e._id,_type:n},e)}),h={},p=y.next;case 20:return t.abrupt("return",{data:d,meta:h,next:p});case 21:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchDocument",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.find(n,r);case 2:return o=t.sent,i=u({},o,{id:o._id,_type:o._type}),t.abrupt("return",{data:[i]});case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"createDocument",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.create(n,r);case 2:return o=t.sent,i=u({},o,{id:o._id,_type:n}),t.abrupt("return",{data:[i]});case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"updateDocument",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.updateAttributes(n._type,n.id,n);case 2:return r=t.sent,t.abrupt("return",{data:[u({},n,{_rev:r._rev})]});case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"updateDocuments",value:function(){function t(e,t,r){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r,o){var i,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createIndex(n,(0,c.getIndexFields)(r));case 2:return i=t.sent,t.next=5,this.queryDocuments(n,i,r);case 5:return a=t.sent,u=a.data.map(o).map(c.sanitizeDoc),t.next=9,e.fetchJSON("POST","/data/"+n+"/_bulk_docs",{docs:u});case 9:return t.abrupt("return",{data:u});case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"deleteDocument",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.delete(n._type,n);case 2:return t.abrupt("return",{data:[n]});case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"deleteDocuments",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateDocuments(t,n,function(e){return u({},e,{_deleted:!0})}));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"createIndex",value:function(t,n){return e.data.defineIndex(t,n)}},{key:"fetchFileByPath",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.files.statByPath(n);case 3:return r=t.sent,t.abrupt("return",{data:[f(r)]});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",null);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return t}()},{key:"createFile",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.files.create(n,{dirID:r});case 2:return o=t.sent,t.abrupt("return",{data:[f(o)]});case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"trashFile",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.files.trashById(n.id),t.abrupt("return",{data:[n]});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchReferencedFiles",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){var r,o,i,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=u({},n,{_id:n.id}),t.next=3,e.data.fetchReferencedFiles(r,{skip:s,limit:50});case 3:return o=t.sent,i=o.included,a=o.meta,t.abrupt("return",{data:i?i.map(function(e){return u({},e,e.attributes,{_type:"io.cozy.files"})}):[],meta:a,next:a.count>s+50,skip:s});case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"addReferencedFiles",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.addReferencedFiles(n,r);case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"removeReferencedFiles",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=u({},n,{_id:n.id}),t.next=3,e.data.removeReferencedFiles(o,r);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return t}()}]),t}();t.default=l;var f=function(e){return u({},e,e.attributes,{id:e._id})}}).call(t,n(10))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SYNC_FROM=t.SYNC_TO=t.SYNC_BIDIRECTIONAL=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(355),d=r(f),h=n(366),p=r(h),v=n(79),y=n(47),m=t.SYNC_BIDIRECTIONAL="SYNC_BIDIRECTIONAL",g=t.SYNC_TO="SYNC_TO",b=t.SYNC_FROM="SYNC_FROM",_=function(){function t(){s(this,t),d.default.plugin(p.default),this.instances={},this.doctypes=[],this.replicationBaseUrl=null}return l(t,[{key:"registerDoctypes",value:function(e){this.doctypes=e;var t=!0,n=!1,r=void 0;try{for(var o,i=this.doctypes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.instances[a]=new d.default(a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"getDatabase",value:function(e){return this.instances[e]}},{key:"getReplicationBaseUrl",value:function(){return e.authorize().then(function(t){var n=t.token.toBasicAuth();return(e._url+"/data/").replace("//","//"+n)})}},{key:"getSeqNumber",value:function(e){return this.getDatabase(e).info().then(function(e){return e.update_seq})}},{key:"startSync",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sync(t,r);case 3:return n=e.sent,this.scheduleNextSync(t,r),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),this.scheduleNextSync(t,r),e.t0;case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return e}()},{key:"sync",value:function(e,t){var n=this;return this.getReplicationBaseUrl().then(function(r){return Promise.all(n.doctypes.map(function(o){return n.syncDoctype(o,""+r+o,e,t)}))})}},{key:"syncDoctype",value:function(){function e(e,n,r,o){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n,r,o){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getSeqNumber(t);case 3:return i=e.sent,r((0,v.startDoctypeSync)(t,i)),e.next=7,this.syncDatabase(t,n,o);case 7:return a=e.sent,r((0,v.syncDoctypeOk)(t,a)),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(0),r((0,v.syncDoctypeError)(t,e.t0)),e.t0;case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return e}()},{key:"syncDatabase",value:function(t,n,r){var o=this;return new Promise(function(i,a){var u=o.getDatabase(t),s=void 0;s=r===g?u.replicate.to(n):r===b?u.replicate.from(n):u.sync(n),s.on("complete",function(e){return i(e)}).on("error",function(t){if("code=400, message=Expired token"===t.error)return e.authorize().then(function(n){var r=n.client,o=n.token;e.auth.refreshToken(r,o).then(function(t){return e.saveCredentials(r,t)}).then(function(e){return a(t)})});404!==t.status&&a(t)})})}},{key:"scheduleNextSync",value:function(e,t){var n=this;setTimeout(function(){n.sync(e,t)},3e4)}},{key:"fetchDocuments",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t).allDocs({include_docs:!0});case 2:return n=e.sent,e.abrupt("return",{data:n.rows.filter(function(e){return!e.doc.hasOwnProperty("views")}).map(function(e){return c({},e.doc,{id:e.id,_type:t})}),meta:{count:n.total_rows},skip:n.offset,next:!1});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"queryDocuments",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n,r){var o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c({},r,{fields:[].concat(a(r.fields),["_id"]),sort:r.sort?Object.keys(r.sort).map(function(e){return i({},e,r.sort[e])}):void 0}),e.next=3,this.getDatabase(t).find(o);case 3:return u=e.sent,e.abrupt("return",{data:u.docs.map(function(e){return c({},e,{id:e._id,_type:t})}),meta:{count:u.docs.length},skip:0,next:!1});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDocument",value:function(){function e(e,n){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t).get(n,{revs_info:!0});case 2:return r=e.sent,e.abrupt("return",{data:[c({},r,{id:r.id,_id:r.id,_type:t})]});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDocument",value:function(){function e(e,n){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t).post(n);case 2:return r=e.sent,e.abrupt("return",{data:[c({},n,{id:r.id,_id:r.id,_type:t,_rev:r.rev})]});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateDocument",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._type,r=o(t,["_type"]),e.next=3,this.getDatabase(n).put(r);case 3:return i=e.sent,e.abrupt("return",{data:[c({},t,{_rev:i.rev})]});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateDocuments",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n,r){var o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.getDatabase(t),e.next=3,o.createIndex({index:(0,y.getIndexFields)(n)});case 3:return e.next=5,o.find(n);case 5:return i=e.sent,a=i.map(r).map(y.sanitizeDoc),e.next=9,o.bulkDocs(a);case 9:return e.abrupt("return",{data:a});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"deleteDocument",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t._type).remove(t);case 2:return e.abrupt("return",{data:[t]});case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"deleteDocuments",value:function(){function e(e,n){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return c({},e,{_deleted:!0})},e.abrupt("return",this.updateDocuments(t,n,r));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"createIndex",value:function(e,t){return this.getDatabase(e).createIndex({index:{fields:t}})}},{key:"fetchFileByPath",value:function(e){throw new Error("Not implemented")}},{key:"createFile",value:function(e,t){throw new Error("Not implemented")}},{key:"trashFile",value:function(e){throw new Error("Not implemented")}},{key:"fetchReferencedFiles",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Not implemented")}},{key:"addReferencedFiles",value:function(e,t){throw new Error("Not implemented")}},{key:"removeReferencedFiles",value:function(e,t){throw new Error("Not implemented")}}]),t}();t.default=_}).call(t,n(10))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function o(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function i(e){if(e instanceof ArrayBuffer)return o(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function a(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Eo.call(n)==xo}function u(e){var t,n,o;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,o=e.length;n<o;n++)t[n]=u(e[n]);return t}if(e instanceof Date)return e.toISOString();if(r(e))return i(e);if(!a(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=u(e[n]);void 0!==s&&(t[n]=s)}return t}function s(e){var t=!1;return co()(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function c(e){return co()(function(t){t=u(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),o=new ko(function(r,o){var i;try{var a=s(function(e,t){e?o(e):r(t)});t.push(a),i=e.apply(n,t),i&&"function"==typeof i.then&&r(i)}catch(e){o(e)}});return r&&o.then(function(e){r(null,e)},r),o})}function l(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);e.constructor.emit("debug",r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=["api",e.name,t];o=o.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",o),i(n,r)}}}function f(e,t){return c(co()(function(n){if(this._closed)return ko.reject(new Error("database is closed"));if(this._destroyed)return ko.reject(new Error("database is destroyed"));var r=this;return l(r,e,n),this.taskqueue.isReady?t.apply(this,n):new ko(function(t,o){r.taskqueue.addTask(function(i){i?o(i):t(r[e].apply(r,n))})})}))}function d(e){return"$"+e}function h(e){return e.substring(1)}function p(){this._store={}}function v(e){if(this._store=new p,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function y(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function m(e){return e}function g(e){return[{ok:e}]}function b(e,t,n){function r(){var e=[];d.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++f===l&&r()}function i(e,t,n){d[e]={id:t,docs:n},o()}function a(){if(!(p>=h.length)){var e=Math.min(p+jo,h.length),t=h.slice(p,e);u(t,p),p+=t.length}}function u(n,r){n.forEach(function(n,o){var u=r+o,s=c.get(n),l=y(s[0],["atts_since","attachments"]);l.open_revs=s.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(m);var f=m;0===l.open_revs.length&&(delete l.open_revs,f=g),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r;r=e?[{error:e}]:f(t),i(u,n,r),a()})})}var s=t.docs,c=new Oo;s.forEach(function(e){c.has(e.id)?c.get(e.id).push(e):c.set(e.id,[e])});var l=c.size,f=0,d=new Array(l),h=[];c.forEach(function(e,t){h.push(t)});var p=0;a()}function _(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function w(){return Ao}function k(e){_()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):w()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function E(){lo.EventEmitter.call(this),this._listeners={},k(this)}function x(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function S(e,t){return e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function O(e){var t=0;return e||(t=2e3),S(e,t)}function A(e,t){x("info","The above "+e+" is totally normal. "+t)}function j(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}function T(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=j.prototype,new n(t)}function D(e){if("object"!=typeof e){var t=e;e=Fo,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function C(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return T(Bo,r)}}function M(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&C(e.filter,r.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function R(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function I(){}function P(e){var t;if(e?"string"!=typeof e?t=T(Io):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=T(No)):t=T(Po),t)throw t}function N(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(x("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function F(e,t){return"listenerCount"in e?e.listenerCount(t):lo.EventEmitter.listenerCount(e,t)}function z(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function L(e){var t=z(e);return t?t.join("/"):null}function q(e){for(var t=Ko.exec(e),n={},r=14;r--;){var o=Vo[r],i=t[r]||"",a=-1!==["user","password"].indexOf(o);n[o]=a?decodeURIComponent(i):i}return n[Xo]={},n[Vo[12]].replace(Jo,function(e,t,r){t&&(n[Xo][t]=r)}),n}function B(e,t){var n=[],r=[];for(var o in t)t.hasOwnProperty(o)&&(n.push(o),r.push(t[o]));return n.push(e),Function.apply(null,n).apply(null,r)}function U(e,t,n){return new ko(function(r,o){e.get(t,function(i,a){if(i){if(404!==i.status)return o(i);a={}}var u=a._rev,s=n(a);if(!s)return r({updated:!1,rev:u});s._id=t,s._rev=u,r(Y(e,s,n))})})}function Y(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return U(e,t._id,n)})}function H(){return io.a.v4().replace(/-/g,"").toLowerCase()}function $(e){for(var t,n,r,o,i=e.rev_tree.slice();o=i.pop();){var a=o.ids,u=a[2],s=o.pos;if(u.length)for(var c=0,l=u.length;c<l;c++)i.push({pos:s+1,ids:u[c]});else{var f=!!a[1].deleted,d=a[0];t&&!(r!==f?r:n!==s?n<s:t<d)||(t=d,n=s,r=f)}}return n+"-"+t}function W(e,t){for(var n,r=e.slice();n=r.pop();)for(var o=n.pos,i=n.ids,a=i[2],u=t(0===a.length,o,i[0],n.ctx,i[1]),s=0,c=a.length;s<c;s++)r.push({pos:o+1,ids:a[s],ctx:u})}function G(e,t){return e.pos-t.pos}function V(e){var t=[];W(e,function(e,n,r,o,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort(G).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function X(e){for(var t=$(e),n=V(e.rev_tree),r=[],o=0,i=n.length;o<i;o++){var a=n[o];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function J(e){var t=[];return W(e.rev_tree,function(e,n,r,o,i){"available"!==i.status||e||(t.push(n+"-"+r),i.status="missing")}),t}function K(e){for(var t,n=[],r=e.slice();t=r.pop();){var o=t.pos,i=t.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=t.history?t.history.slice():[];l.push({id:a,opts:u}),c&&n.push({pos:o+1-l.length,ids:l});for(var f=0,d=s.length;f<d;f++)r.push({pos:o+1,ids:s[f],history:l})}return n.reverse()}function Q(e,t){return e.pos-t.pos}function Z(e,t,n){for(var r,o=0,i=e.length;o<i;)r=o+i>>>1,n(e[r],t)<0?o=r+1:i=r;return o}function ee(e,t,n){var r=Z(e,t,n);e.splice(r,0,t)}function te(e,t){for(var n,r,o=t,i=e.length;o<i;o++){var a=e[o],u=[a.id,a.opts,[]];r?(r[2].push(u),r=u):n=r=u}return n}function ne(e,t){return e[0]<t[0]?-1:1}function re(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,a=o.tree2;(i[1].status||a[1].status)&&(i[1].status="available"===i[1].status||"available"===a[1].status?"available":"missing");for(var u=0;u<a[2].length;u++)if(i[2][0]){for(var s=!1,c=0;c<i[2].length;c++)i[2][c][0]===a[2][u][0]&&(n.push({tree1:i[2][c],tree2:a[2][u]}),s=!0);s||(r="new_branch",ee(i[2],a[2][u],ne))}else r="new_leaf",i[2][0]=a[2][u]}return{conflicts:r,tree:e}}function oe(e,t,n){var r,o=[],i=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var u=0,s=e.length;u<s;u++){var c=e[u];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=re(c.ids,t.ids),o.push({pos:c.pos,ids:r.tree}),i=i||r.conflicts,a=!0;else if(!0!==n){var l=c.pos<t.pos?c:t,f=c.pos<t.pos?t:c,d=f.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:d,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var y=v.ids[2],m=0,g=y.length;m<g;m++)p.push({ids:y[m],diff:v.diff-1,parent:v.ids,parentIdx:m});else v.ids[0]===f.ids[0]&&h.push(v)}var b=h[0];b?(r=re(b.ids,f.ids),b.parent[2][b.parentIdx]=r.tree,o.push({pos:l.pos,ids:l.ids}),i=i||r.conflicts,a=!0):o.push(c)}else o.push(c)}return a||o.push(t),o.sort(Q),{tree:o,conflicts:i||"internal_node"}}function ie(e,t){for(var n,r,o=K(e),i=0,a=o.length;i<a;i++){var u,s=o[i],c=s.ids;if(c.length>t){n||(n={});var l=c.length-t;u={pos:s.pos+l,ids:te(c,l)};for(var f=0;f<l;f++){var d=s.pos+f+"-"+c[f].id;n[d]=!0}}else u={pos:s.pos,ids:te(c,0)};r=r?oe(r,u,!0).tree:[u]}return n&&W(r,function(e,t,r){delete n[t+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}function ae(e,t,n){var r=oe(e,t),o=ie(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function ue(e,t){for(var n,r=e.slice(),o=t.split("-"),i=parseInt(o[0],10),a=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===a)return!0;for(var u=n.ids[2],s=0,c=u.length;s<c;s++)r.push({pos:n.pos+1,ids:u[s]})}return!1}function se(e){return e.ids}function ce(e,t){t||(t=$(e));for(var n,r=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(se);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function le(e){return/^_local/.test(e)}function fe(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:o,opts:u}),c)for(var f=0,d=l.length;f<d;f++){var h=l[f],p=h.pos+"-"+h.id;if(p===e)return o+"-"+a}for(var v=0,y=s.length;v<y;v++)r.push({pos:o+1,ids:s[v],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function de(e,t){try{e.emit("change",t)}catch(e){x("error",'Error in .on("change", function):',e)}}function he(e,t,n){function r(){o.cancel()}lo.EventEmitter.call(this);var o=this;this.db=e,t=t?u(t):{};var i=t.complete=s(function(t,n){t?F(o,"error")>0&&o.emit("error",t):o.emit("complete",n),o.removeAllListeners(),e.removeListener("destroyed",r)});n&&(o.on("complete",function(e){n(null,e)}),o.on("error",n)),e.once("destroyed",r),t.onChange=function(e){o.isCancelled||de(o,e)};var a=new ko(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});o.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?o.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.validateChanges(t)})}function pe(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=V(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:r,doc:e};return ce(t,e._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=X(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function ve(e,t){return e<t?-1:e>t?1:0}function ye(e,t){return function(n,r){n||r[0]&&r[0].error?(n=n||r[0],n.docId=t,e(n)):e(null,r.length?r[0]:r)}}function me(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=y(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function ge(e,t){var n=ve(e._id,t._id);return 0!==n?n:ve(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function be(e){var t={},n=[];return W(e,function(e,r,o,i){var a=r+"-"+o;return e&&(t[a]=0),void 0!==i&&n.push({from:i,to:a}),a}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function _e(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var o={offset:t.skip};return ko.all(r.map(function(n){var r=Do({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new ko(function(t,i){e._allDocs(r,function(e,r){if(e)return i(e);o.total_rows=r.total_rows,t(r.rows[0]||{key:n,error:"not_found"})})})})).then(function(e){return o.rows=e,o})}function we(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(n.last_seq=t.last_seq),e._compact(n,function(t,n){t?r(t):r(null,n),vo()(function(){e._compactionQueue.shift(),e._compactionQueue.length&&we(e)})})})}function ke(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}function Ee(){lo.EventEmitter.call(this)}function xe(){this.isReady=!1,this.failed=!1,this.queue=[]}function Se(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Ae.adapters,o=Ae.preferredAdapters,i=Ae.prefix,a=t.adapter;if(!a)for(var u=0;u<o.length;++u){a=o[u];{if(!("idb"===a&&"websql"in r&&w()&&localStorage["_pouch__websqldb_"+i+e]))break;x("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var s=r[a];return{name:s&&"use_prefix"in s&&!s.use_prefix?e:i+e,adapter:a}}function Oe(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}function Ae(e,t){if(!(this instanceof Ae))return new Ae(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(t=e,e=t.name,delete t.name),this.__opts=t=u(t),n.auto_compaction=t.auto_compaction,n.prefix=Ae.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=(t.prefix||"")+e,o=Se(r,t);if(t.name=o.name,t.adapter=t.adapter||o.adapter,n.name=e,n._adapter=t.adapter,Ae.emit("debug",["adapter","Picked adapter: ",t.adapter]),!Ae.adapters[t.adapter]||!Ae.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Ee.call(n),n.taskqueue=new xe,n.adapter=t.adapter,Ae.adapters[t.adapter].call(n,t,function(e){if(e)return n.taskqueue.fail(e);Oe(n),n.emit("created",n),Ae.emit("created",n.name),n.taskqueue.ready(n)})}function je(e){e.debug=mo.a;var t={};e.on("debug",function(e){var n=e[0],r=e.slice(1);t[n]||(t[n]=mo()("pouchdb:"+n)),t[n].apply(null,r)})}function Te(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n}function De(e,t){return e<t?-1:e>t?1:0}function Ce(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t}function Me(e){return ei.indexOf(e)>-1}function Re(e){return Object.keys(e)[0]}function Ie(e){return e[Re(e)]}function Pe(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),Me(n))r instanceof Array?t[n]=r.map(function(e){return Pe([e])}):t[n]=Pe([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?Ne(e,t,o):"$lt"===e||"$lte"===e?Fe(e,t,o):"$ne"===e?ze(t,o):"$eq"===e?Le(t,o):void(o[e]=t)})}})}),t}function Ne(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function Fe(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function ze(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function Le(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function qe(e){var t=u(e),n=!1;"$and"in t&&(t=Pe(t.$and),n=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],o=e[r];"object"==typeof o&&null!==o||(e[r]={$eq:o})}})}),"$not"in t&&(t.$not=Pe([t.$not]));for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],a=t[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),t[i]=a}return t}function Be(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}function Ue(e,t,n){return Be(e,t,n)+e}function Ye(e,t){if(e===t)return 0;e=He(e),t=He(t);var n=Ze(e),r=Ze(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return Ke(e,t)}return Array.isArray(e)?Je(e,t):Qe(e,t)}function He(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=He(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];void 0!==i&&(e[o]=He(i))}}}}return e}function $e(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return et(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,o=n.length,i="";if(t)for(;++r<o;)i+=We(n[r]);else for(;++r<o;){var a=n[r];i+=We(a)+We(e[a])}return i}return""}function We(e){return e=He(e),Ze(e)+ri+$e(e)+"\0"}function Ge(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+ni),u=parseInt(a,10)+ti;for(o&&(u=-u),t+=ni;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function Ve(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function Xe(e){for(var t=[],n=[],r=0;;){var o=e[r++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=Ge(e,r);t.push(i.num),r+=i.length;break;case"4":for(var a="";;){var u=e[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var s={element:[],index:t.length};t.push(s.element),n.push(s);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();Ve(t,n)}}}function Je(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=Ye(e[r],t[r]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function Ke(e,t){return e===t?0:e>t?1:-1}function Qe(e,t){for(var n=Object.keys(e),r=Object.keys(t),o=Math.min(n.length,r.length),i=0;i<o;i++){var a=Ye(n[i],r[i]);if(0!==a)return a;if(0!==(a=Ye(e[n[i]],t[r[i]])))return a}return n.length===r.length?0:n.length>r.length?1:-1}function Ze(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function et(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-ti,a=Ue(i.toString(),"0",ni);o+=ri+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=ri+s}function tt(e){function t(t){return e.map(function(e){var n=Re(e),r=Ce(n);return Te(t,r)})}return function(e,n){var r=t(e.doc),o=t(n.doc),i=Ye(r,o);return 0!==i?i:De(e.doc._id,n.doc._id)}}function nt(e,t,n){if(e=e.filter(function(e){return rt(e.doc,t.selector,n)}),t.sort){var r=tt(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===Ie(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,i=("limit"in t?t.limit:e.length)+o;e=e.slice(o,i)}return e}function rt(e,t,n){return n.every(function(n){var r=t[n],o=Ce(n),i=Te(e,o);return Me(n)?it(n,r,e):ot(r,e,o,i)})}function ot(e,t,n,r){return!e||Object.keys(e).every(function(o){var i=e[o];return at(o,t,i,n,r)})}function it(e,t,n){return"$or"===e?t.some(function(e){return rt(n,e,Object.keys(e))}):"$not"===e?!rt(n,t,Object.keys(t)):!t.find(function(e){return rt(n,e,Object.keys(e))})}function at(e,t,n,r,o){if(!oi[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return oi[e](t,n,r,o)}function ut(e){return void 0!==e&&null!==e}function st(e){return void 0!==e}function ct(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function lt(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function ft(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function dt(e,t){return e.length===t}function ht(e,t){return new RegExp(t).test(e)}function pt(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function vt(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");t=qe(t);var n={doc:e},r=nt([n],{selector:t},Object.keys(t));return r&&1===r.length}function yt(e){return B('"use strict";\nreturn '+e+";",{})}function mt(e){return B(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}function gt(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function bt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=L(e.view):e.filter=L(e.filter))}function _t(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!N(e.db)}function wt(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=T(Bo,"`view` filter parameter not found or invalid.");return n(r)}var o=z(t.view);e.db.get("_design/"+o[0],function(r,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(D(r));var a=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;if(!a)return n(T(Mo,i.views?"missing json key: "+o[1]:"missing json key: views"));t.filter=mt(a),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return vt(e,t.selector)},e.doChanges(t);else{var i=z(t.filter);e.db.get("_design/"+i[0],function(r,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(D(r));var a=o&&o.filters&&o.filters[i[1]];if(!a)return n(T(Mo,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"));t.filter=yt(a),e.doChanges(t)})}}function kt(e){e._changesFilterPlugin={validate:gt,normalize:bt,shouldFilter:_t,filter:wt}}function Et(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function xt(e){if(!/^\d+-./.test(e))return T($o);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function St(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,o=[r[0],t,[]],i=1,a=r.length;i<a;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function Ot(e,t){var n,r,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=Qo()),r=H(),e._rev){if(o=xt(e._rev),o.error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,i,[]]]]}],n=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,i,[]]}],n=1;else if(e._revisions&&(e._rev_tree=St(e._revisions,i),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(o=xt(e._rev),o.error)return o;n=o.prefix,r=o.id,e._rev_tree=[{pos:n,ids:[r,i,[]]}]}P(e._id),e._rev=n+"-"+r;var a={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s="_"===u[0];if(s&&!ai[u]){var c=T(qo,u);throw c.message=qo.message+": "+u,c}s&&!ui[u]?a.metadata[u.slice(1)]=e[u]:a.data[u]=e[u]}return a}function At(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function jt(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function Tt(e,t){return At([jt(e)],{type:t})}function Dt(e,t){return Tt(si(e),t)}function Ct(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function Mt(e,t){if("undefined"==typeof FileReader)return t(Ct((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(Ct(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Rt(e,t){Mt(e,function(e){t(e)})}function It(e,t){Rt(e,function(e){t(ci(e))})}function Pt(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function Nt(e){return ci(e)}function Ft(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function zt(e,t,n,r,o){(n>0||r<t.size)&&(t=Ft(t,n,r)),Pt(t,function(t){e.append(t),o()})}function Lt(e,t,n,r,o){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),o()}function qt(e,t){function n(){li(o)}function r(){var e=l.end(!0),n=Nt(e);t(n),l.destroy()}function o(){var t=c*u,o=t+u;c++,c<s?f(l,e,t,o,n):f(l,e,t,o,r)}var i="string"==typeof e,a=i?e.length:e.size,u=Math.min(fi,a),s=Math.ceil(a/u),c=0,l=i?new bo.a:new bo.a.ArrayBuffer,f=i?Lt:zt;o()}function Bt(e){return bo.a.hash(e)}function Ut(e){try{return si(e)}catch(e){var t=T(zo,"Attachment is not a valid base64 string");return{error:t}}}function Yt(e,t,n){var r=Ut(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Tt(r,e.content_type):"base64"===t?ci(r):r,qt(r,function(t){e.digest="md5-"+t,n()})}function Ht(e,t,n){qt(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Rt(e.data,function(t){e.data=t,n()}):"base64"===t?It(e.data,function(t){e.data=t,n()}):n()})}function $t(e,t,n){if(e.stub)return n();"string"==typeof e.data?Yt(e,t,n):Ht(e,t,n)}function Wt(e,t,n){function r(){i++,e.length===i&&(o?n(o):n())}if(!e.length)return n();var o,i=0;e.forEach(function(e){function n(e){o=e,++a===i.length&&r()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!i.length)return r();for(var u in e.data._attachments)e.data._attachments.hasOwnProperty(u)&&$t(e.data._attachments[u],t,n)})}function Gt(e,t,n,r,o,i,a,u){if(ue(t.rev_tree,n.metadata.rev))return r[o]=n,i();var s=t.winningRev||$(t),c="deleted"in t?t.deleted:ce(t,s),l="deleted"in n.metadata?n.metadata.deleted:ce(n.metadata),f=/^1-/.test(n.metadata.rev);if(c&&!l&&u&&f){var d=n.data;d._rev=s,d._id=n.metadata.id,n=Ot(d,u)}var h=ae(t.rev_tree,n.metadata.rev_tree[0],e);if(u&&(c&&l&&"new_leaf"!==h.conflicts||!c&&"new_leaf"!==h.conflicts||c&&!l&&"new_branch"===h.conflicts)){var p=T(Ro);return r[o]=p,i()}var v=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var y,m=$(n.metadata),g=ce(n.metadata,m),b=c===g?0:c<g?-1:1;y=v===m?g:ce(n.metadata,v),a(n,m,g,y,!0,b,o,i)}function Vt(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function Xt(e,t,n,r,o,i,a,u,s){function c(e,t,n){var r=$(e.metadata),o=ce(e.metadata,r);if("was_delete"in u&&o)return i[t]=T(Mo,"deleted"),n();if(f&&Vt(e)){var s=T(Ro);return i[t]=s,n()}a(e,r,o,o,!1,o?0:1,t,n)}function l(){++h===p&&s&&s()}e=e||1e3;var f=u.new_edits,d=new Oo,h=0,p=t.length;t.forEach(function(e,t){if(e._id&&le(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:o},function(e,n){i[t]=e||n,l()})}var a=e.metadata.id;d.has(a)?(p--,d.get(a).push([e,t])):d.set(a,[[e,t]])}),d.forEach(function(t,n){function o(){++s<t.length?u():l()}function u(){var u=t[s],l=u[0],d=u[1];if(r.has(n))Gt(e,r.get(n),l,i,d,o,a,f);else{var h=ae([],l.metadata.rev_tree[0],e);l.metadata.rev_tree=h.tree,l.stemmedRevs=h.stemmedRevs||[],c(l,d,o)}}var s=0;u()})}function Jt(e){try{return JSON.parse(e)}catch(t){return wo.a.parse(e)}}function Kt(e){try{return JSON.stringify(e)}catch(t){return wo.a.stringify(e)}}function Qt(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(T(Yo,n,t.type))}}function Zt(e,t,n){return{data:Kt(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function en(e){if(!e)return null;var t=Jt(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function tn(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function nn(e,t,n,r){n?r(e?"string"!=typeof e?e:Dt(e,t):At([""],{type:t})):e?"string"!=typeof e?Mt(e,function(e){r(ci(e))}):r(e):r("")}function rn(e,t,n,r){function o(){++u===a.length&&r&&r()}function i(e,t){var r=e._attachments[t],i=r.digest;n.objectStore(vi).get(i).onsuccess=function(e){r.body=e.target.result.body,o()}}var a=Object.keys(e._attachments||{});if(!a.length)return r&&r();var u=0;a.forEach(function(n){t.attachments&&t.include_docs?i(e,n):(e._attachments[n].stub=!0,o())})}function on(e,t){return ko.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return ko.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new ko(function(a){nn(o,i,t,function(t){e.doc._attachments[n]=Do(y(r,["digest","content_type"]),{data:t}),a()})})}}))}}))}function an(e,t,n){function r(){--c||o()}function o(){i.length&&i.forEach(function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||u.delete(e)}})}var i=[],a=n.objectStore(pi),u=n.objectStore(vi),s=n.objectStore(yi),c=e.length;e.forEach(function(e){var n=a.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();a.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else r()}}})}function un(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}function sn(e,t,n,r,o,i){function a(){var e=[hi,pi,vi,gi,yi,mi],t=un(o,e,"readwrite");if(t.error)return i(t.error);b=t.txn,b.onabort=Qt(i),b.ontimeout=Qt(i),b.oncomplete=f,_=b.objectStore(hi),w=b.objectStore(pi),k=b.objectStore(vi),E=b.objectStore(yi),x=b.objectStore(mi),x.get(mi).onsuccess=function(e){O=e.target.result,c()},h(function(e){if(e)return N=!0,i(e);l()})}function u(){M=!0,c()}function s(){Xt(e.revs_limit,A,r,P,b,I,p,n,u)}function c(){O&&M&&(O.docCount+=R,x.put(O))}function l(){function e(){++n===A.length&&s()}function t(t){var n=en(t.target.result);n&&P.set(n.id,n),e()}if(A.length)for(var n=0,r=0,o=A.length;r<o;r++){var i=A[r];if(i._id&&le(i._id))e();else{var a=_.get(i.metadata.id);a.onsuccess=t}}}function f(){N||(_i.notify(r._meta.name),i(null,I))}function d(e,t){k.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=T(Wo,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function h(e){function t(){++o===n.length&&e(r)}var n=[];if(A.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){d(e,function(e){e&&!r&&(r=e),t()})})}function p(e,t,n,r,o,i,a,u){e.metadata.winningRev=t,e.metadata.deleted=n;var s=e.data;if(s._id=e.metadata.id,s._rev=e.metadata.rev,r&&(s._deleted=!0),s._attachments&&Object.keys(s._attachments).length)return y(e,t,n,o,a,u);R+=i,c(),v(e,t,n,o,a,u)}function v(e,t,n,o,i,a){function u(i){var a=e.stemmedRevs||[];o&&r.auto_compaction&&(a=a.concat(J(e.metadata))),a&&a.length&&an(a,e.metadata.id,b),f.seq=i.target.result;var u=Zt(f,t,n);_.put(u).onsuccess=c}function s(e){e.preventDefault(),e.stopPropagation(),w.index("_doc_id_rev").getKey(l._doc_id_rev).onsuccess=function(e){w.put(l,e.target.result).onsuccess=u}}function c(){I[i]={ok:!0,id:f.id,rev:f.rev},P.set(e.metadata.id,e.metadata),m(e,f.seq,a)}var l=e.data,f=e.metadata;l._doc_id_rev=f.id+"::"+f.rev,delete l._id,delete l._rev;var d=w.put(l);d.onsuccess=u,d.onerror=s}function y(e,t,n,r,o,i){function a(){c===l.length&&v(e,t,n,r,o,i)}function u(){c++,a()}var s=e.data,c=0,l=Object.keys(s._attachments);l.forEach(function(n){var r=e.data._attachments[n];if(r.stub)c++,a();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);g(r.digest,o,u)}})}function m(e,t,n){function r(){++o===i.length&&n()}var o=0,i=Object.keys(e.data._attachments||{});if(!i.length)return n();for(var a=0;a<i.length;a++)!function(n){var o=e.data._attachments[n].digest,i=E.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=r,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}(i[a])}function g(e,t,n){k.count(e).onsuccess=function(r){if(r.target.result)return n();var o={digest:e,body:t};k.put(o).onsuccess=n}}for(var b,_,w,k,E,x,S,O,A=t.docs,j=0,D=A.length;j<D;j++){var C=A[j];C._id&&le(C._id)||(C=A[j]=Ot(C,n.new_edits),C.error&&!S&&(S=C))}if(S)return i(S);var M=!1,R=0,I=new Array(A.length),P=new Oo,N=!1,F=r._meta.blobSupport?"blob":"base64";Wt(A,F,function(e){if(e)return i(e);a()})}function cn(e,t,n,r,o){function i(e){l=e.target.result,c&&o(c,l,f)}function a(e){c=e.target.result,l&&o(c,l,f)}function u(){if(!c.length)return o();var n,u=c[c.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(u,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return o()}else n=IDBKeyRange.lowerBound(u,!0);t=n,c=null,l=null,e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a}function s(e){var t=e.target.result;if(!t)return o();o([t.key],[t.value],t)}var c,l,f,d="function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n;d?(f={continue:u},e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a):n?e.openCursor(t,"prev").onsuccess=s:e.openCursor(t).onsuccess=s}function ln(e,t,n){function r(e){var t=e.target.result;t?(o.push(t.value),t.continue()):n({target:{result:o}})}if("function"==typeof e.getAll)return void(e.getAll(t).onsuccess=n);var o=[];e.openCursor(t).onsuccess=r}function fn(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}function dn(e,t,n){function r(t,n,r){var o=t.id+"::"+r;S.get(o).onsuccess=function(r){if(n.doc=tn(r.target.result),e.conflicts){var o=X(t);o.length&&(n.doc._conflicts=o)}rn(n.doc,e,_)}}function o(t,n){var o={id:n.id,key:n.id,value:{rev:t}},i=n.deleted;"ok"===e.deleted?(O.push(o),i?(o.value.deleted=!0,o.doc=null):e.include_docs&&r(n,o,t)):!i&&h--<=0&&(O.push(o),e.include_docs&&r(n,o,t))}function i(e){for(var t=0,n=e.length;t<n&&O.length!==p;t++){var r=e[t],i=en(r);o(i.winningRev,i)}}function a(e,t,n){n&&(i(t),O.length<p&&n.continue())}function u(t){var n=t.target.result;e.descending&&(n=n.reverse()),i(n)}function s(){n(null,{total_rows:w,offset:e.skip,rows:O})}function c(){e.attachments?on(O,e.binary).then(s):s()}var l="startkey"in e&&e.startkey,f="endkey"in e&&e.endkey,d="key"in e&&e.key,h=e.skip||0,p="number"==typeof e.limit?e.limit:-1,v=!1!==e.inclusive_end,y=fn(l,f,v,d,e.descending),m=y&&y.error;if(m&&("DataError"!==m.name||0!==m.code))return n(T(Yo,m.name,m.message));var g=[hi,pi,mi];e.attachments&&g.push(vi);var b=un(t,g,"readonly");if(b.error)return n(b.error);var _=b.txn;_.oncomplete=c,_.onabort=Qt(n);var w,k=_.objectStore(hi),E=_.objectStore(pi),x=_.objectStore(mi),S=E.index("_doc_id_rev"),O=[];return x.get(mi).onsuccess=function(e){w=e.target.result.docCount},m||0===p?void 0:-1===p?ln(k,y,u):void cn(k,y,e.descending,p+h,a)}function hn(e){return new ko(function(t){var n=At([""]);e.objectStore(bi).put(n,"key").onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function pn(e,t){e.objectStore(hi).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function vn(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}function yn(){!wi&&ki.length&&(wi=!0,ki.shift()())}function mn(e,t,n){ki.push(function(){e(function(e,r){vn(t,e,r,n),wi=!1,vo()(function(){yn(n)})})}),yn()}function gn(e,t,n,r){function o(t,n,r){function o(t,n){var r=e.processChange(n,t,e);d=r.seq=t.seq;var o=w(r);if("object"==typeof o)return e.complete(o);o&&(_++,p&&b.push(r),e.attachments&&e.include_docs?rn(n,e,v,function(){on([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r))}function i(){for(var e=0,t=u.length;e<t&&_!==h;e++){var n=u[e];if(n){o(s[e],n)}}_!==h&&r.continue()}if(r&&t.length){var u=new Array(t.length),s=new Array(t.length),c=0;n.forEach(function(e,n){a(tn(e),t[n],function(e,r){s[n]=e,u[n]=r,++c===t.length&&i()})})}}function i(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var o=e._id+"::"+n.winningRev;g.get(o).onsuccess=function(e){r(n,tn(e.target.result))}}function a(e,t,n){if(f&&!f.has(e._id))return n();var r=k.get(e._id);if(r)return i(e,t,r,n);m.get(e._id).onsuccess=function(o){r=en(o.target.result),k.set(e._id,r),i(e,t,r,n)}}function s(){e.complete(null,{results:b,last_seq:d})}function c(){!e.continuous&&e.attachments?on(b).then(s):s()}if(e=u(e),e.continuous){var l=n+":"+Qo();return _i.addListener(n,l,t,e),_i.notify(n),{cancel:function(){_i.removeListener(n,l)}}}var f=e.doc_ids&&new So(e.doc_ids);e.since=e.since||0;var d=e.since,h="limit"in e?e.limit:-1;0===h&&(h=1);var p;p="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var v,y,m,g,b=[],_=0,w=M(e),k=new Oo,E=[hi,pi];e.attachments&&E.push(vi);var x=un(r,E,"readonly");if(x.error)return e.complete(x.error);v=x.txn,v.onabort=Qt(e.complete),v.oncomplete=c,y=v.objectStore(pi),m=v.objectStore(hi),g=y.index("_doc_id_rev"),cn(y,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,h,o)}function bn(e,t){var n=this;mn(function(t){_n(n,e,t)},t,n.constructor)}function _n(e,t,n){function r(e){var t=e.createObjectStore(hi,{keyPath:"id"});e.createObjectStore(pi,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(vi,{keyPath:"digest"}),e.createObjectStore(mi,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(bi),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(gi,{keyPath:"_id"});var n=e.createObjectStore(yi,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(e,t){var n=e.objectStore(hi);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value,i=ce(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else t()}}function i(e){e.createObjectStore(gi,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(e,t){var n=e.objectStore(gi),r=e.objectStore(hi),o=e.objectStore(pi);r.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var a=i.value,u=a.id,s=le(u),c=$(a);if(s){var l=u+"::"+c,f=u+"::",d=u+"::~",h=o.index("_doc_id_rev"),p=IDBKeyRange.bound(f,d,!1,!1),v=h.openCursor(p);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===l&&n.put(t),o.delete(v.primaryKey),v.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function u(e){var t=e.createObjectStore(yi,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function s(e,t){var n=e.objectStore(pi),r=e.objectStore(vi),o=e.objectStore(yi);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,a=Object.keys(r._attachments||{}),u={},s=0;s<a.length;s++)u[r._attachments[a[s]].digest]=!0;var c=Object.keys(u);for(s=0;s<c.length;s++){var l=c[s];o.put({seq:i,digestSeq:l+"::"+i})}n.continue()}}}function l(e){function t(e){return e.data?en(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(pi),r=e.objectStore(hi);r.openCursor().onsuccess=function(e){function o(){var e=Zt(a,a.winningRev,a.deleted);r.put(e).onsuccess=function(){i.continue()}}var i=e.target.result;if(i){var a=t(i.value);if(a.winningRev=a.winningRev||$(a),a.seq)return o();!function(){var e=a.id+"::",t=a.id+"::￿",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=i,o();var n=t.primaryKey;n>i&&(i=n),t.continue()}}()}}}var f=t.name,d=null;e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=c(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,o){sn(t,n,r,e,d,o)},e._get=function(e,t,n){function r(){n(a,{doc:o,metadata:i,ctx:u})}var o,i,a,u=t.ctx;if(!u){var s=un(d,[hi,pi,vi],"readonly");if(s.error)return n(s.error);u=s.txn}u.objectStore(hi).get(e).onsuccess=function(e){if(!(i=en(e.target.result)))return a=T(Mo,"missing"),r();var n;if(t.rev)n=t.latest?fe(t.rev,i):t.rev;else{n=i.winningRev;if(ce(i))return a=T(Mo,"deleted"),r()}var s=u.objectStore(pi),c=i.id+"::"+n;s.index("_doc_id_rev").get(c).onsuccess=function(e){if(o=e.target.result,o&&(o=tn(o)),!o)return a=T(Mo,"missing"),r();r()}}},e._getAttachment=function(e,t,n,r,o){var i;if(r.ctx)i=r.ctx;else{var a=un(d,[hi,pi,vi],"readonly");if(a.error)return o(a.error);i=a.txn}var u=n.digest,s=n.content_type;i.objectStore(vi).get(u).onsuccess=function(e){nn(e.target.result.body,s,r.binary,function(e){o(null,e)})}},e._info=function(t){var n,r,o=un(d,[mi,pi],"readonly");if(o.error)return t(o.error);var i=o.txn;i.objectStore(mi).get(mi).onsuccess=function(e){r=e.target.result.docCount},i.objectStore(pi).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){dn(e,d,t)},e._changes=function(t){return gn(t,e,f,d)},e._close=function(e){d.close(),Ei.delete(f),e()},e._getRevisionTree=function(e,t){var n=un(d,[hi],"readonly");if(n.error)return t(n.error);n.txn.objectStore(hi).get(e).onsuccess=function(e){var n=en(e.target.result);n?t(null,n.rev_tree):t(T(Mo))}},e._doCompaction=function(e,t,n){var r=[hi,pi,vi,yi],o=un(d,r,"readwrite");if(o.error)return n(o.error);var i=o.txn;i.objectStore(hi).get(e).onsuccess=function(n){var r=en(n.target.result);W(r.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")}),an(t,e,i);var o=r.winningRev,a=r.deleted;i.objectStore(hi).put(Zt(r,o,a))},i.onabort=Qt(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=un(d,[gi],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(gi).get(e);o.onerror=Qt(t),o.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(T(Mo))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var i,a=t.ctx;if(!a){var u=un(d,[gi],"readwrite");if(u.error)return n(u.error);a=u.txn,a.onerror=Qt(n),a.oncomplete=function(){i&&n(null,i)}}var s,c=a.objectStore(gi);r?(s=c.get(o),s.onsuccess=function(o){var a=o.target.result;if(a&&a._rev===r){c.put(e).onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}}else n(T(Ro))}):(s=c.add(e),s.onerror=function(e){n(T(Ro)),e.preventDefault(),e.stopPropagation()},s.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var o=un(d,[gi],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,a=e._id,u=r.objectStore(gi),s=u.get(a);s.onerror=Qt(n),s.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(u.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(T(Mo))}},e._destroy=function(e,t){_i.removeAllListeners(f);var n=xi.get(f);n&&n.result&&(n.result.close(),Ei.delete(f));var r=indexedDB.deleteDatabase(f);r.onsuccess=function(){xi.delete(f),w()&&f in localStorage&&delete localStorage[f],t(null,{ok:!0})},r.onerror=Qt(t)};var h=Ei.get(f);if(h)return d=h.idb,e._meta=h.global,vo()(function(){n(null,e)});var p;p=t.storage?wn(f,t.storage):indexedDB.open(f,di),xi.set(f,p),p.onupgradeneeded=function(e){function t(){var e=f[d-1];d++,e&&e(c,t)}var n=e.target.result;if(e.oldVersion<1)return r(n);var c=e.currentTarget.transaction;e.oldVersion<3&&i(n),e.oldVersion<4&&u(n);var f=[o,a,s,l],d=e.oldVersion;t()},p.onsuccess=function(t){function r(){void 0!==u&&l&&(e._meta={name:f,instanceId:s,blobSupport:u},Ei.set(f,{idb:d,global:e._meta}),n(null,e))}function o(){if(void 0!==a&&void 0!==i){var e=f+"_id";e in i?s=i[e]:i[e]=s=Qo(),i.docCount=a,c.objectStore(mi).put(i)}}d=t.target.result,d.onversionchange=function(){d.close(),Ei.delete(f)},d.onabort=function(e){x("error","Database has a global failure",e.target.error),d.close(),Ei.delete(f)};var i,a,u,s,c=d.transaction([mi,bi,hi],"readwrite"),l=!1;c.objectStore(mi).get(mi).onsuccess=function(e){i=e.target.result||{id:mi},o()},pn(c,function(e){a=e,o()}),ii||(ii=hn(c)),ii.then(function(e){u=e,r()}),c.oncomplete=function(){l=!0,r()}},p.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";x("error",e),n(T(Yo,e))}}function wn(e,t){try{return indexedDB.open(e,{version:di,storage:t})}catch(t){return indexedDB.open(e,di)}}function kn(e){return decodeURIComponent(escape(e))}function En(e){return e<65?e-48:e-55}function xn(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(En(e.charCodeAt(t++))<<4|En(e.charCodeAt(t++)));return r}function Sn(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(En(e.charCodeAt(t+2))<<12|En(e.charCodeAt(t+3))<<8|En(e.charCodeAt(t))<<4|En(e.charCodeAt(t+1))),t+=4;return r}function On(e,t){return"UTF-8"===t?kn(xn(e,0,e.length)):Sn(e,0,e.length)}function An(e){return"'"+e+"'"}function jn(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Tn(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Dn(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Cn(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function Mn(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Rn(e,t,n,r,o){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function In(e,t,n){function r(){++i===e.length&&o()}function o(){if(a.length){var e="SELECT DISTINCT digest AS digest FROM "+Mi+" WHERE seq IN "+Mn(a.length);n.executeSql(e,a,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var o="DELETE FROM "+Mi+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";e.executeSql(o,a,function(e){var t="SELECT digest FROM "+Mi+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new So,o=0;o<t.rows.length;o++)r.add(t.rows.item(o).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+Mi+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+Ti+" WHERE digest=?",[t]))})})})}})}}if(e.length){var i=0,a=[];e.forEach(function(e){var o="SELECT seq FROM "+ji+" WHERE doc_id=? AND rev=?";n.executeSql(o,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;a.push(n),e.executeSql("DELETE FROM "+ji+" WHERE seq=?",[n],r)})})}}function Pn(e){return function(t){x("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^(]+)/),r=n&&n[1]||t.type,o=t.target||t.message;e(T(Ho,o,r))}}function Nn(e){return"size"in e?1e6*e.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}function Fn(e,t,n,r,o,i,a){function u(){if(b)return a(b);i.notify(r._name),a(null,_)}function s(e,t){var n="SELECT count(*) as cnt FROM "+Ti+" WHERE digest=?";g.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var o=T(Wo,"unknown stub attachment with digest "+e);t(o)}else t()})}function c(e){function t(){++o===n.length&&e(r)}var n=[];if(y.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){s(e,function(e){e&&!r&&(r=e),t()})})}function l(e,t,n,o,i,a,u,s){function c(){function t(e,t){function r(){return++o===i.length&&t(),!1}var o=0,i=Object.keys(n._attachments||{});if(!i.length)return t();for(var a=0;a<i.length;a++)!function(t){var o="INSERT INTO "+Mi+" (digest, seq) VALUES (?,?)",i=[n._attachments[t].digest,e];g.executeSql(o,i,r,r)}(i[a])}var n=e.data,r=o?1:0,i=n._id,a=n._rev,u=Dn(n),s="INSERT INTO "+ji+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[i,a,u,r];g.executeSql(s,c,function(e,n){var r=n.insertId;t(r,function(){d(e,r)})},function(){var e=Rn("seq",ji,null,"doc_id=? AND rev=?");return g.executeSql(e,[i,a],function(e,n){var o=n.rows.item(0).seq,s="UPDATE "+ji+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[u,r,i,a];e.executeSql(s,c,function(e){t(o,function(){d(e,o)})})}),!1})}function l(e){p||(e?(p=e,s(p)):v===y.length&&c())}function f(e){v++,l(e)}function d(n,o){var a=e.metadata.id,c=e.stemmedRevs||[];i&&r.auto_compaction&&(c=J(e.metadata).concat(c)),c.length&&In(c,a,n),e.metadata.seq=o;var l=e.metadata.rev;delete e.metadata.rev;var f=i?"UPDATE "+Ai+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+ji+" WHERE doc_id="+Ai+".id AND rev=?) WHERE id=?":"INSERT INTO "+Ai+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",d=Kt(e.metadata),h=i?[d,o,t,a]:[a,o,o,d];n.executeSql(f,h,function(){_[u]={ok:!0,id:e.metadata.id,rev:l},w.set(a,e.metadata),s()})}var p=null,v=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var y=Object.keys(e.data._attachments||{});o&&(e.data._deleted=!0),y.forEach(function(n){var r=e.data._attachments[n];if(r.stub)v++,l();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);h(r.digest,o,f)}}),y.length||c()}function f(){Xt(e.revs_limit,y,r,w,g,_,l,n)}function d(e){function t(){++n===y.length&&e()}if(!y.length)return e();var n=0;y.forEach(function(e){if(e._id&&le(e._id))return t();var n=e.metadata.id;g.executeSql("SELECT json FROM "+Ai+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var o=Jt(r.rows.item(0).json);w.set(n,o)}t()})})}function h(e,t,n){var r="SELECT digest FROM "+Ti+" WHERE digest=?";g.executeSql(r,[e],function(o,i){if(i.rows.length)return n();r="INSERT INTO "+Ti+" (digest, body, escaped) VALUES (?,?,1)",o.executeSql(r,[e,jn(t)],function(){n()},function(){return n(),!1})})}var p=n.new_edits,v=t.docs,y=v.map(function(e){return e._id&&le(e._id)?e:Ot(e,p)}),m=y.filter(function(e){return e.error});if(m.length)return a(m[0]);var g,b,_=new Array(y.length),w=new Oo;Wt(y,"binary",function(e){if(e)return a(e);o.transaction(function(e){g=e,c(function(e){e?b=e:d(f)})},Pn(a),u)})}function zn(e){return e.websql(e.name,e.version,e.description,e.size)}function Ln(e){try{return{db:zn(e)}}catch(e){return{error:e}}}function qn(e){var t=Ri.get(e.name);return t||(t=Ln(e),Ri.set(e.name,t)),t}function Bn(e,t,n,r,o){function i(){++s===u.length&&o&&o()}function a(e,o){var a=e._attachments[o],u={binary:t.binary,ctx:r};n._getAttachment(e._id,o,a,u,function(t,n){e._attachments[o]=Do(y(a,["digest","content_type"]),{data:n}),i()})}var u=Object.keys(e._attachments||{});if(!u.length)return o&&o();var s=0;u.forEach(function(n){t.attachments&&t.include_docs?a(e,n):(e._attachments[n].stub=!0,i())})}function Un(e,t){function n(){w()&&(window.localStorage["_pouch__websqldb_"+b._name]=!0),t(null,b)}function r(e,t){e.executeSql(zi),e.executeSql("ALTER TABLE "+ji+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(Ni),e.executeSql("ALTER TABLE "+Ai+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Ai+" (local, id)");var n="SELECT "+Ai+".winningseq AS seq, "+Ai+".json AS metadata FROM "+ji+" JOIN "+Ai+" ON "+ji+".seq = "+Ai+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],o=[],i=0;i<n.rows.length;i++){var a=n.rows.item(i),u=a.seq,s=JSON.parse(a.metadata);ce(s)&&r.push(u),le(s.id)&&o.push(s.id)}e.executeSql("UPDATE "+Ai+"SET local = 1 WHERE id IN "+Mn(o.length),o,function(){e.executeSql("UPDATE "+ji+" SET deleted = 1 WHERE seq IN "+Mn(r.length),r,t)})})})})}function o(e,t){var n="CREATE TABLE IF NOT EXISTS "+Di+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+Ai+".id AS id, "+ji+".json AS data FROM "+ji+" JOIN "+Ai+" ON "+ji+".seq = "+Ai+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!o.length)return t(e);var n=o.shift(),i=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+Di+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(e){e.executeSql("DELETE FROM "+Ai+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+ji+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function i(e,t){function n(n){function r(){if(!n.length)return t(e);var o=n.shift(),i=On(o.hex,g),a=i.lastIndexOf("::"),u=i.substring(0,a),s=i.substring(a+2),c="UPDATE "+ji+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[u,s,i],function(){r()})}r()}var r="ALTER TABLE "+ji+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+ji+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(Fi,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+ji;e.executeSql(t,[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o));n(r)})})})})}function a(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+Ti;e.executeSql(n,[],function(e,n){function r(){var n=Rn(Ui+", "+Ai+".id AS id",[Ai,ji],Bi,null,Ai+".id ");n+=" LIMIT "+i+" OFFSET "+o,o+=i,e.executeSql(n,[],function(e,n){if(!n.rows.length)return t(e);for(var o={},i=0;i<n.rows.length;i++)for(var a=n.rows.item(i),u=Cn(a.data,a.id,a.rev),s=Object.keys(u._attachments||{}),c=0;c<s.length;c++){var l=u._attachments[s[c]];!function(e,t){var n=o[e]=o[e]||[];-1===n.indexOf(t)&&n.push(t)}(l.digest,a.seq)}var f=[];if(Object.keys(o).forEach(function(e){o[e].forEach(function(t){f.push([e,t])})}),!f.length)return r();var d=0;f.forEach(function(t){var n="INSERT INTO "+Mi+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++d===f.length&&r()})})})}if(!n.rows.item(0).cnt)return t(e);var o=0,i=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+Mi+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(qi,[],function(e){e.executeSql(Li,[],n)})})}function s(e,t){var n="ALTER TABLE "+Ti+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function l(e,t){var n="ALTER TABLE "+Ai+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+Ai+" SET max_seq=(SELECT MAX(seq) FROM "+ji+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Ai+" (max_seq)";e.executeSql(n,[],t)})})}function f(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;g=2===r.length?"UTF-8":"UTF-16",t()})}function d(){for(;E.length>0;){E.pop()(null,_)}}function h(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+Ci+" (dbid, db_version INTEGER)",u="CREATE TABLE IF NOT EXISTS "+Ti+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",c="CREATE TABLE IF NOT EXISTS "+Mi+" (digest, seq INTEGER)",f="CREATE TABLE IF NOT EXISTS "+Ai+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",h="CREATE TABLE IF NOT EXISTS "+ji+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+Di+" (id UNIQUE, rev, json)";e.executeSql(u),e.executeSql(p),e.executeSql(c,[],function(){e.executeSql(Li),e.executeSql(qi)}),e.executeSql(f,[],function(){e.executeSql(zi),e.executeSql(h,[],function(){e.executeSql(Ni),e.executeSql(Fi),e.executeSql(n,[],function(){var t="INSERT INTO "+Ci+" (db_version, dbid) VALUES (?,?)";_=Qo();var n=[Oi,_];e.executeSql(t,n,function(){d()})})})})}else{var v=function(){t<Oi&&e.executeSql("UPDATE "+Ci+" SET db_version = "+Oi);var n="SELECT dbid FROM "+Ci;e.executeSql(n,[],function(e,t){_=t.rows.item(0).dbid,d()})},y=[r,o,i,a,s,l,v],m=t,g=function(e){y[m-1](e,g),m++};g(e)}}function p(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+Ci;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+Ci,[],function(e,t){h(e,t.rows.item(0).db_version)}):e.executeSql("ALTER TABLE "+Ci+" ADD COLUMN db_version INTEGER",[],function(){h(e,1)}):h(e,0)})}function v(e,t){var n="SELECT MAX(seq) AS seq FROM "+ji;e.executeSql(n,[],function(e,n){var r=n.rows.item(0).seq||0;t(r)})}function y(e,t){var n=Rn("COUNT("+Ai+".id) AS 'num'",[Ai,ji],Bi,ji+".deleted=0");e.executeSql(n,[],function(e,n){t(n.rows.item(0).num)})}function m(e,t,n,r,o){var i=Rn(Ui,[Ai,ji],Bi,Ai+".id=?"),a=[t];e.executeSql(i,a,function(e,t){if(!t.rows.length){var i=T(Mo,"missing");return o(i)}var a=t.rows.item(0),u=Jt(a.metadata);r(fe(n,u))})}var g,b=this,_=null,k=Nn(e),E=[];b._name=e.name;var x=Do({},e,{version:Pi,description:e.name,size:k}),S=qn(x);if(S.error)return Pn(t)(S.error);var O=S.db;"function"!=typeof O.readTransaction&&(O.readTransaction=O.transaction),function(){O.transaction(function(e){f(e,function(){p(e)})},Pn(t),n)}(),b._remote=!1,b.type=function(){return"websql"},b._id=c(function(e){e(null,_)}),b._info=function(e){var t,n;O.readTransaction(function(e){v(e,function(e){t=e}),y(e,function(e){n=e})},Pn(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:g})})},b._bulkDocs=function(t,n,r){Fn(e,t,n,b,O,Ii,r)},b._get=function(e,t,n){function r(e){n(e,{doc:o,metadata:i,ctx:a})}var o,i,a=t.ctx;if(!a)return O.readTransaction(function(r){b._get(e,Do({ctx:r},t),n)});var u,s;if(t.rev){if(t.latest)return void m(a,e,t.rev,function(r){t.latest=!1,t.rev=r,b._get(e,t,n)},r);u=Rn(Ui,[Ai,ji],Ai+".id="+ji+".doc_id",[ji+".doc_id=?",ji+".rev=?"]),s=[e,t.rev]}else u=Rn(Ui,[Ai,ji],Bi,Ai+".id=?"),s=[e];a.executeSql(u,s,function(e,n){if(!n.rows.length){return r(T(Mo,"missing"))}var a=n.rows.item(0);if(i=Jt(a.metadata),a.deleted&&!t.rev){return r(T(Mo,"deleted"))}o=Cn(a.data,i.id,a.rev),r()})},b._allDocs=function(e,t){var n,r=[],o="startkey"in e&&e.startkey,i="endkey"in e&&e.endkey,a="key"in e&&e.key,u="descending"in e&&e.descending,s="limit"in e?e.limit:-1,c="skip"in e?e.skip:0,l=!1!==e.inclusive_end,f=[],d=[];if(!1!==a)d.push(Ai+".id = ?"),f.push(a);else if(!1!==o||!1!==i){if(!1!==o&&(d.push(Ai+".id "+(u?"<=":">=")+" ?"),f.push(o)),!1!==i){var h=u?">":"<";l&&(h+="="),d.push(Ai+".id "+h+" ?"),f.push(i)}!1!==a&&(d.push(Ai+".id = ?"),f.push(a))}"ok"!==e.deleted&&d.push(ji+".deleted = 0"),O.readTransaction(function(t){if(y(t,function(e){n=e}),0!==s){var o=Rn(Ui,[Ai,ji],Bi,d,Ai+".id "+(u?"DESC":"ASC"));o+=" LIMIT "+s+" OFFSET "+c,t.executeSql(o,f,function(t,n){for(var o=0,i=n.rows.length;o<i;o++){var a=n.rows.item(o),u=Jt(a.metadata),s=u.id,c=Cn(a.data,s,a.rev),l=c._rev,f={id:s,key:s,value:{rev:l}};if(e.include_docs){if(f.doc=c,f.doc._rev=l,e.conflicts){var d=X(u);d.length&&(f.doc._conflicts=d)}Bn(f.doc,e,b,t)}if(a.deleted){if("ok"!==e.deleted)continue;f.value.deleted=!0,f.doc=null}r.push(f)}})}},Pn(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},b._changes=function(e){if(e=u(e),e.continuous){var t=b._name+":"+Qo();return Ii.addListener(b._name,t,b,e),Ii.notify(b._name),{cancel:function(){Ii.removeListener(b._name,t)}}}var n=e.descending;e.since=e.since&&!n?e.since:0;var r="limit"in e?e.limit:-1;0===r&&(r=1);var o;o="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var i=[],a=0;!function(){var t=Ai+".json AS metadata, "+Ai+".max_seq AS maxSeq, "+ji+".json AS winningDoc, "+ji+".rev AS winningRev ",u=Ai+" JOIN "+ji,s=Ai+".id="+ji+".doc_id AND "+Ai+".winningseq="+ji+".seq",c=["maxSeq > ?"],l=[e.since];e.doc_ids&&(c.push(Ai+".id IN "+Mn(e.doc_ids.length)),l=l.concat(e.doc_ids));var f="maxSeq "+(n?"DESC":"ASC"),d=Rn(t,u,s,c,f),h=M(e);e.view||e.filter||(d+=" LIMIT "+r);var p=e.since||0;O.readTransaction(function(t){t.executeSql(d,l,function(t,n){function u(t){return function(){e.onChange(t)}}for(var s=0,c=n.rows.length;s<c;s++){var l=n.rows.item(s),f=Jt(l.metadata);p=l.maxSeq;var d=Cn(l.winningDoc,f.id,l.winningRev),v=e.processChange(d,f,e);v.seq=l.maxSeq;var y=h(v);if("object"==typeof y)return e.complete(y);if(y&&(a++,o&&i.push(v),e.attachments&&e.include_docs?Bn(d,e,b,t,u(v)):u(v)()),a===r)break}})},Pn(e.complete),function(){e.continuous||e.complete(null,{results:i,last_seq:p})})}()},b._close=function(e){e()},b._getAttachment=function(e,t,n,r,o){var i,a=r.ctx,u=n.digest,s=n.content_type,c="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Ti+" WHERE digest=?";a.executeSql(c,[u],function(e,t){var n=t.rows.item(0),a=n.escaped?Tn(n.body):On(n.body,g);i=r.binary?Tt(a,s):ci(a),o(null,i)})},b._getRevisionTree=function(e,t){O.readTransaction(function(n){var r="SELECT json AS metadata FROM "+Ai+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=Jt(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(T(Mo))})})},b._doCompaction=function(e,t,n){if(!t.length)return n();O.transaction(function(n){var r="SELECT json AS metadata FROM "+Ai+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var o=Jt(r.rows.item(0).metadata);W(o.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")});var i="UPDATE "+Ai+" SET json = ? WHERE id = ?";n.executeSql(i,[Kt(o),e])}),In(t,e,n)},Pn(n),function(){n()})},b._getLocal=function(e,t){O.readTransaction(function(n){var r="SELECT json, rev FROM "+Di+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var o=r.rows.item(0),i=Cn(o.json,e,o.rev);t(null,i)}else t(T(Mo))})})},b._putLocal=function(e,t,n){function r(e){var r,c;i?(r="UPDATE "+Di+" SET rev=?, json=? WHERE id=? AND rev=?",c=[o,s,a,i]):(r="INSERT INTO "+Di+" (id, rev, json) VALUES (?,?,?)",c=[a,o,s]),e.executeSql(r,c,function(e,r){r.rowsAffected?(u={ok:!0,id:a,rev:o},t.ctx&&n(null,u)):n(T(Ro))},function(){return n(T(Ro)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var o,i=e._rev,a=e._id;o=e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var u,s=Dn(e);t.ctx?r(t.ctx):O.transaction(r,Pn(n),function(){u&&n(null,u)})},b._removeLocal=function(e,t,n){function r(r){var i="DELETE FROM "+Di+" WHERE id=? AND rev=?",a=[e._id,e._rev];r.executeSql(i,a,function(r,i){if(!i.rowsAffected)return n(T(Mo));o={ok:!0,id:e._id,rev:"0-0"},t.ctx&&n(null,o)})}"function"==typeof t&&(n=t,t={});var o;t.ctx?r(t.ctx):O.transaction(r,Pn(n),function(){o&&n(null,o)})},b._destroy=function(e,t){Ii.removeAllListeners(b._name),O.transaction(function(e){[Ai,ji,Ti,Ci,Di,Mi].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},Pn(t),function(){w()&&(delete window.localStorage["_pouch__websqldb_"+b._name],delete window.localStorage[b._name]),t(null,{ok:!0})})}}function Yn(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}function Hn(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=w(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=Yn();return e&&(localStorage[t]=n?"1":"0"),n}function $n(){return"function"==typeof openDatabase&&Hn()}function Wn(e,t,n,r){return openDatabase(e,t,n,r)}function Gn(e,t){var n=Do({websql:Wn},e);Un.call(this,n,t)}function Vn(){for(var e={},t=new ko(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,ko.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function Xn(e,t){var n,r,o,i=new Headers,a={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?a.body=JSON.stringify(e.body):a.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),n=Vn(e.url,a),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):(e.status=o.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:n.reject}}function Jn(e,t){var n,r,o=!1,i=function(){n.abort(),s()},a=function(){o=!0,n.abort(),s()},u={abort:i},s=function(){clearTimeout(r),u.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(r=setTimeout(a,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(a,e.timeout))},void 0!==n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?At([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var a={};if(o)a=new Error("ETIMEDOUT"),a.code="ETIMEDOUT";else if("string"==typeof n.response)try{a=JSON.parse(n.response)}catch(e){}a.status=n.status,t(a)}s()}},e.body&&e.body instanceof Blob?Pt(e.body,function(e){n.send(e)}):n.send(e.body),u}function Kn(e,t){return Hi||e.xhr?Jn(e,t):Xn(e,t)}function Qn(){return""}function Zn(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?D(e):e})),e.binary&&$i(t,n),r(null,t,n)}return e=u(e),e=Do({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),Kn(e,function(r,o,i){if(r)return t(D(r));var a,u=o.headers&&o.headers["content-type"],s=i||Qn();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof s&&(/json/.test(u)||/^[\s]*\{/.test(s)&&/\}[\s]*$/.test(s)))try{s=JSON.parse(s.toString())}catch(e){}o.statusCode>=200&&o.statusCode<300?n(s,o,t):(a=D(s),a.status=o.statusCode,t(a))})}function er(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),o=-1!==n.indexOf("msie"),i=-1!==n.indexOf("edge"),a=r||(o||i)&&"GET"===e.method,u=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(a||!u)){var s=-1!==e.url.indexOf("?");e.url+=(s?"&":"?")+"_nonce="+Date.now()}return Zn(e,t)}function tr(e,t){return new ko(function(n,r){function o(){l++,e[f++]().then(a,u)}function i(){++d===h?c?r(c):n():s()}function a(){l--,i()}function u(e){l--,c=c||e,i()}function s(){for(;l<t&&f<h;)o()}var c,l=0,f=0,d=0,h=e.length;s()})}function nr(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=Dt(n.data,n.content_type)})}function rr(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function or(e){return e._attachments&&Object.keys(e._attachments)?ko.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new ko(function(e){It(n.data,e)}).then(function(e){n.data=e})})):ko.resolve()}function ir(e){if(!e.prefix)return!1;var t=q(e.prefix).protocol;return"http"===t||"https"===t}function ar(e,t){if(ir(t)){var n=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(n)}var r=q(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function ur(e,t){return sr(e,e.db+"/"+t)}function sr(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function cr(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function lr(e,t){function n(e,t,n){var r=e.ajax||{},o=Do(u(d),r,t),i=u(d.headers||{});return o.headers=Do(i,r.headers,t.headers||{}),s.constructor.listeners("debug").length&&s.constructor.emit("debug",["http",o.method,o.url]),s._ajax(o,n)}function r(e,t){return new ko(function(r,o){n(e,t,function(e,t){if(e)return o(e);r(t)})})}function o(e,t){return f(e,co()(function(e){i().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}))}function i(){return e.skipSetup||e.skip_setup?ko.resolve():m||(m=r({},{method:"GET",url:l}).catch(function(e){return e&&e.status&&404===e.status?(A(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:l})):ko.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||ko.reject(e)}),m.catch(function(){m=null}),m)}function a(e){return e.split("/").map(encodeURIComponent).join("/")}var s=this,c=ar(e.name,e),l=ur(c,"");e=u(e);var d=e.ajax||{};if(e.auth||c.auth){var h=e.auth||c.auth,p=h.username+":"+h.password,v=ci(unescape(encodeURIComponent(p)));d.headers=d.headers||{},d.headers.Authorization="Basic "+v}s._ajax=er;var m;vo()(function(){t(null,s)}),s._remote=!0,s.type=function(){return"http"},s.id=o("id",function(e){n({},{method:"GET",url:sr(c,"")},function(t,n){var r=n&&n.uuid?n.uuid+c.db:ur(c,"");e(null,r)})}),s.request=o("request",function(e,t){e.url=ur(c,e.url),n({},e,t)}),s.compact=o("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=u(e),n(e,{url:ur(c,"_compact"),method:"POST"},function(){function n(){s.info(function(r,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),s.bulkGet=f("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),n(e,{url:ur(c,"_bulk_get"+cr(r)),method:"POST",body:{docs:e.docs}},t)}function o(){for(var n=Gi,r=Math.ceil(e.docs.length/n),o=0,a=new Array(r),u=0;u<r;u++){var s=y(e,["revs","attachments","latest"]);s.ajax=d,s.docs=e.docs.slice(u*n,Math.min(e.docs.length,(u+1)*n)),b(i,s,function(e){return function(n,i){a[e]=i.results,++o===r&&t(null,{results:R(a)})}}(u))}}var i=this,a=sr(c,""),u=Ji[a];"boolean"!=typeof u?r(function(e,n){e?(Ji[a]=!1,A(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(Ji[a]=!0,t(null,n))}):u?r(t):o()}),s._info=function(e){i().then(function(){n({},{method:"GET",url:ur(c,"")},function(t,n){if(t)return e(t);n.host=ur(c,""),e(null,n)})}).catch(e)},s.get=o("get",function(e,t,n){function o(e){function n(n){var i=o[n],u=rr(e._id)+"/"+a(n)+"?rev="+e._rev;return r(t,{method:"GET",url:ur(c,u),binary:!0}).then(function(e){return t.binary?e:new ko(function(t){It(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}var o=e._attachments,i=o&&Object.keys(o);if(o&&i.length){return tr(i.map(function(e){return function(){return n(e)}}),5)}}function i(e){return Array.isArray(e)?ko.all(e.map(function(e){if(e.ok)return o(e.ok)})):o(e)}"function"==typeof t&&(n=t,t={}),t=u(t);var s={};t.revs&&(s.revs=!0),t.revs_info&&(s.revs_info=!0),t.latest&&(s.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),s.open_revs=t.open_revs),t.rev&&(s.rev=t.rev),t.conflicts&&(s.conflicts=t.conflicts),e=rr(e);var l={method:"GET",url:ur(c,e+cr(s))};r(t,l).then(function(e){return ko.resolve().then(function(){if(t.attachments)return i(e)}).then(function(){n(null,e)})}).catch(function(t){t.docId=e,n(t)})}),s.remove=o("remove",function(e,t,r,o){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(i=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var a=i._rev||r.rev;n(r,{method:"DELETE",url:ur(c,rr(i._id))+"?rev="+a},o)}),s.getAttachment=o("getAttachment",function(e,t,r,o){"function"==typeof r&&(o=r,r={});var i=r.rev?"?rev="+r.rev:"";n(r,{method:"GET",url:ur(c,rr(e))+"/"+a(t)+i,binary:!0},o)}),s.removeAttachment=o("removeAttachment",function(e,t,r,o){n({},{method:"DELETE",url:ur(c,rr(e)+"/"+a(t))+"?rev="+r},o)}),s.putAttachment=o("putAttachment",function(e,t,r,o,i,u){"function"==typeof i&&(u=i,i=o,o=r,r=null);var s=rr(e)+"/"+a(t),l=ur(c,s);if(r&&(l+="?rev="+r),"string"==typeof o){var f;try{f=si(o)}catch(e){return u(T(zo,"Attachment is not a valid base64 string"))}o=f?Tt(f,i):""}n({},{headers:{"Content-Type":i},method:"PUT",url:l,processData:!1,body:o,timeout:d.timeout||6e4},u)}),s._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,i().then(function(){return ko.all(e.docs.map(or))}).then(function(){n(t,{method:"POST",url:ur(c,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return r(e);t.forEach(function(e){e.ok=!0}),r(null,t)})}).catch(r)},s._put=function(e,t,r){i().then(function(){return or(e)}).then(function(){n(t,{method:"PUT",url:ur(c,rr(e._id)),body:e},function(t,n){if(t)return t.docId=e&&e._id,r(t);r(null,n)})}).catch(r)},s.allDocs=o("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=u(e);var n,o={},i="GET";e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(o.limit=e.limit),void 0!==e.skip&&(o.skip=e.skip);var a=cr(o);void 0!==e.keys&&(i="POST",n={keys:e.keys}),r(e,{method:i,url:ur(c,"_all_docs"+a),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(nr),t(null,n)}).catch(t)}),s._changes=function(e){var t="batch_size"in e?e.batch_size:Wi;e=u(e),!e.continuous||"heartbeat"in e||(e.heartbeat=Xi);var r="timeout"in e?e.timeout:"timeout"in d?d.timeout:3e4;"timeout"in e&&e.timeout&&r-e.timeout<Vi&&(r=e.timeout+Vi),"heartbeat"in e&&e.heartbeat&&r-e.heartbeat<Vi&&(r=e.heartbeat+Vi);var o={};"timeout"in e&&e.timeout&&(o.timeout=e.timeout);var a,s=void 0!==e.limit&&e.limit;a="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var l=s;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),"heartbeat"in e&&e.heartbeat&&(o.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(o.filter=e.filter),e.view&&"string"==typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var f in e.query_params)e.query_params.hasOwnProperty(f)&&(o[f]=e.query_params[f]);var h,p="GET";e.doc_ids?(o.filter="_doc_ids",p="POST",h={doc_ids:e.doc_ids}):e.selector&&(o.filter="_selector",p="POST",h={selector:e.selector});var v,y,m=function(a,u){if(!e.aborted){o.since=a,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),e.descending?s&&(o.limit=l):o.limit=!s||l>t?t:l;var f={method:p,url:ur(c,"_changes"+cr(o)),timeout:r,body:h};y=a,e.aborted||i().then(function(){v=n(e,f,u)}).catch(u)}},g={results:[]},b=function(n,r){if(!e.aborted){var o=0;if(r&&r.results){o=r.results.length,g.last_seq=r.last_seq;({}).query=e.query_params,r.results=r.results.filter(function(t){l--;var n=M(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&nr(t),a&&g.results.push(t),e.onChange(t)),n})}else if(n)return e.aborted=!0,void e.complete(n);r&&r.last_seq&&(y=r.last_seq);var i=s&&l<=0||r&&o<t||e.descending;(!e.continuous||s&&l<=0)&&i?e.complete(null,g):vo()(function(){m(y,b)})}};return m(e.since||0,b),{cancel:function(){e.aborted=!0,v&&v.abort()}}},s.revsDiff=o("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:ur(c,"_revs_diff"),body:e},r)}),s._close=function(e){e()},s._destroy=function(e,t){n(e,{url:ur(c,""),method:"DELETE"},function(e,n){if(e&&e.status&&404!==e.status)return t(e);t(null,n)})}}function fr(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,fr)}catch(e){}}function dr(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,dr)}catch(e){}}function hr(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,hr)}catch(e){}}function pr(e,t){return t&&e.then(function(e){vo()(function(){t(null,e)})},function(e){vo()(function(){t(e)})}),e}function vr(e){return co()(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&pr(r,n),r})}function yr(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function mr(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function gr(e){var t=new So(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function br(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function _r(e){return new hr("builtin "+e+" function requires map values to be numbers or number arrays")}function wr(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];if("number"!=typeof o){if(!Array.isArray(o))throw _r("_sum");t="number"==typeof t?[t]:t;for(var i=0,a=o.length;i<a;i++){var u=o[i];if("number"!=typeof u)throw _r("_sum");void 0===t[i]?t.push(u):t[i]+=u}}else"number"==typeof t?t+=o:t[0]+=o}return t}function kr(e,t){return B("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:wr,log:Qi,isArray:Zi,toJSON:ea})}function Er(){this.promise=new ko(function(e){e()})}function xr(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Sr(e,t){return xr(e)+xr(t)+"undefined"}function Or(e,t,n,r,o,i){var a,u=Sr(n,r);if(!o&&(a=e._cachedViews=e._cachedViews||{},a[u]))return a[u];var s=e.info().then(function(s){function c(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[l])return r[l]=!0,e}var l=s.db_name+"-mrview-"+(o?"temp":Bt(u));return U(e,"_local/"+i,c).then(function(){return e.registerDependentDatabase(l).then(function(t){var o=t.db;o.auto_compaction=!0;var i={name:l,db:o,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,a&&i.db.once("destroyed",function(){delete a[u]}),i})})})});return a&&(a[u]=s),s}function Ar(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function jr(e){return 1===e.length&&/^1-/.test(e[0].rev)}function Tr(e,t){try{e.emit("error",t)}catch(e){x("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),x("error",t)}}function Dr(e){if(/^_sum/.test(e))return oa._sum;if(/^_count/.test(e))return oa._count;if(/^_stats/.test(e))return oa._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function Cr(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return kr(e.toString(),t)}function Mr(e){var t=e.toString(),n=Dr(t);return n||kr(t)}function Rr(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new dr("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}function Ir(e,t,n){return ia.query.call(this,e,t,n)}function Pr(e){return ia.viewCleanup.call(this,e)}function Nr(e){return/^1-/.test(e)}function Fr(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function zr(e,t){var n=Object.keys(t._attachments);return ko.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function Lr(e,t,n){var r=N(t)&&!N(e),o=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return ko.all(o.map(function(o){return Fr(r,n,o)?t.getAttachment(n._id,o):e.getAttachment(r._id,o)}))}).catch(function(e){if(404!==e.status)throw e;return zr(t,n)}):zr(t,n)}function qr(e){var t=[];return Object.keys(e).forEach(function(n){e[n].missing.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}function Br(e,t,n,r){function o(){var o=qr(n);if(o.docs.length)return e.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return ko.all(n.results.map(function(n){return ko.all(n.docs.map(function(n){var r=n.ok;return n.error&&(d=!1),r&&r._attachments?Lr(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var o=r._attachments[t[n]];delete o.stub,delete o.length,o.data=e}),r}):r}))})).then(function(e){f=f.concat(R(e).filter(Boolean))})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function a(e){return e._conflicts&&e._conflicts.length>0}function s(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!Nr(e.value.rev)||i(e.doc)||a(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,f.push(e.doc),delete n[e.id])})})}function c(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&Nr(t[0])});if(e.length>0)return s(e)}function l(){return{ok:d,docs:f}}n=u(n);var f=[],d=!0;return ko.resolve().then(c).then(o).then(l)}function Ur(e,t,n,r,o){return e.get(t).catch(function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||A(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:sa,version:ua};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(e){return e.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,ca),i.version=ua,i.replicator=sa,i.session_id=r,i.last_seq=n,e.put(i).catch(function(i){if(409===i.status)return Ur(e,t,n,r,o);throw i})})}function Yr(e,t,n,r,o){this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=o}function Hr(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:$r(e.history,t.history)}function $r(e,t){var n=e[0],r=e.slice(1),o=t[0],i=t.slice(1);return n&&0!==t.length?Wr(n.session_id,t)?{last_seq:n.last_seq,history:e}:Wr(o.session_id,r)?{last_seq:o.last_seq,history:i}:$r(r,i):{last_seq:la,history:[]}}function Wr(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Wr(e,r))}function Gr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function Vr(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=O),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=da},i=function(){t.removeListener("active",o)};t.once("paused",i),t.once("active",o)}e.current_back_off=e.current_back_off||da,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function Xr(e){return Object.keys(e).sort(Ye).reduce(function(t,n){return t[n]=e[n],t},{})}function Jr(e,t,n){var r=n.doc_ids?n.doc_ids.sort(Ye):"",o=n.filter?n.filter.toString():"",i="",a="",u="";return n.selector&&(u=JSON.stringify(n.selector)),n.filter&&n.query_params&&(i=JSON.stringify(Xr(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),ko.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+o+a+i+r+u;return new ko(function(e){qt(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}function Kr(e,t,n,r,o){function i(){return E?ko.resolve():Jr(e,t,n).then(function(o){k=o;var i={};i=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},E=new Yr(e,t,k,r,i)})}function a(){if(z=[],0!==w.docs.length){var e=w.docs,i={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=e.length-i,e.forEach(function(e){var t=n[e._id];if(t){if(o.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;r.emit("denied",u(t))}else z.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function s(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=D=w.seq;var e=u(o);return z.length&&(e.docs=z,r.emit("change",e)),O=!0,E.writeCheckpoint(w.seq,L).then(function(){if(O=!1,r.cancelled)throw p(),new Error("cancelled");w=void 0,g()}).catch(function(e){throw _(e),e})}function c(){var e={};return w.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");w.diffs=e})}function l(){return Br(e,t,w.diffs,r).then(function(e){w.error=!e.ok,e.docs.forEach(function(e){delete w.diffs[e._id],o.docs_read++,w.docs.push(e)})})}function f(){if(!r.cancelled&&!w){if(0===x.length)return void d(!0);w=x.shift(),c().then(l).then(a).then(s).then(f).catch(function(e){h("batch processing terminated with error",e)})}}function d(e){if(0===S.changes.length)return void(0!==x.length||w||((C&&q.live||A)&&(r.state="pending",r.emit("paused")),A&&p()));(e||A||S.changes.length>=R)&&(x.push(S),S={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),f())}function h(e,t){j||(t.message||(t.message=e),o.ok=!1,o.status="aborting",x=[],S={seq:0,changes:[],docs:[]},p(t))}function p(i){j||r.cancelled&&(o.status="cancelled",O)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=D,j=!0,i?(i=T(i),i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):Vr(n,r,i,function(){Kr(e,t,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function v(e){if(r.cancelled)return p();M(n)(e)&&(S.seq=e.seq,S.changes.push(e),d(0===x.length&&q.live))}function y(e){if(P=!1,r.cancelled)return p();if(e.results.length>0)q.since=e.last_seq,g(),d(!0);else{var t=function(){C?(q.live=!0,g()):A=!0,d(!0)};w||0!==e.results.length?t():(O=!0,E.writeCheckpoint(e.last_seq,L).then(function(){O=!1,o.last_seq=D=e.last_seq,t()}).catch(_))}}function m(e){if(P=!1,r.cancelled)return p();h("changes rejected",e)}function g(){function t(){i.cancel()}function o(){r.removeListener("cancel",t)}if(!P&&!A&&x.length<I){P=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var i=e.changes(q).on("change",v);i.then(o,o),i.then(y).catch(m),n.retry&&(r._changes=i,r._abortChanges=t)}}function b(){i().then(function(){return r.cancelled?void p():E.getCheckpoint().then(function(e){D=e,q={since:D,limit:R,batch_size:R,style:"all_docs",doc_ids:N,selector:F,return_docs:!0},n.filter&&("string"!=typeof n.filter?q.include_docs=!0:q.filter=n.filter),"heartbeat"in n&&(q.heartbeat=n.heartbeat),"timeout"in n&&(q.timeout=n.timeout),n.query_params&&(q.query_params=n.query_params),n.view&&(q.view=n.view),g()})}).catch(function(e){h("getCheckpoint rejected with ",e)})}function _(e){O=!1,h("writeCheckpoint completed with error",e)}var w,k,E,x=[],S={seq:0,changes:[],docs:[]},O=!1,A=!1,j=!1,D=0,C=n.continuous||n.live||!1,R=n.batch_size||100,I=n.batches_limit||10,P=!1,N=n.doc_ids,F=n.selector,z=[],L=Qo();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var q={};if(r.ready(e,t),r.cancelled)return void p();r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void 0===n.since?b():i().then(function(){return O=!0,E.writeCheckpoint(n.since,L)}).then(function(){if(O=!1,r.cancelled)return void p();D=n.since,b()}).catch(_)}function Qr(){lo.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new ko(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function Zr(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function eo(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw T(Bo,"`doc_ids` filter parameter is not a list.");n.complete=r,n=u(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new Qr(n);return Kr(Zr(e,n),Zr(t,n),n,o),o}function to(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n=u(n),n.PouchConstructor=n.PouchConstructor||this,e=Zr(e,n),t=Zr(t,n),new no(e,t,n,r)}function no(e,t,n,r){function o(e){p.emit("change",{direction:"pull",change:e})}function i(e){p.emit("change",{direction:"push",change:e})}function a(e){p.emit("denied",{direction:"push",doc:e})}function u(e){p.emit("denied",{direction:"pull",doc:e})}function s(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function c(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function l(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function f(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function d(e){return function(t,n){var r="change"===t&&(n===o||n===i),d="denied"===t&&(n===u||n===a),h="paused"===t&&(n===c||n===s),v="active"===t&&(n===f||n===l);(r||d||h||v)&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&p.removeAllListeners(t))}}function h(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}var p=this;this.canceled=!1;var v=n.push?Do({},n,n.push):n,y=n.pull?Do({},n,n.pull):n;this.push=eo(e,t,v),this.pull=eo(t,e,y),this.pushPaused=!0,this.pullPaused=!0;var m={};n.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(e){"change"===e?(h(p.pull,"change",o),h(p.push,"change",i)):"denied"===e?(h(p.pull,"denied",u),h(p.push,"denied",a)):"active"===e?(h(p.pull,"active",f),h(p.push,"active",l)):"paused"===e&&(h(p.pull,"paused",c),h(p.push,"paused",s))}),this.on("removeListener",function(e){"change"===e?(p.pull.removeListener("change",o),p.push.removeListener("change",i)):"denied"===e?(p.pull.removeListener("denied",u),p.push.removeListener("denied",a)):"active"===e?(p.pull.removeListener("active",f),p.push.removeListener("active",l)):"paused"===e&&(p.pull.removeListener("paused",c),p.push.removeListener("paused",s))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var g=ko.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return p.emit("complete",t),r&&r(null,t),p.removeAllListeners(),t},function(e){if(p.cancel(),r?r(e):p.emit("error",e),p.removeAllListeners(),r)throw e});this.then=function(e,t){return g.then(e,t)},this.catch=function(e){return g.catch(e)}}function ro(e){e.replicate=eo,e.sync=to,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}var oo=n(356),io=n.n(oo),ao=n(359),uo=n.n(ao),so=n(176),co=n.n(so),lo=n(360),fo=(n.n(lo),n(76)),ho=n.n(fo),po=n(75),vo=n.n(po),yo=n(361),mo=n.n(yo),go=n(364),bo=n.n(go),_o=n(365),wo=n.n(_o),ko="function"==typeof Promise?Promise:uo.a,Eo=Function.prototype.toString,xo=Eo.call(Object);p.prototype.get=function(e){var t=d(e);return this._store[t]},p.prototype.set=function(e,t){var n=d(e);return this._store[n]=t,!0},p.prototype.has=function(e){return d(e)in this._store},p.prototype.delete=function(e){var t=d(e),n=t in this._store;return delete this._store[t],n},p.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var o=t[n],i=this._store[o];o=h(o),e(i,o)}},Object.defineProperty(p.prototype,"size",{get:function(){return Object.keys(this._store).length}}),v.prototype.add=function(e){return this._store.set(e,!0)},v.prototype.has=function(e){return this._store.has(e)},v.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(v.prototype,"size",{get:function(){return this._store.size}});var So,Oo;!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(So=v,Oo=p):(So=Set,Oo=Map);var Ao,jo=6;if(_())Ao=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),Ao=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){Ao=!1}ho()(E,lo.EventEmitter),E.prototype.addListener=function(e,t,n,r){function o(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var u=y(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(u).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===a&&vo()(o),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=o,this.on(e,o)}},E.prototype.removeListener=function(e,t){t in this._listeners&&(lo.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},E.prototype.notifyLocalWindows=function(e){_()?chrome.storage.local.set({dbName:e}):w()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},E.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var To;To="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};var Do=To;ho()(j,Error),j.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var Co=(new j(401,"unauthorized","Name or password is incorrect."),new j(400,"bad_request","Missing JSON list of 'docs'")),Mo=new j(404,"not_found","missing"),Ro=new j(409,"conflict","Document update conflict"),Io=new j(400,"bad_request","_id field must contain a string"),Po=new j(412,"missing_id","_id is required for puts"),No=new j(400,"bad_request","Only reserved document ids may start with underscore."),Fo=(new j(412,"precondition_failed","Database not open"),new j(500,"unknown_error","Database encountered an unknown error")),zo=new j(500,"badarg","Some query argument is invalid"),Lo=(new j(400,"invalid_request","Request was invalid"),new j(400,"query_parse_error","Some query parameter is invalid")),qo=new j(500,"doc_validation","Bad special document member"),Bo=new j(400,"bad_request","Something wrong with the request"),Uo=new j(400,"bad_request","Document must be a JSON object"),Yo=(new j(404,"not_found","Database not found"),new j(500,"indexed_db_went_bad","unknown")),Ho=new j(500,"web_sql_went_bad","unknown"),$o=(new j(500,"levelDB_went_went_bad","unknown"),new j(403,"forbidden","Forbidden by design doc validate_doc_update function"),new j(400,"bad_request","Invalid rev format")),Wo=(new j(412,"file_exists","The database could not be created, the file already exists."),new j(412,"missing_stub","A pre-existing attachment stub wasn't found")),Go=(new j(413,"invalid_url","Provided URL is invalid"),I.name);var Vo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Xo="queryKey",Jo=/(?:^|&)([^&=]*)=?([^&]*)/g,Ko=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qo=io.a.v4;ho()(he,lo.EventEmitter),he.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},he.prototype.validateChanges=function(e){var t=e.complete,n=this;Ae._changesFilterPlugin?Ae._changesFilterPlugin.validate(e,function(r){if(r)return t(r);n.doChanges(e)}):n.doChanges(e)},he.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=u(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=pe,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){if(t.isCancelled)return void n(null,{status:"cancelled"});e.since=r.update_seq,t.doChanges(e)},n);if(Ae._changesFilterPlugin){if(Ae._changesFilterPlugin.normalize(e),Ae._changesFilterPlugin.shouldFilter(this,e))return Ae._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&x("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var o=t.cancel;t.cancel=co()(function(e){r.cancel(),o.apply(this,e)})}},ho()(Ee,lo.EventEmitter),Ee.prototype.post=f("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(T(Uo));this.bulkDocs({docs:[e]},t,ye(n,e._id))}),Ee.prototype.put=f("put",function(e,t,n){function r(n){"function"==typeof o._put&&!1!==t.new_edits?o._put(e,t,n):o.bulkDocs({docs:[e]},t,ye(n,e._id))}if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(T(Uo));if(P(e._id),le(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var o=this;t.force&&e._rev?(!function(){var n=e._rev.split("-"),r=n[1],o=parseInt(n[0],10),i=o+1,a=H();e._revisions={start:i,ids:[a,r]},e._rev=i+"-"+a,t.new_edits=!1}(),r(function(t){var r=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,r)})):r(n)}),Ee.prototype.putAttachment=f("putAttachment",function(e,t,n,r,o){function i(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:r,revpos:++n},a.put(e)}var a=this;return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||x("warn","Attachment",t,"on document",e,"is missing content_type"),a.get(e).then(function(e){if(e._rev!==n)throw T(Ro);return i(e)},function(t){if(t.reason===Mo.message)return i({_id:e});throw t})}),Ee.prototype.removeAttachment=f("removeAttachment",function(e,t,n,r){var o=this;o.get(e,function(e,i){return e?void r(e):i._rev!==n?void r(T(Ro)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),Ee.prototype.remove=f("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};if(i._deleted=!0,le(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,ye(r,i._id))}),Ee.prototype.revsDiff=f("revsDiff",function(e,t,n){function r(e,t){u.has(e)||u.set(e,{missing:[]}),u.get(e).missing.push(t)}function o(t,n){var o=e[t].slice(0);W(n,function(e,n,i,a,u){var s=n+"-"+i,c=o.indexOf(s);-1!==c&&(o.splice(c,1),"available"!==u.status&&r(t,s))}),o.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var a=0,u=new Oo;i.map(function(t){this._getRevisionTree(t,function(r,s){if(r&&404===r.status&&"missing"===r.message)u.set(t,{missing:e[t]});else{if(r)return n(r);o(t,s)}if(++a===i.length){var c={};return u.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),Ee.prototype.bulkGet=f("bulkGet",function(e,t){b(this,e,t)}),Ee.prototype.compactDocument=f("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(o,i){if(o)return n(o);var a=be(i),u=[],s=[];Object.keys(a).forEach(function(e){a[e]>t&&u.push(e)}),W(i,function(e,t,n,r,o){var i=t+"-"+n;"available"===o.status&&-1!==u.indexOf(i)&&s.push(i)}),r._doCompaction(e,s,n)})}),Ee.prototype.compact=f("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&we(n)}),Ee.prototype._compact=function(e,t){function n(e){a.push(o.compactDocument(e.id,0))}function r(e){var n=e.last_seq;ko.all(a).then(function(){return U(o,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var o=this,i={return_docs:!1,last_seq:e.last_seq||0},a=[];o.changes(i).on("change",n).on("complete",r).on("error",t)},Ee.prototype.get=f("get",function(e,t,n){function r(){var r=[],a=o.length;if(!a)return n(null,r);o.forEach(function(o){i.get(e,{rev:o,revs:t.revs,latest:t.latest,attachments:t.attachments},function(e,t){if(e)r.push({missing:o});else{for(var i,u=0,s=r.length;u<s;u++)if(r[u].ok&&r[u].ok._rev===t._rev){i=!0;break}i||r.push({ok:t})}--a||n(null,r)})})}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(T(Io));if(le(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var o=[],i=this;if(!t.open_revs)return this._get(e,t,function(r,o){if(r)return r.docId=e,n(r);var a=o.doc,u=o.metadata,s=o.ctx;if(t.conflicts){var c=X(u);c.length&&(a._conflicts=c)}if(ce(u,a._rev)&&(a._deleted=!0),t.revs||t.revs_info){for(var l=a._rev.split("-"),f=parseInt(l[0],10),d=l[1],h=K(u.rev_tree),p=null,v=0;v<h.length;v++){var y=h[v],m=y.ids.map(function(e){return e.id}).indexOf(d);(m===f-1||!p&&-1!==m)&&(p=y)}var g=p.ids.map(function(e){return e.id}).indexOf(a._rev.split("-")[1])+1,b=p.ids.length-g;if(p.ids.splice(g,b),p.ids.reverse(),t.revs&&(a._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(e){return e.id})}),t.revs_info){var _=p.pos+p.ids.length;a._revs_info=p.ids.map(function(e){return _--,{rev:_+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&a._attachments){var w=a._attachments,k=Object.keys(w).length;if(0===k)return n(null,a);Object.keys(w).forEach(function(e){this._getAttachment(a._id,e,w[e],{rev:a._rev,binary:t.binary,ctx:s},function(t,r){var o=a._attachments[e];o.data=r,delete o.stub,delete o.length,--k||n(null,a)})},i)}else{if(a._attachments)for(var E in a._attachments)a._attachments.hasOwnProperty(E)&&(a._attachments[E].stub=!0);n(null,a)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return n(e);o=V(t).map(function(e){return e.rev}),r()});else{if(!Array.isArray(t.open_revs))return n(T(Fo,"function_clause"));o=t.open_revs;for(var a=0;a<o.length;a++){var u=o[a];if("string"!=typeof u||!/^\d+-/.test(u))return n(T($o))}r()}}),Ee.prototype.getAttachment=f("getAttachment",function(e,t,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(i,a){return i?r(i):a.doc._attachments&&a.doc._attachments[t]?(n.ctx=a.ctx,n.binary=!0,o._getAttachment(e,t,a.doc._attachments[t],n,r),void 0):r(T(Mo))})}),Ee.prototype.allDocs=f("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(T(Lo,"Query parameter `"+n+"` is not compatible with multi-get"));if(!N(this))return _e(this,e,t)}return this._allDocs(e,t)}),Ee.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new he(this,e,t)},Ee.prototype.close=f("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Ee.prototype.info=f("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||N(t)),r.adapter=t.adapter,e(null,r)})}),Ee.prototype.id=f("id",function(e){return this._id(e)}),Ee.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ee.prototype.bulkDocs=f("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(T(Co));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(T(Uo));var o;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){o=o||ke(t),e._attachments[t].content_type||x("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),o)return n(T(Bo,o));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var i=this;t.new_edits||N(i)||e.docs.sort(ge),me(e.docs);var a=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),!N(i))for(var o=0,u=r.length;o<u;o++)r[o].id=r[o].id||a[o];n(null,r)})}),Ee.prototype.registerDependentDatabase=f("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);U(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})}).catch(t)}),Ee.prototype.destroy=f("destroy",function(e,t){function n(){r._destroy(e,function(e,n){if(e)return t(e);r._destroyed=!0,r.emit("destroyed"),t(null,n||{ok:!0})})}"function"==typeof e&&(t=e,e={});var r=this,o=!("use_prefix"in r)||r.use_prefix;if(N(r))return n();r.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):n();var a=i.dependentDbs,u=r.constructor,s=Object.keys(a).map(function(e){var t=o?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,r.__opts).destroy()});ko.all(s).then(n,t)})}),xe.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},xe.prototype.fail=function(e){this.failed=e,this.execute()},xe.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},xe.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},ho()(Ae,Ee),Ae.adapters={},Ae.preferredAdapters=[],Ae.prefix="_pouch_";var Zo=new lo.EventEmitter;!function(e){Object.keys(lo.EventEmitter.prototype).forEach(function(t){"function"==typeof lo.EventEmitter.prototype[t]&&(e[t]=Zo[t].bind(Zo))});var t=e._destructionListeners=new Oo;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach(function(e){e.emit("destroyed",!0)})}})}(Ae),Ae.adapter=function(e,t,n){t.valid()&&(Ae.adapters[e]=t,n&&Ae.preferredAdapters.push(e))},Ae.plugin=function(e){if("function"==typeof e)e(Ae);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Ae.prototype[t]=e[t]})}return this.__defaults&&(Ae.__defaults=Do({},this.__defaults)),Ae},Ae.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=n.name,delete n.name),n=Do({},t.__defaults,n),Ae.call(this,e,n)}return ho()(t,Ae),t.preferredAdapters=Ae.preferredAdapters.slice(),Object.keys(Ae).forEach(function(e){e in t||(t[e]=Ae[e])}),t.__defaults=Do({},this.__defaults,e),t};var ei=["$or","$nor","$not"],ti=-324,ni=3,ri="",oi={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(e){return rt(e,t,Object.keys(t))}):r.some(function(r){return ot(t,e,n,r)})))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.every(function(e){return rt(e,t,Object.keys(t))}):r.every(function(r){return ot(t,e,n,r)})))},$eq:function(e,t,n,r){return st(r)&&0===Ye(r,t)},$gte:function(e,t,n,r){return st(r)&&Ye(r,t)>=0},$gt:function(e,t,n,r){return st(r)&&Ye(r,t)>0},$lte:function(e,t,n,r){return st(r)&&Ye(r,t)<=0},$lt:function(e,t,n,r){return st(r)&&Ye(r,t)<0},$exists:function(e,t,n,r){return t?st(r):!st(r)},$mod:function(e,t,n,r){return ut(r)&&ct(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==Ye(r,e)})},$in:function(e,t,n,r){return ut(r)&&lt(r,t)},$nin:function(e,t,n,r){return ut(r)&&!lt(r,t)},$size:function(e,t,n,r){return ut(r)&&dt(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&ft(r,t)},$regex:function(e,t,n,r){return ut(r)&&ht(r,t)},$type:function(e,t,n,r){return pt(r,t)}};Ae.plugin(je),Ae.plugin(kt),Ae.version="6.3.4";var ii,ai=Et(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),ui=Et(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),si=function(e){return atob(e)},ci=function(e){return btoa(e)},li=e.setImmediate||e.setTimeout,fi=32768,di=5,hi="document-store",pi="by-sequence",vi="attach-store",yi="attach-seq-store",mi="meta-store",gi="local-store",bi="detect-blob-support",_i=new E,wi=!1,ki=[],Ei=new Oo,xi=new Oo;bn.valid=function(){return!("undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Si=function(e){e.adapter("idb",bn,!0)},Oi=7,Ai=An("document-store"),ji=An("by-sequence"),Ti=An("attach-store"),Di=An("local-store"),Ci=An("metadata-store"),Mi=An("attach-seq-store"),Ri=new Oo,Ii=new E,Pi=1,Ni="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+ji+" (seq, deleted)",Fi="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+ji+" (doc_id, rev)",zi="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Ai+" (winningseq)",Li="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Mi+" (seq)",qi="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Mi+" (digest, seq)",Bi=ji+".seq = "+Ai+".winningseq",Ui=ji+".seq AS seq, "+ji+".deleted AS deleted, "+ji+".json AS data, "+ji+".rev AS rev, "+Ai+".json AS metadata";Gn.valid=$n,Gn.use_prefix=!0;var Yi=function(e){e.adapter("websql",Gn,!0)},Hi=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}(),$i=function(){},Wi=25,Gi=50,Vi=5e3,Xi=1e4,Ji={};lr.valid=function(){return!0};var Ki=function(e){e.adapter("http",lr,!1),e.adapter("https",lr,!1)};ho()(fr,Error),ho()(dr,Error),ho()(hr,Error);var Qi=x.bind(null,"log"),Zi=Array.isArray,ea=JSON.parse;Er.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Er.prototype.finish=function(){return this.promise};var ta={},na=new Er,ra=50,oa={_sum:function(e,t){return wr(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:wr(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];t+=o*o}return t}(t)}}},ia=function(e,t,n,r){function o(e,t,n){try{t(n)}catch(t){Tr(e,t)}}function i(e,t,n,r,o){try{return{output:t(n,r,o)}}catch(t){return Tr(e,t),{error:t}}}function a(e,t){var n=Ye(e.key,t.key);return 0!==n?n:Ye(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function s(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function c(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Dt(n.data,n.content_type)})})}function l(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&c(t),t}}function f(e,t,n,r){var o=t[e];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function d(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}function p(e){if(e){if("number"!=typeof e)return new fr('Invalid value for integer: "'+e+'"');if(e<0)return new fr('Invalid value for positive integer: "'+e+'"')}}function v(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&Ye(e[n],e[r])>0)throw new fr("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new fr("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new fr("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=p(e[t]);if(n)throw n})}function y(e,t,n){var r,o=[],i="GET";if(f("reduce",n,o),f("include_docs",n,o),f("attachments",n,o),f("limit",n,o),f("descending",n,o),f("group",n,o),f("group_level",n,o),f("skip",n,o),f("stale",n,o),f("conflicts",n,o),f("startkey",n,o,!0),f("start_key",n,o,!0),f("endkey",n,o,!0),f("end_key",n,o,!0),f("inclusive_end",n,o),f("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==n.keys){var a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var u=Ar(t);return e.request({method:i,url:"_design/"+u[0]+"/_view/"+u[1]+o,body:r}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(l(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:r}).then(l(n))}function m(e,t,n){return new ko(function(r,o){e._query(t,n,function(e,t){if(e)return o(e);r(t)})})}function g(e){return new ko(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}function b(e){return function(t){if(404===t.status)return e;throw t}}function _(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):ko.resolve({rows:[]})}function o(e,t){for(var n=[],r=new So,o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r.add(u._id),u._deleted=!s.has(u._id),!u._deleted)){var c=s.get(u._id);"value"in c&&(u.value=c.value)}}var l=br(s);return l.forEach(function(e){if(!r.has(e)){var t={_id:e},o=s.get(e);"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=gr(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,a={_id:i,keys:[]},u=n.get(e),s=u[0],c=u[1];return function(){return jr(c)?ko.resolve(a):t.db.get(i).catch(b(a))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function w(e,t,n){return e.db.get("_local/lastSeq").catch(b({_id:"_local/lastSeq",seq:0})).then(function(r){var o=br(t);return ko.all(o.map(function(n){return _(n,e,t)})).then(function(t){var o=R(t);return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function k(e){var t="string"==typeof e?e:e.name,n=ta[t];return n||(n=ta[t]=new Er),n}function E(e){return mr(k(e),function(){return x(e)})()}function x(e){function n(e,t){var n={id:f._id,key:He(e)};void 0!==t&&null!==t&&(n.value=He(t)),l.push(n)}function r(t,n){return function(){return w(e,t,n)}}function i(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:h,limit:ra}).then(u)}function u(e){var t=e.results;if(t.length){var n=s(t);if(p.add(r(n,h)),!(t.length<ra))return i()}}function s(t){for(var n=new Oo,r=0,i=t.length;r<i;r++){var u=t[r];if("_"!==u.doc._id[0]){l=[],f=u.doc,f._deleted||o(e.sourceDB,d,f),l.sort(a);var s=c(l);n.set(u.doc._id,[s,u.changes])}h=u.seq}return n}function c(e){for(var t,n=new Oo,r=0,o=e.length;r<o;r++){var i=e[r],a=[i.key,i.id];r>0&&0===Ye(i.key,t)&&a.push(r),n.set(We(a),i),t=i.key}return n}var l,f,d=t(e.mapFun,n),h=e.seq||0,p=new Er;return i().then(function(){return p.finish()}).then(function(){e.seq=h})}function S(e,t,r){0===r.group_level&&delete r.group_level;var o=r.group||r.group_level,a=n(e.reduceFun),s=[],c=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=s[s.length-1],n=o?e.key:null;if(o&&Array.isArray(n)&&(n=n.slice(0,c)),t&&0===Ye(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var l=0,f=s.length;l<f;l++){var d=s[l],h=i(e.sourceDB,a,d.keys,d.values,!1);if(h.error&&h.error instanceof hr)throw h.error;t.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:u(t,r.limit,r.skip)}}function O(e,t){return mr(k(e),function(){return A(e,t)})()}function A(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=Xe(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?S(e,n,t):{total_rows:o,offset:a,rows:n},t.include_docs){var u=gr(n.map(s));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new Oo;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),n.forEach(function(e){var n=s(e),r=t.get(n);r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var u=t.keys,c=u.map(function(e){return n({startkey:We([e]),endkey:We([e,{}])})});return ko.all(c).then(R).then(r)}var l,f,d={descending:t.descending};if("start_key"in t&&(l=t.start_key),"startkey"in t&&(l=t.startkey),"end_key"in t&&(f=t.end_key),"endkey"in t&&(f=t.endkey),void 0!==l&&(d.startkey=We(t.descending?[l,{}]:[l])),void 0!==f){var h=!1!==t.inclusive_end;t.descending&&(h=!h),d.endkey=We(h?[f,{}]:[f])}if(void 0!==t.key){var p=We([t.key]),v=We([t.key,{}]);d.descending?(d.endkey=p,d.startkey=v):(d.startkey=p,d.endkey=v)}return i||("number"==typeof t.limit&&(d.limit=t.limit),d.skip=a),n(d).then(r)}function j(e){return e.request({method:"POST",url:"_view_cleanup"})}function T(t){return t.get("_local/"+e).then(function(e){var n=new Oo;Object.keys(e.views).forEach(function(e){var t=Ar(e),r="_design/"+t[0],o=t[1],i=n.get(r);i||(i=new So,n.set(r,i)),i.add(o)});var r={keys:br(n),include_docs:!0};return t.allDocs(r).then(function(r){var o={};r.rows.forEach(function(t){var r=t.key.substring(8);n.get(t.key).forEach(function(n){var i=r+"/"+n;e.views[i]||(i=n);var a=Object.keys(e.views[i]),u=t.doc&&t.doc.views&&t.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(e){return mr(k(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return ko.all(a).then(function(){return{ok:!0}})})},b({ok:!0}))}function D(t,n,o){if("function"==typeof t._query)return m(t,n,o);if(N(t))return y(t,n,o);if("string"!=typeof n)return v(o,n),na.add(function(){return Or(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then(function(e){return yr(E(e).then(function(){return O(e,o)}),function(){return e.db.destroy()})})}),na.finish();var i=n,a=Ar(i),u=a[0],s=a[1];return t.get("_design/"+u).then(function(n){var a=n.views&&n.views[s];if(!a)throw new dr("ddoc "+n._id+" has no view named "+s);return r(n,s),v(o,a),Or(t,i,a.map,a.reduce,!1,e).then(function(e){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&vo()(function(){E(e)}),O(e,o)):E(e).then(function(){return O(e,o)})})})}function C(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?h(t):{},"function"==typeof e&&(e={map:e});var o=ko.resolve().then(function(){return D(r,e,t)});return pr(o,n),o}return{query:C,viewCleanup:vr(function(){var e=this;return"function"==typeof e._viewCleanup?g(e):N(e)?j(e):T(e)})}}("mrviews",Cr,Mr,Rr),aa={query:Ir,viewCleanup:Pr},ua=1,sa="pouchdb",ca=5,la=0;Yr.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},Yr.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Ur(this.target,this.id,e,t,this.returnValue):ko.resolve(!0)},Yr.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return this.readOnlySource?ko.resolve(!0):Ur(this.src,this.id,e,t,this.returnValue).catch(function(e){if(Gr(e))return n.readOnlySource=!0,!0;throw e})}return ko.resolve(!0)};var fa={undefined:function(e,t){return 0===Ye(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return Hr(t,e).last_seq}};Yr.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?ko.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return la;var n;return n=t.version?t.version.toString():"undefined",n in fa?fa[n](t,e):la},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:la}).then(function(){return la},function(n){return Gr(n)?(e.readOnlySource=!0,t.last_seq):la});throw n})}).catch(function(e){if(404!==e.status)throw e;return la})};var da=0;ho()(Qr,lo.EventEmitter),Qr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Qr.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),o.once("complete",r))},ho()(no,lo.EventEmitter),no.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Ae.plugin(Si).plugin(Yi).plugin(Ki).plugin(aa).plugin(ro),t.default=Ae}.call(t,n(21))},function(e,t,n){var r=n(357),o=n(358),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){function r(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:s,f=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:l+1,h=f-c+(d-l)/1e4;if(h<0&&void 0===e.clockseq&&(a=a+1&16383),(h<0||f>c)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,l=d,s=a,f+=122192928e5;var p=(1e4*(268435455&f)+d)%4294967296;o[r++]=p>>>24&255,o[r++]=p>>>16&255,o[r++]=p>>>8&255,o[r++]=255&p;var v=f/4294967296*1e4&268435455;o[r++]=v>>>8&255,o[r++]=255&v,o[r++]=v>>>24&15|16,o[r++]=v>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var y=e.node||u,m=0;m<6;++m)o[r+m]=y[m];return t||i(o)}var o=n(174),i=n(175),a=o(),u=[1|a[0],a[1],a[2],a[3],a[4],a[5]],s=16383&(a[6]<<8|a[7]),c=0,l=0;e.exports=r},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[r+u]=a[u];return t||i(a)}var o=n(174),i=n(175);e.exports=r},function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function f(e){var t=new this(r);return v.reject(t,e)}function d(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,v.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,v.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,v.resolve(a,e))},function(e){o||(o=!0,v.reject(a,e))})}(e[i]);return a}var p=n(75),v={},y=["REJECTED"],m=["FULFILLED"],g=["PENDING"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===y)return this;var n=new this.constructor(r);if(this.state!==g){a(n,this.state===m?e:t,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=m,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,t){e.state=y,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=l,o.reject=f,o.all=d,o.race=h},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,u,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,s=0;s<o;s++)c[s].apply(this,u);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}t=e.exports=n(362),t.log=a,t.formatArgs=i,t.save=u,t.load=s,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())}).call(t,n(18))},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var a=i[u];n=o.call(e,a),i.splice(u,1),u--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=u,t.humanize=n(363),t.names=[],t.skips=[],t.formatters={};var c},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=s?Math.round(e/s)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,s,"hour")||i(e,u,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,s=60*u,c=24*s,l=365.25*c;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";function t(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n+=(r&o|~r&i)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[15]-660478335|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var r,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)t(l,n(e.substring(r-64,r)));for(e=e.substring(r-64),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(t(l,i),r=0;r<16;r+=1)i[r]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function i(e){var n,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(l,r(e.subarray(n-64,n)));for(e=n-64<c?e.subarray(n-64):new Uint8Array(0),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=e[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(t(l,i),n=0;n<16;n+=1)i[n]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function a(e){var t,n="";for(t=0;t<4;t+=1)n+=p[e>>8*t+4&15]+p[e>>8*t&15];return n}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function f(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function d(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==u(o("hello"))&&function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,u,s=this.byteLength,c=t(n,s),l=s;return r!==e&&(l=t(r,s)),c>l?new ArrayBuffer(0):(o=l-c,i=new ArrayBuffer(o),a=new Uint8Array(i),u=new Uint8Array(this,c,o),a.set(u),i)}}(),h.prototype.append=function(e){return this.appendBinary(s(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var r,o=this._buff.length;for(r=64;r<=o;r+=64)t(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},h.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=d(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,n){var r,o,i,a=n;if(e[a>>2]|=128<<(a%4<<3),a>55)for(t(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=o,e[15]=i,t(this._hash,e)},h.hash=function(e,t){return h.hashBinary(s(e),t)},h.hashBinary=function(e,t){var n=o(e),r=u(n);return t?d(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var n,o=f(this._buff.buffer,e,!0),i=o.length;for(this._length+=e.byteLength,n=64;n<=i;n+=64)t(this._hash,r(o.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(o.buffer.slice(n-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=d(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=l(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var n=i(new Uint8Array(e)),r=u(n);return t?d(r):r},h})},function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var a=t.pop();o[a]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,o,i,a,u,s,c,l,f,d,h="";n=t.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",h+=o,i)h+=i;else if("object"!=typeof r)h+=void 0===r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),a=r.length-1;a>=0;a--)u=0===a?"":",",t.push({obj:r[a],prefix:u});t.push({val:"["})}else{s=[];for(c in r)r.hasOwnProperty(c)&&s.push(c);for(t.push({val:"}"}),a=s.length-1;a>=0;a--)l=s[a],f=r[l],d=a>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:f,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,n,o,i,a,u,s,c,l,f=[],d=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,r(null,f,d);break;case"t":h+=3,r(!0,f,d);break;case"f":h+=4,r(!1,f,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(o=e[h++],!/[\d\.\-e\+]/.test(o)){h--;break}n+=o}r(parseFloat(n),f,d);break;case'"':for(i="",a=void 0,u=0;;){if('"'===(s=e[h++])&&("\\"!==a||u%2!=1))break;i+=s,a=s,"\\"===a?u++:u=0}r(JSON.parse('"'+i+'"'),f,d);break;case"[":c={element:[],index:f.length},f.push(c.element),d.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),d.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();r(f.pop(),f,d)}}},function(e,t,n){"use strict";var r=n(17),o=n(371),i=n(372),a={};a.createIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));("http"===this.type()?o:i).createIndex(this,e,t)}),a.find=r.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));("http"===this.type()?o:i).find(this,e,t)}),a.getIndexes=r.toPromise(function(e){("http"===this.type()?o:i).getIndexes(this,e)}),a.deleteIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));("http"===this.type()?o:i).deleteIndex(this,e,t)}),e.exports=a,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(a)},function(e,t){},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}t=e.exports=n(369),t.log=a,t.formatArgs=i,t.save=u,t.load=s,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())}).call(t,n(18))},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var a=i[u];n=o.call(e,a),i.splice(u,1),u--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=u,t.humanize=n(370),t.names=[],t.skips=[],t.formatters={};var c},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=s?Math.round(e/s)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,s,"hour")||i(e,u,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,s=60*u,c=24*s,l=365.25*c;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";function r(e,t,n){t=u(t),e.request({method:"POST",url:"_index",body:t},n)}function o(e,t,n){e.request({method:"POST",url:"_find",body:t},n)}function i(e,t){e.request({method:"GET",url:"_index"},t)}function a(e,t,n){var r=t.ddoc,o=t.type||"json",i=t.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!i)return n(new Error("you must provide an index's name"));var a="_index/"+[r,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:a},n)}var u=n(181);t.createIndex=r,t.find=o,t.getIndexes=i,t.deleteIndex=a},function(e,t,n){"use strict";var r=n(17),o=r.callbackify;t.createIndex=o(n(373)),t.find=o(n(380)),t.getIndexes=o(n(184)),t.deleteIndex=o(n(384))},function(e,t,n){"use strict";function r(e,t,n){return u.upsert.call(e,t,n)}function o(e,t){function n(e){return e._rev&&"query"!==e.language&&(v=!0),e.language="query",e.views=e.views||{},!(y=!!e.views[c])&&(e.views[c]={map:{fields:i.mergeObjects(t.index.fields)},reduce:"_count",options:{def:o}},e)}t=d(t);var o=i.clone(t.index);t.index=f(t.index),l(t.index);var u=i.MD5(JSON.stringify(t)),c=t.name||"idx-"+u,h=t.ddoc||"idx-"+u,p="_design/"+h,v=!1,y=!1;return a("creating index",p),r(e,p,n).then(function(){if(v)throw new Error('invalid language for ddoc with id "'+p+'" (should be "query")')}).then(function(){var t=h+"/"+c;return s.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:p,name:c,result:y?"exists":"created"}})})}var i=n(17),a=i.log,u=n(182),s=n(77),c=n(29),l=c.validateIndex,f=c.massageIndexDef,d=n(181);e.exports=o},function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(178)),o="function"==typeof Promise?Promise:r;e.exports=o},function(e,t,n){"use strict";function r(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}t.padLeft=function(e,t,n){return r(e,t,n)+e},t.padRight=function(e,t,n){return e+r(e,t,n)},t.stringLexCompare=function(e,t){var n,r=e.length,o=t.length;for(n=0;n<r;n++){if(n===o)return 1;var i=e.charAt(n),a=t.charAt(n);if(i!==a)return i<a?-1:1}return r<o?-1:0},t.intToDecimalForm=function(e){var t=e<0,n="";do{n=(t?-Math.ceil(e%10):Math.floor(e%10))+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},function(e,t,n){"use strict";(function(t){function r(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,r)}catch(e){}}function o(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(e){}}function i(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function a(e){return 1===e.length&&/^1-/.test(e[0].rev)}function u(e,t){var n=m(e.key,t.key);return 0!==n?n:m(e.value,t.value)}function s(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function c(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function l(e,t){try{e.emit("error",t)}catch(e){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(t)}}function f(e,t,n){try{return{output:t.apply(null,n)}}catch(t){return l(e,t),{error:t}}}function d(e,t){var n=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[o]&&m(e[n],e[o])>0)throw new r("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new r("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new r("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new r('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new r('Invalid value for positive integer: "'+e.group_level+'"')}}function h(e){return function(t){if(404===t.status)return e;throw t}}function p(e){function n(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):k.resolve({rows:[]})}function o(e,t){for(var n=[],r={},o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r[u._id]=!0,u._deleted=!c[u._id],!u._deleted)){var s=c[u._id];"value"in s&&(u.value=s.value)}}var l=Object.keys(c);return l.forEach(function(e){if(!r[e]){var t={_id:e},o=c[e];"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=w.uniq(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,u={_id:i,keys:[]},s=n[e],c=s.indexableKeysToKeyValues,l=s.changes;return function(){return a(l)?k.resolve(u):t.db.get(i).catch(h(u))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function r(e,t,r){return e.db.get("_local/lastSeq").catch(h({_id:"_local/lastSeq",seq:0})).then(function(o){var i=Object.keys(t);return k.all(i.map(function(r){return n(r,e,t)})).then(function(t){var n=w.flatten(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function l(e){var t="string"==typeof e?e:e.name,n=E[t];return n||(n=E[t]=new y),n}function p(e){return w.sequentialize(l(e),function(){return O(e)})()}function O(e){function t(e,t){var n={id:i._id,key:b(e)};void 0!==t&&null!==t&&(n.value=b(t)),o.push(n)}function n(t,n){return function(){return r(e,t,n)}}var o,i,a=R(e.mapFun,t),s=e.seq||0,c=new y;return new k(function(t,r){function l(){c.finish().then(function(){e.seq=s,t()})}function d(){function t(e){r(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:s,limit:S}).on("complete",function(t){var r=t.results;if(!r.length)return l();for(var h={},p=0,v=r.length;p<v;p++){var y=r[p];if("_"!==y.doc._id[0]){o=[],i=y.doc,i._deleted||f(e.sourceDB,a,[i]),o.sort(u);for(var b,_={},w=0,k=o.length;w<k;w++){var E=o[w],x=[E.key,E.id];0===m(E.key,b)&&x.push(w);_[g(x)]=E,b=E.key}h[y.doc._id]={indexableKeysToKeyValues:_,changes:y.changes}}s=y.seq}return c.add(n(h,s)),r.length<S?l():d()}).on("error",t)}d()})}function A(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,o=I(e.reduceFun),i=[],a=n.group_level;t.forEach(function(e){var t=i[i.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&"number"==typeof a&&(n=n.length>a?n.slice(0,a):n),t&&0===m(t.key[0][0],n))return t.key.push([n,e.id]),void t.value.push(e.value);i.push({key:[[n,e.id]],value:[e.value]})});for(var u=0,c=i.length;u<c;u++){var l=i[u],d=f(e.sourceDB,o,[l.key,l.value,!1]);if(d.error&&/BuiltInError/.test(d.error.constructor))throw d.error;l.value=d.error?null:d.output,l.key=l.key[0][0]}return{rows:s(i,n.limit,n.skip)}}function j(e,t){return w.sequentialize(l(e),function(){return T(e,t)})()}function T(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=v.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?A(e,n,t):{total_rows:o,offset:a,rows:n},t.include_docs){var u=w.uniq(n.map(c));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=c(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);var u=function(e){return e.reduce(function(e,t){return e.concat(t)})};if(void 0!==t.keys){var s=t.keys,l=s.map(function(e){return n({startkey:g([e]),endkey:g([e,{}])})});return k.all(l).then(u).then(r)}var f={descending:t.descending};if(void 0!==t.startkey&&(f.startkey=g(t.descending?[t.startkey,{}]:[t.startkey])),void 0!==t.endkey){var d=!1!==t.inclusive_end;t.descending&&(d=!d),f.endkey=g(d?[t.endkey,{}]:[t.endkey])}if(void 0!==t.key){var h=g([t.key]),p=g([t.key,{}]);f.descending?(f.endkey=h,f.startkey=p):(f.startkey=h,f.endkey=p)}return i||("number"==typeof t.limit&&(f.limit=t.limit),f.skip=a),n(f).then(r)}function D(e){return e.get("_local/"+M).then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=i(e),r="_design/"+t[0],o=t[1];n[r]=n[r]||{},n[r][o]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var a=Object.keys(t.views[i]),u=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(t){return w.sequentialize(l(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return k.all(a).then(function(){return{ok:!0}})})},h({ok:!0}))}function C(e,n,r){if("string"!=typeof n){d(r,n);var a={db:e,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0,pluginName:M};return x.add(function(){return _(a).then(function(e){function t(){return e.db.destroy()}return w.fin(p(e).then(function(){return j(e,r)}),t)})}),x.finish()}var u=n,s=i(u),c=s[0],l=s[1];return e.get("_design/"+c).then(function(n){var i=n.views&&n.views[l];if(!i)throw new o("ddoc "+n._id+" has no view named "+l);P(n,l),d(r,i);var a={db:e,viewName:u,map:i.map,reduce:i.reduce,pluginName:M};return _(a).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&t.nextTick(function(){p(e)}),j(e,r)):p(e).then(function(){return j(e,r)})})})}var M=e.name,R=e.mapper,I=e.reducer,P=e.ddocValidator;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=w.extend(!0,{},t),"function"==typeof e&&(e={map:e});var o=k.resolve().then(function(){return C(r,e,t)});return w.promisedCallback(o,n),o},viewCleanup:w.callbackify(function(){return D(this)})}}var v=n(48),y=n(377),m=v.collate,g=v.toIndexableString,b=v.normalizeKey,_=n(379);"undefined"!=typeof console&&"function"==typeof console.log&&Function.prototype.bind.call(console.log,console);var w=n(78),k=w.Promise,E={},x=new y,S=50;w.inherits(r,Error),w.inherits(o,Error),e.exports=p}).call(t,n(18))},function(e,t,n){"use strict";function r(){this.promise=new o(function(e){e()})}var o=n(78).Promise;r.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},r.prototype.finish=function(){return this.promise},e.exports=r},function(e,t){},function(e,t,n){"use strict";function r(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}var o=n(183),i=n(78),a=i.Promise;e.exports=function(e){var t=e.db,n=e.viewName,u=e.map,s=e.reduce,c=e.temporary,l=e.pluginName,f=r(u)+r(s)+"undefined";if(!c&&t._cachedViews){var d=t._cachedViews[f];if(d)return a.resolve(d)}return t.info().then(function(e){function r(e){e.views=e.views||{};var t=n;-1===t.indexOf("/")&&(t=n+"/"+n);var r=e.views[t]=e.views[t]||{};if(!r[a])return r[a]=!0,e}var a=e.db_name+"-mrview-"+(c?"temp":i.MD5(f));return o(t,"_local/"+l,r).then(function(){return t.registerDependentDatabase(a).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:a,db:n,sourceDB:t,adapter:t.adapter,mapFun:u,reduceFun:s};return r.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,c||(t._cachedViews=t._cachedViews||{},t._cachedViews[f]=r,r.db.on("destroyed",function(){delete t._cachedViews[f]})),r})})})})}},function(e,t,n){"use strict";function r(e){return e.ddoc.substring(8)+"/"+e.name}function o(e,t){var n=u(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n)}function i(e,t){return t.selector&&(t.selector=p(t.selector)),t.sort&&(t.sort=v(t.sort)),m(t),s(e).then(function(n){var i=f(t,n.indexes),u=i.index;g(t,u);var s=a.extend(!0,{include_docs:!0,reduce:!1},i.queryOpts);return"startkey"in s&&"endkey"in s&&c(s.startkey,s.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===y(t.sort[0])&&(s.descending=!0,s=b(s)),i.inMemoryFields.length||("limit"in t&&(s.limit=t.limit),"skip"in t&&(s.skip=t.skip)),w.resolve().then(function(){if("_all_docs"===u.name)return o(e,s);var t=r(u);return l.query.call(e,t,s)}).then(function(e){!1===s.inclusive_start&&(e.rows=_(e.rows,s.startkey,u)),i.inMemoryFields.length&&(e.rows=h(e.rows,t,i.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?a.pick(n,t.fields):n})};return u.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}var a=n(17),u=a.clone,s=n(184),c=n(48).collate,l=n(77),f=n(381),d=n(29),h=n(382),p=d.massageSelector,v=d.massageSort,y=d.getValue,m=d.validateFindRequest,g=d.validateSort,b=d.reverseOptions,_=d.filterInclusiveStart,w=a.Promise;e.exports=i},function(e,t,n){"use strict";function r(e,t){for(var n=e.def.fields.map(S),r=0,o=n.length;r<o;r++){if(t===n[r])return!0}return!1}function o(e,t){var n=e[t];return"$eq"!==S(n)}function i(e,t){var n=t.def.fields.map(S);return e.slice().sort(function(e,t){var r=n.indexOf(e),o=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),k.compare(r,o)})}function a(e,t,n){n=i(n,e);for(var a=!1,u=0,s=n.length;u<s;u++){var c=n[u];if(a||!r(e,c))return n.slice(u);u<s-1&&o(t,c)&&(a=!0)}return[]}function u(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Object.keys(r).forEach(function(e){"$ne"===e&&t.push(n)})}),t}function s(e,t,n,r){var o=k.flatten(e,a(t,n,r),u(n));return i(k.uniq(o),t)}function c(e,t,n){if(t){var r=k.oneArrayIsStrictSubArrayOfOther(t,e),o=k.oneArrayIsSubArrayOfOther(n,e);return r&&o}return k.oneSetIsSubArrayOfOther(n,e)}function l(e){return-1===T.indexOf(e)}function f(e,t){var n=e[0],r=t[n];return void 0===r||!!Object.keys(r).some(function(e){return!l(e)})&&!(1===Object.keys(r).length&&"$ne"===S(r))}function d(e,t,n,r){var o=e.def.fields.map(S);return!!c(o,t,n)&&f(o,r)}function h(e,t,n,r){return r.reduce(function(r,o){return d(o,n,t,e)&&r.push(o),r},[])}function p(e,t,n,r){function o(e){for(var t=e.def.fields.map(S),n=0,r=0,o=t.length;r<o;r++){var i=t[r];u[i]&&n++}return n}var i=h(e,t,n,r);if(0===i.length){var a=r[0];return a.defaultUsed=!0,a}if(1===i.length)return i[0];var u=k.arrayToObject(t);return k.max(i,o)}function v(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function y(e,t){var n,r=S(t.def.fields[0]),o=e[r]||{},i=[],a=Object.keys(o);return a.forEach(function(e){if(l(e))return void i.push(r);var t=o[e],a=v(e,t);n=n?k.mergeObjects([n,a]):a}),{queryOpts:n,inMemoryFields:i}}function m(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function g(e,t){function n(e){!1!==r&&u.push(A),!1!==o&&s.push(j),a=i.slice(e)}for(var r,o,i=t.def.fields.map(S),a=[],u=[],s=[],c=0,f=i.length;c<f;c++){var d=i[c],h=e[d];if(!h){n(c);break}if(c>0){if(Object.keys(h).some(l)){n(c);break}var p="$gt"in h||"$gte"in h||"$lt"in h||"$lte"in h,v=Object.keys(e[i[c-1]]),y=k.arrayEquals(v,["$eq"]),g=k.arrayEquals(v,Object.keys(h));if(p&&!y&&!g){n(c);break}}for(var b=Object.keys(h),_=null,w=0;w<b.length;w++){var E=b[w],x=h[E],O=m(E,x);_=_?k.mergeObjects([_,O]):O}u.push("startkey"in _?_.startkey:A),s.push("endkey"in _?_.endkey:j),"inclusive_start"in _&&(r=_.inclusive_start),"inclusive_end"in _&&(o=_.inclusive_end)}var T={startkey:u,endkey:s};return void 0!==r&&(T.inclusive_start=r),void 0!==o&&(T.inclusive_end=o),{queryOpts:T,inMemoryFields:a}}function b(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}function _(e,t){return t.defaultUsed?b(e,t):1===t.def.fields.length?y(e,t):g(e,t)}function w(e,t){E("planning query",e);var n=e.selector,r=e.sort,o=O(n,r),i=o.fields,a=o.sortOrder,u=p(n,i,a,t),c=_(n,u),l=c.queryOpts,f=c.inMemoryFields,d=s(f,u,n,i),h={queryOpts:l,index:u,inMemoryFields:d};return E("query plan",h),h}var k=n(17),E=k.log,x=n(29),S=x.getKey,O=x.getUserFields,A=null,j={"￿":{}},T=["$eq","$gt","$gte","$lt","$lte"];e.exports=w},function(e,t,n){"use strict";function r(e){function t(t){return e.map(function(e){var n=k(e),r=x(n);return O(t,r)})}return function(e,n){var r=t(e.doc),o=t(n.doc),i=b(r,o);return 0!==i?i:S.compare(e.doc._id,n.doc._id)}}function o(e,t,n){if(e=e.filter(function(e){return i(e.doc,t.selector,n)}),t.sort){var o=r(t.sort);e=e.sort(o),"string"!=typeof t.sort[0]&&"desc"===E(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var a=t.skip||0,u=("limit"in t?t.limit:e.length)+a;e=e.slice(a,u)}return e}function i(e,t,n){return n.every(function(n){if(a(e))return!1;var r=t[n],o=x(n),i=O(e,o);return w(n)?s(n,r,e):u(r,e,o,i)})}function a(e){return/^_design\//.test(e._id)}function u(e,t,n,r){return!e||Object.keys(e).every(function(o){var i=e[o];return c(o,t,i,n,r)})}function s(e,t,n){return"$or"===e?t.some(function(e){return i(n,e,Object.keys(e))}):"$not"===e?!i(n,t,Object.keys(t)):!t.find(function(e){return i(n,e,Object.keys(e))})}function c(e,t,n,r,o){if(!A[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return A[e](t,n,r,o)}function l(e){return void 0!==e&&null!==e}function f(e){return void 0!==e}function d(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function h(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function p(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function v(e,t){return e.length===t}function y(e,t){return new RegExp(t).test(e)}function m(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var g=n(383),b=n(48).collate,_=n(29),w=_.isCombinationalField,k=_.getKey,E=_.getValue,x=_.parseField,S=n(17),O=S.getFieldFromDoc,A={$elemMatch:function(e,t,n,r){return!!g(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(e){return i(e,t,Object.keys(t))}):r.some(function(r){return u(t,e,n,r)})))},$eq:function(e,t,n,r){return f(r)&&0===b(r,t)},$gte:function(e,t,n,r){return f(r)&&b(r,t)>=0},$gt:function(e,t,n,r){return f(r)&&b(r,t)>0},$lte:function(e,t,n,r){return f(r)&&b(r,t)<=0},$lt:function(e,t,n,r){return f(r)&&b(r,t)<0},$exists:function(e,t,n,r){return t?f(r):!f(r)},$mod:function(e,t,n,r){return l(r)&&d(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==b(r,e)})},$in:function(e,t,n,r){return l(r)&&h(r,t)},$nin:function(e,t,n,r){return l(r)&&!h(r,t)},$size:function(e,t,n,r){return l(r)&&v(r,t)},$all:function(e,t,n,r){return g(r)&&p(r,t)},$regex:function(e,t,n,r){return l(r)&&y(r,t)},$type:function(e,t,n,r){return m(r,t)}};e.exports=o},function(e,t){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==r.call(e)}},function(e,t,n){"use strict";function r(e,t){function n(e){return 1===Object.keys(e.views).length&&e.views[a]?{_id:r,_deleted:!0}:(delete e.views[a],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,a=t.name;return i(e,r,n).then(function(){return o.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var o=n(77),i=n(183);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return void 0!==window.cordova&&void 0!==window.cordova.InAppBrowser};t.authenticateWithCordova=function(e){return r()?new Promise(function(t,n){var r=window.cordova.InAppBrowser.open(e,"_blank","clearcache=yes,zoom=no"),o=function(){r.removeEventListener("loadstart",i),r.removeEventListener("exit",a)},i=function(e){var n=e.url,i=/\?access_code=(.+)$/.test(n),a=/\?state=(.+)$/.test(n);(i||a)&&(t(n),o(),r.close())},a=function(){n(new Error("REGISTRATION_ABORT")),o(),r.close()};r.addEventListener("loadstart",i),r.addEventListener("exit",a)}):(console.log(e),new Promise(function(e){setTimeout(function(){var t=prompt("Paste the url here:");e(t)},1e4)}))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(8),f=n(34),d=n(74),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){var h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.fetchActions,t=this.context.store.dispatch;for(var n in e)t(e[n])}},{key:"render",value:function(){var e=this.context,t=e.t,r=e.f,o=e.client,i=e.store,u=this.props.fetchActions,s=a({t:t,f:r,client:o},this.props,(0,f.enhancePropsForActions)(this.props,u,i.dispatch));return c.default.createElement(n,s)}}]),t}(s.Component),p=function(t,n){var r=e(n),o=function(e){return e&&e.types&&e.promise},i=(0,d.filterValues)(r,function(e){return o(e)}),u=(0,d.filterValues)(r,function(e){return!o(e)});return function(e){return a({},(0,d.mapValues)(i,function(t){return o(t)?(0,f.applySelectorForAction)(e,t):t}),{fetchActions:i},u)}};return(0,l.connect)(p,t)(h)}};t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],a=n||t+"Subscription",s=function(e){function n(i,a){r(this,n);var u=o(this,e.call(this,i,a));return u[t]=i.store,u}return i(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[a]=null,e},n.prototype.render=function(){return u.Children.only(this.props.children)},n}(u.Component);return s.propTypes={store:l.a.isRequired,children:c.a.element.isRequired},s.childContextTypes=(e={},e[t]=l.a.isRequired,e[a]=l.b,e),s}t.a=a;var u=n(0),s=n(12),c=n.n(s),l=n(186);n(80);t.b=a()},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,n,f){if("string"!=typeof n){if(l){var d=c(n);d&&d!==l&&e(t,d,f)}var h=a(n);u&&(h=h.concat(u(n)));for(var p=0;p<h.length;++p){var v=h[p];if(!(r[v]||o[v]||f&&f[v])){var y=s(n,v);try{i(t,v,y)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}n.d(t,"a",function(){return u});var i=null,a={notify:function(){}},u=function(){function e(t,n,o){r(this,e),this.store=t,this.parentSub=n,this.onStateChange=o,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=o())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}()},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function i(e,t){return e===t}var a=n(187),u=n(391),s=n(392),c=n(407),l=n(408),f=n(409),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?a.a:t,h=e.mapStateToPropsFactories,p=void 0===h?c.a:h,v=e.mapDispatchToPropsFactories,y=void 0===v?s.a:v,m=e.mergePropsFactories,g=void 0===m?l.a:m,b=e.selectorFactory,_=void 0===b?f.a:b;return function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=s.pure,l=void 0===c||c,f=s.areStatesEqual,h=void 0===f?i:f,v=s.areOwnPropsEqual,m=void 0===v?u.a:v,b=s.areStatePropsEqual,w=void 0===b?u.a:b,k=s.areMergedPropsEqual,E=void 0===k?u.a:k,x=r(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=o(e,p,"mapStateToProps"),O=o(t,y,"mapDispatchToProps"),A=o(a,g,"mergeProps");return n(_,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:O,initMergeProps:A,pure:l,areStatesEqual:h,areOwnPropsEqual:m,areStatePropsEqual:w,areMergedPropsEqual:E},x))}}()},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}t.a=o;var i=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return"function"==typeof e?Object(u.b)(e,"mapDispatchToProps"):void 0}function o(e){return e?void 0:Object(u.a)(function(e){return{dispatch:e}})}function i(e){return e&&"object"==typeof e?Object(u.a)(function(t){return Object(a.bindActionCreators)(e,t)}):void 0}var a=n(22),u=n(192);t.a=[r,o,i]},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?s:u:c&&c in Object(e)?Object(i.a)(e):Object(a.a)(e)}var o=n(189),i=n(396),a=n(397),u="[object Null]",s="[object Undefined]",c=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";var r=n(395),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(21))},function(e,t,n){"use strict";function r(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[s]=n:delete e[s]),o}var o=n(189),i=Object.prototype,a=i.hasOwnProperty,u=i.toString,s=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return i.call(e)}var o=Object.prototype,i=o.toString;t.a=r},function(e,t,n){"use strict";var r=n(399),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){e.exports=n(402)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(403),a=function(e){return e&&e.__esModule?e:{default:e}}(i);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var u=(0,a.default)(o);t.default=u}).call(t,n(21),n(236)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function i(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var a=t[i];"function"==typeof e[a]&&(n[a]=e[a])}var u=Object.keys(n),s=void 0;try{o(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var o=!1,i={},a=0;a<u.length;a++){var c=u[a],l=n[c],f=e[c],d=l(f,t);if(void 0===d){var h=r(c,t);throw new Error(h)}i[c]=d,o=o||d!==f}return o?i:e}}t.a=i;var a=n(188);n(81),n(190)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},i=0;i<n.length;i++){var a=n[i],u=e[a];"function"==typeof u&&(o[a]=r(u,t))}return o}t.a=o},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var u=e(n,r,a),s=u.dispatch,c=[],l={getState:u.getState,dispatch:function(e){return s(e)}};return c=t.map(function(e){return e(l)}),s=o.a.apply(void 0,c)(u.dispatch),i({},u,{dispatch:s})}}}t.a=r;var o=n(191),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){return"function"==typeof e?Object(i.b)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:Object(i.a)(function(){return{}})}var i=n(192);t.a=[r,o]},function(e,t,n){"use strict";function r(e,t,n){return u({},n,e,t)}function o(e){return function(t,n){var r=(n.displayName,n.pure),o=n.areMergedPropsEqual,i=!1,a=void 0;return function(t,n,u){var s=e(t,n,u);return i?r&&o(s,a)||(a=s):(i=!0,a=s),a}}}function i(e){return"function"==typeof e?o(e):void 0}function a(e){return e?void 0:function(){return r}}var u=(n(193),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.a=[i,a]},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function i(e,t,n,r,o){function i(o,i){return p=o,v=i,y=e(p,v),m=t(r,v),g=n(y,m,v),h=!0,g}function a(){return y=e(p,v),t.dependsOnOwnProps&&(m=t(r,v)),g=n(y,m,v)}function u(){return e.dependsOnOwnProps&&(y=e(p,v)),t.dependsOnOwnProps&&(m=t(r,v)),g=n(y,m,v)}function s(){var t=e(p,v),r=!d(t,y);return y=t,r&&(g=n(y,m,v)),g}function c(e,t){var n=!f(t,v),r=!l(e,p);return p=e,v=t,n&&r?a():n?u():r?s():g}var l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,h=!1,p=void 0,v=void 0,y=void 0,m=void 0,g=void 0;return function(e,t){return h?c(e,t):i(e,t)}}function a(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,u=t.initMergeProps,s=r(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(e,s),l=a(e,s),f=u(e,s);return(s.pure?i:o)(c,l,f,e,s)}t.a=a;n(410)},function(e,t,n){"use strict";n(80)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(u){var s=u.promise,c=u.type,l=u.types,f=r(u,["promise","type","types"]);if(!s)return t(u);if(!c&&!l)return s(e,n,a).then(function(e){return n(e)});if(c)return s(e,n,a).then(function(e){return t(i({},f,{response:e,type:c})),e});var d=o(l,3),h=d[0],p=d[1],v=d[2];return t(i({},f,{type:h})),s(e,n,a).then(function(e){return t(i({},f,{response:e,type:p})),e},function(e){console.log(e),t(i({},f,{error:e,type:v}))}).catch(function(e){console.error("MIDDLEWARE ERROR:",e),t(i({},f,{error:e,type:v}))})}}}};t.default=a},function(e,t,n){"use strict";(function(t){var r=n(23),o=n(413),i={_isShim:!0,track:function(){},push:function(e){},trackError:function(e){},connectToHistory:function(e){return e},disconnectFromHistory:function(){}},a=null,u=null,s=function(e){if(e=e||{},e.trackErrors=void 0!==e.trackErrors&&e.trackErrors,e.enableLinkTracking=void 0===e.enableLinkTracking||e.enableLinkTracking,e.updateDocumentTitle=void 0===e.updateDocumentTitle||e.updateDocumentTitle,e.ignoreInitialVisit=void 0!==e.ignoreInitialVisit&&e.ignoreInitialVisit,e.injectScript=void 0===e.injectScript||e.injectScript,e.clientTrackerName=void 0!==e.clientTrackerName?e.clientTrackerName:"piwik.js",e.serverTrackerName=void 0!==e.serverTrackerName?e.serverTrackerName:"piwik.php",!e.url||!e.siteId)return"test"!==function(){return t&&t.env?"production".toLowerCase():"development"}()&&r(null,"PiwikTracker cannot be initialized! You haven't passed a url and siteId to it."),i;window._paq=window._paq||[];var n=function(t){var n;n=t.path?t.path:t.basename?o(t.basename,t.pathname,t.search):o(t.pathname,t.search),a!==n&&(e.updateDocumentTitle&&s(["setDocumentTitle",document.title]),s(["setCustomUrl",n]),s(["trackPageView"]),a=n)},s=function(e){window._paq.push(e)},c=function(e,t){t=t||"JavaScript Error",s(["trackEvent",t,e.message,e.filename+": "+e.lineno])},l=function(t){return u=t.listen(function(e){n(e)}),!e.ignoreInitialVisit&&t.location&&n(t.location),t},f=function(){return!!u&&(u(),!0)};return e.trackErrors&&(window.addEventListener?window.addEventListener("error",c,!1):window.attachEvent?window.attachEvent("onerror",c):window.onerror=c),function(){if(-1!==e.url.indexOf("http://")||-1!==e.url.indexOf("https://"))var t=e.url+"/";else var t="https:"==document.location.protocol?"https://"+e.url+"/":"http://"+e.url+"/";if(s(["setSiteId",e.siteId]),s(["setTrackerUrl",t+e.serverTrackerName]),e.userId&&s(["setUserId",e.userId]),e.enableLinkTracking&&s(["enableLinkTracking"]),e.injectScript){var n=document,r=n.createElement("script"),o=n.getElementsByTagName("script")[0];r.type="text/javascript",r.defer=!0,r.async=!0,r.src=t+e.clientTrackerName,o.parentNode.insertBefore(r,o)}}(),{_isShim:!1,track:n,push:s,trackError:c,connectToHistory:l,disconnectFromHistory:f}};"undefined"==typeof window?e.exports=function(){return i}:e.exports=s}).call(t,n(18))},function(e,t,n){var r,o;!function(i,a,u){void 0!==e&&e.exports?e.exports=u():(r=u,void 0!==(o="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o))}(0,0,function(){function e(e,t){return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/(\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&")}return function(){var t=arguments,n={};return"object"==typeof arguments[0]&&(t=arguments[0],n=arguments[1]||{}),e([].slice.call(t,0).join("/"),n)}})},,function(e,t){e.exports={"coz-spinner":"coz-spinner--6cG0u","coz-spinner--blue":"coz-spinner--blue--1fL-n","coz-spinner--grey":"coz-spinner--grey--1Nk96","coz-spinner--white":"coz-spinner--white--2AN8H","coz-spinner--red":"coz-spinner--red--TAJ8V","coz-spinner--tiny":"coz-spinner--tiny--3X4-A","coz-spinner--small":"coz-spinner--small--AWitf","coz-spinner--medium":"coz-spinner--medium--JCb_v","coz-spinner--large":"coz-spinner--large--2QW6o","coz-spinner--xlarge":"coz-spinner--xlarge--1oC3p","coz-spinner--xxlarge":"coz-spinner--xxlarge--3rzJm",spin:"spin--3DZqI","coz-spinner--middle":"coz-spinner--middle--3u_lQ","coz-spinner--nomargin":"coz-spinner--nomargin--3KjGZ"}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.openOfflineFile=t.saveAndOpenWithCordova=t.temporarySave=t.saveFileWithCordova=t.deleteOfflineFile=t.writeFile=t.getDirectory=t.createCozyPath=t.getCozyEntry=t.getEntry=t.getCozyPath=t.getTemporaryRootPath=t.getRootPath=void 0;var o=n(84),i=t.getRootPath=function(){return(0,o.isAndroid)()?window.cordova.file.externalRootDirectory:window.cordova.file.dataDirectory},a=t.getTemporaryRootPath=function(){return(0,o.isAndroid)()?window.cordova.file.externalCacheDirectory:window.cordova.file.cacheDirectory},u=t.getCozyPath=function(){return"Cozy/Cozy Drive/"},s=t.getEntry=function(e){return new Promise(function(t,n){window.resolveLocalFileSystemURL(e,t,n)})},c=t.getCozyEntry=function(){return new Promise(function(e,t){s(i()+u()).then(e).catch(function(){l().then(e).catch(t)})})},l=t.createCozyPath=function(){return new Promise(function(e,t){s(i()).then(function(n){f(n,"Cozy").then(function(n){f(n,"Cozy Drive").then(e).catch(t)}).catch(t)}).catch(t)})},f=t.getDirectory=function(e,t){return new Promise(function(n,r){e.getDirectory(t,{create:!0},n,function(e){console.warn("Error to get directory",t),console.warn(e),r("Error to get directory")})})},d=t.writeFile=function(e,t){return new Promise(function(n,r){e.createWriter(function(o){o.onwriteend=function(){n(e)},o.onerror=function(e){console.warn("Error to write file"),console.warn(e),r("Error to write file")},o.write(t)})})},h=function(e,t,n){return new Promise(function(r,o){e.getFile(n,{create:!0,exclusive:!1},function(e){d(e,t).then(function(){r(e)}).catch(o)},function(e){console.warn("Error to get file"),console.warn(e),o("Error to get file")})})},p=function(e,t){return new Promise(function(n,r){window.cordova.plugins.fileOpener2.open(decodeURIComponent(e),t,{error:r,success:n})})},v=(t.deleteOfflineFile=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return n=e.sent,e.next=5,s(""+n.nativeURL+t);case 5:return r=e.sent,e.abrupt("return",r.remove());case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveFileWithCordova=function(e,t){return new Promise(function(n,r){c().then(function(n){return h(n,e,t)}).then(n).catch(r)})},t.temporarySave=function(e,t){return new Promise(function(n,r){s(a()).then(function(n){return h(n,e,t)}).then(n).catch(r)})});t.saveAndOpenWithCordova=function(e,t){return new Promise(function(n,r){v(e,t).then(function(t){return p(decodeURIComponent(t.nativeURL),e.type)}).then(n).catch(r)})},t.openOfflineFile=function(e){return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n,r){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:return o=t.sent,t.next=5,s(""+o.nativeURL+e.id);case 5:return i=t.sent,t.abrupt("return",p(i.nativeURL,e.mime).then(n).catch(r));case 7:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openWithNoAppError=t.openWithOfflineError=t.createError=t.OPEN_WITH_NO_APP_ERROR=t.OPEN_WITH_OFFLINE_ERROR=void 0;var r=n(28),o=t.OPEN_WITH_OFFLINE_ERROR="mobile.error.open_with.offline",i=t.OPEN_WITH_NO_APP_ERROR="mobile.error.open_with.noapp",a=t.createError=function(e,t){return{type:e,alert:{message:t,level:"error"},meta:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}}};t.openWithOfflineError=function(e){return a(r.OPEN_FILE_E_OFFLINE,o,e)},t.openWithNoAppError=function(e){return a(r.OPEN_FILE_E_NO_APP,i,e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1),o=n(209),i=n(251),a=n(7),u=n(54),s=n(16),c=n(4),l=n(6).ArrayBuffer,f=n(216),d=i.ArrayBuffer,h=i.DataView,p=o.ABV&&l.isView,v=d.prototype.slice,y=o.VIEW;r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!o.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||c(e)&&y in e}}),r(r.P+r.U+r.F*n(11)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(a(this),e);for(var n=a(this).byteLength,r=u(e,n),o=u(void 0===t?n:t,n),i=new(f(this,d))(s(o-r)),c=new h(this),l=new h(i),p=0;r<o;)l.setUint8(p++,c.getUint8(r++));return i}}),n(86)("ArrayBuffer")},function(e,t,n){n(32)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(14),o=n(7),i=n(46);e.exports=n(19)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(449);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(4),o=n(255),i=n(9)("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(67),o=n(41),i=n(55),a={};n(24)(a,n(9)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){n(32)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(32)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(32)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(32)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(32)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(32)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(32)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(32)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r=n(259),o=n(59);e.exports=n(89)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(4),o=n(221).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){"use strict";var r=n(259),o=n(59);e.exports=n(89)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,o=n(68)(0),i=n(35),a=n(36),u=n(261),s=n(262),c=n(4),l=n(11),f=n(59),d=a.getWeak,h=Object.isExtensible,p=s.ufstore,v={},y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(e){if(c(e)){var t=d(e);return!0===t?p(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(f(this,"WeakMap"),e,t)}},g=e.exports=n(89)("WeakMap",y,m,s,!0,!0);l(function(){return 7!=(new g).set((Object.freeze||Object)(v),7).get(v)})&&(r=s.getConstructor(y,"WeakMap"),u(r.prototype,m),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=g.prototype,n=t[e];i(t,e,function(t,o){if(c(t)&&!h(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)})}))},function(e,t,n){"use strict";var r=n(262),o=n(59);n(89)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){var r=n(1),o=n(43),i=n(7),a=(n(6).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n(11)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),s=i(n);return a?a(r,t,s):u.call(r,t,s)}})},function(e,t,n){var r=n(1),o=n(67),i=n(43),a=n(7),u=n(4),s=n(11),c=n(466),l=(n(6).Reflect||{}).construct,f=s(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!s(function(){l(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var s=n.prototype,h=o(u(s)?s:Object.prototype),p=Function.apply.call(e,h,t);return u(p)?p:h}})},function(e,t,n){"use strict";var r=n(43),o=n(4),i=n(263),a=[].slice,u={},s=function(e,t,n){if(!(t in u)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?s(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(u.prototype=t.prototype),u}},function(e,t,n){var r=n(14),o=n(1),i=n(7),a=n(65);o(o.S+o.F*n(11)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(1),o=n(33).f,i=n(7);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){function r(e,t){var n,u,l=arguments.length<3?e:arguments[2];return c(e)===l?e[t]:(n=o.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:s(u=i(e))?r(u,t,l):void 0}var o=n(33),i=n(57),a=n(20),u=n(1),s=n(4),c=n(7);u(u.S,"Reflect",{get:r})},function(e,t,n){var r=n(33),o=n(1),i=n(7);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(1),o=n(57),i=n(7);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(1);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(1),o=n(7),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(1);r(r.S,"Reflect",{ownKeys:n(264)})},function(e,t,n){var r=n(1),o=n(7),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var s,d,h=arguments.length<4?e:arguments[3],p=i.f(l(e),t);if(!p){if(f(d=a(e)))return r(d,t,n,h);p=c(0)}return u(p,"value")?!(!1===p.writable||!f(h))&&(s=i.f(h,t)||c(0),s.value=n,o.f(h,t,s),!0):void 0!==p.set&&(p.set.call(h,n),!0)}var o=n(14),i=n(33),a=n(57),u=n(20),s=n(1),c=n(41),l=n(7),f=n(4);s(s.S,"Reflect",{set:r})},function(e,t,n){var r=n(1),o=n(221);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r,o,i,a,u=n(50),s=n(6),c=n(30),l=n(217),f=n(1),d=n(4),h=n(43),p=n(52),v=n(88),y=n(216),m=n(222).set,g=n(479)(),b=n(265),_=n(480),w=n(481),k=s.TypeError,E=s.process,x=s.Promise,S="process"==l(E),O=function(){},A=o=b.f,j=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[n(9)("species")]=function(e){e(O,O)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t}catch(e){}}(),T=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,a=o?t.ok:t.fail,u=t.resolve,s=t.reject,c=t.domain;try{a?(o||(2==e._h&&R(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?s(k("Promise-chain cycle")):(i=T(n))?i.call(n,u,s):u(n)):s(r)}catch(e){s(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&C(e)})}},C=function(e){m.call(s,function(){var t,n,r,o=e._v,i=M(e);if(i&&(t=_(function(){S?E.emit("unhandledRejection",o,e):(n=s.onunhandledrejection)?n({promise:e,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=S||M(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},M=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!M(t.promise))return!1;return!0},R=function(e){m.call(s,function(){var t;S?E.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},I=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},P=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=T(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,c(P,r,1),c(I,r,1))}catch(e){I.call(r,e)}}):(n._v=e,n._s=1,D(n,!1))}catch(e){I.call({_w:n,_d:!1},e)}}};j||(x=function(e){p(this,x,"Promise","_h"),h(e),r.call(this);try{e(c(P,this,1),c(I,this,1))}catch(e){I.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(51)(x.prototype,{then:function(e,t){var n=A(y(this,x));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(P,e,1),this.reject=c(I,e,1)},b.f=A=function(e){return e===x||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!j,{Promise:x}),n(55)(x,"Promise"),n(86)("Promise"),a=n(49).Promise,f(f.S+f.F*!j,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(u||!j),"Promise",{resolve:function(e){return w(u&&this===a?x:this,e)}}),f(f.S+f.F*!(j&&n(87)(function(e){x.all(e).catch(O)})),"Promise",{all:function(e){var t=this,n=A(t),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,a=1;v(e,!1,function(e){var u=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,o=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){var r=n(6),o=n(222).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(53)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(i){var l=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(u&&u.resolve){var d=u.resolve();n=function(){d.then(c)}}else n=function(){o.call(r,c)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(7),o=n(4),i=n(265);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(6),o=n(20),i=n(19),a=n(1),u=n(35),s=n(36).KEY,c=n(11),l=n(213),f=n(55),d=n(42),h=n(9),p=n(266),v=n(483),y=n(484),m=n(255),g=n(7),b=n(26),_=n(65),w=n(41),k=n(67),E=n(267),x=n(33),S=n(14),O=n(46),A=x.f,j=S.f,T=E.f,D=r.Symbol,C=r.JSON,M=C&&C.stringify,R=h("_hidden"),I=h("toPrimitive"),P={}.propertyIsEnumerable,N=l("symbol-registry"),F=l("symbols"),z=l("op-symbols"),L=Object.prototype,q="function"==typeof D,B=r.QObject,U=!B||!B.prototype||!B.prototype.findChild,Y=i&&c(function(){return 7!=k(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=A(L,t);r&&delete L[t],j(e,t,n),r&&e!==L&&j(L,t,r)}:j,H=function(e){var t=F[e]=k(D.prototype);return t._k=e,t},$=q&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},W=function(e,t,n){return e===L&&W(z,t,n),g(e),t=_(t,!0),g(n),o(F,t)?(n.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),n=k(n,{enumerable:w(0,!1)})):(o(e,R)||j(e,R,w(1,{})),e[R][t]=!0),Y(e,t,n)):j(e,t,n)},G=function(e,t){g(e);for(var n,r=y(t=b(t)),o=0,i=r.length;i>o;)W(e,n=r[o++],t[n]);return e},V=function(e,t){return void 0===t?k(e):G(k(e),t)},X=function(e){var t=P.call(this,e=_(e,!0));return!(this===L&&o(F,e)&&!o(z,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,R)&&this[R][e])||t)},J=function(e,t){if(e=b(e),t=_(t,!0),e!==L||!o(F,t)||o(z,t)){var n=A(e,t);return!n||!o(F,t)||o(e,R)&&e[R][t]||(n.enumerable=!0),n}},K=function(e){for(var t,n=T(b(e)),r=[],i=0;n.length>i;)o(F,t=n[i++])||t==R||t==s||r.push(t);return r},Q=function(e){for(var t,n=e===L,r=T(n?z:b(e)),i=[],a=0;r.length>a;)!o(F,t=r[a++])||n&&!o(L,t)||i.push(F[t]);return i};q||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===L&&t.call(z,n),o(this,R)&&o(this[R],e)&&(this[R][e]=!1),Y(this,e,w(1,n))};return i&&U&&Y(L,e,{configurable:!0,set:t}),H(e)},u(D.prototype,"toString",function(){return this._k}),x.f=J,S.f=W,n(66).f=E.f=K,n(69).f=X,n(90).f=Q,i&&!n(50)&&u(L,"propertyIsEnumerable",X,!0),p.f=function(e){return H(h(e))}),a(a.G+a.W+a.F*!q,{Symbol:D});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)h(Z[ee++]);for(var te=O(h.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return o(N,e+="")?N[e]:N[e]=D(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!q,"Object",{create:V,defineProperty:W,defineProperties:G,getOwnPropertyDescriptor:J,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),C&&a(a.S+a.F*(!q||c(function(){var e=D();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!$(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&m(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,M.apply(C,r)}}}),D.prototype[I]||n(24)(D.prototype,I,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(6),o=n(49),i=n(50),a=n(266),u=n(14).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(46),o=n(90),i=n(69);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,u=n(e),s=i.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,n){var r=n(4),o=n(36).onFreeze;n(27)("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(4),o=n(36).onFreeze;n(27)("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(4),o=n(36).onFreeze;n(27)("preventExtensions",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(4);n(27)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(4);n(27)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(4);n(27)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(26),o=n(33).f;n(27)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(31),o=n(57);n(27)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(31),o=n(46);n(27)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(27)("getOwnPropertyNames",function(){return n(267).f})},function(e,t,n){var r=n(1);r(r.S+r.F,"Object",{assign:n(261)})},function(e,t,n){var r=n(1);r(r.S,"Object",{is:n(497)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(1);r(r.S,"Object",{setPrototypeOf:n(221).set})},function(e,t,n){var r=n(14).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(19)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){var r=n(1),o=n(26),i=n(16);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],u=0;n>u;)a.push(String(t[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},function(e,t,n){var r=n(1),o=n(54),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(1),o=n(503)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){var r=n(44),o=n(45);e.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s),i<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536)}}},function(e,t,n){var r=n(1);r(r.P,"String",{repeat:n(268)})},function(e,t,n){"use strict";var r=n(1),o=n(16),i=n(223),a="".startsWith;r(r.P+r.F*n(224)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";var r=n(1),o=n(16),i=n(223),a="".endsWith;r(r.P+r.F*n(224)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),u=void 0===n?r:Math.min(o(n),r),s=String(e);return a?a.call(t,s,u):t.slice(u-s.length,u)===s}})},function(e,t,n){"use strict";var r=n(1),o=n(223);r(r.P+r.F*n(224)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(19)&&"g"!=/./g.flags&&n(14).f(RegExp.prototype,"flags",{configurable:!0,get:n(509)})},function(e,t,n){"use strict";var r=n(7);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){n(91)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(91)("replace",2,function(e,t,n){return[function(r,o){"use strict";var i=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},n]})},function(e,t,n){n(91)("split",2,function(e,t,r){"use strict";var o=n(269),i=r,a=[].push,u="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[u]||2!="ab".split(/(?:ab)*/)[u]||4!=".".split(/(.?)(.?)/)[u]||".".split(/()()/)[u]>1||"".split(/.?/)[u]){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!o(e))return i.call(n,e,t);var r,c,l,f,d,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,y=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,p+"g");for(s||(r=new RegExp("^"+m.source+"$(?!\\s)",p));(c=m.exec(n))&&!((l=c.index+c[0][u])>v&&(h.push(n.slice(v,c.index)),!s&&c[u]>1&&c[0].replace(r,function(){for(d=1;d<arguments[u]-2;d++)void 0===arguments[d]&&(c[d]=void 0)}),c[u]>1&&c.index<n[u]&&a.apply(h,c.slice(1)),f=c[0][u],v=l,h[u]>=y));)m.lastIndex===c.index&&m.lastIndex++;return v===n[u]?!f&&m.test("")||h.push(""):h.push(n.slice(v)),h[u]>y?h.slice(0,y):h}}else"0".split(void 0,0)[u]&&(r=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(n,o){var i=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i,o):r.call(String(i),n,o)},r]})},function(e,t,n){n(91)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";var r=n(30),o=n(1),i=n(31),a=n(260),u=n(218),s=n(16),c=n(225),l=n(219);o(o.S+o.F*!n(87)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=i(e),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,m=0,g=l(d);if(y&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==g||h==Array&&u(g))for(t=s(d.length),n=new h(t);t>m;m++)c(n,m,y?v(d[m],m):d[m]);else for(f=g.call(d),n=new h;!(o=f.next()).done;m++)c(n,m,y?a(f,v,[o.value,m],!0):o.value);return n.length=m,n}})},function(e,t,n){"use strict";var r=n(1),o=n(225);r(r.S+r.F*n(11)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){var r=n(1);r(r.P,"Array",{copyWithin:n(258)}),n(58)("copyWithin")},function(e,t,n){"use strict";var r=n(1),o=n(68)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(58)("find")},function(e,t,n){"use strict";var r=n(1),o=n(68)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(58)(i)},function(e,t,n){var r=n(1);r(r.P,"Array",{fill:n(215)}),n(58)("fill")},function(e,t,n){var r=n(1),o=n(6).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(1);r(r.S,"Number",{isInteger:n(270)})},function(e,t,n){var r=n(1),o=n(270),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(1);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(1);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(1);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(1);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(1),o=n(271),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var o=n(1),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(1),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(1),o=n(226);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(1);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(1),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(1),o=n(227);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,n){var r=n(1);r(r.S,"Math",{fround:n(535)})},function(e,t,n){var r=n(226),o=Math.pow,i=o(2,-52),a=o(2,-23),u=o(2,127)*(2-a),s=o(2,-126),c=function(e){return e+1/i-1/i};e.exports=Math.fround||function(e){var t,n,o=Math.abs(e),l=r(e);return o<s?l*c(o/s/a)*s*a:(t=(1+a/i)*o,n=t-(t-o),n>u||n!=n?l*(1/0):l*n)}},function(e,t,n){var r=n(1),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,u=arguments.length,s=0;a<u;)n=o(arguments[a++]),s<n?(r=s/n,i=i*r*r+1,s=n):n>0?(r=n/s,i+=r*r):i+=n;return s===1/0?1/0:s*Math.sqrt(i)}})},function(e,t,n){var r=n(1),o=Math.imul;r(r.S+r.F*n(11)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(1);r(r.S,"Math",{log1p:n(271)})},function(e,t,n){var r=n(1);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(1);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(1);r(r.S,"Math",{sign:n(226)})},function(e,t,n){var r=n(1),o=n(227),i=Math.exp;r(r.S+r.F*n(11)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(1),o=n(227),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(1);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){"use strict";var r=n(1),o=n(211)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(58)("includes")},function(e,t,n){var r=n(1),o=n(272)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(1),o=n(272)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){var r=n(1),o=n(264),i=n(26),a=n(33),u=n(225);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),s=a.f,c=o(r),l={},f=0;c.length>f;)void 0!==(n=s(r,t=c[f++]))&&u(l,t,n);return l}})},function(e,t,n){"use strict";var r=n(1),o=n(273);r(r.P,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(1),o=n(273);r(r.P,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){var r=n(6),o=n(1),i=r.navigator,a=[].slice,u=!!i&&/MSIE .\./.test(i.userAgent),s=function(e){return function(t,n){var r=arguments.length>2,o=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};o(o.G+o.B+o.F*u,{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(e,t,n){var r=n(1),o=n(222);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){for(var r=n(220),o=n(46),i=n(35),a=n(6),u=n(24),s=n(56),c=n(9),l=c("iterator"),f=c("toStringTag"),d=s.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(h),v=0;v<p.length;v++){var y,m=p[v],g=h[m],b=a[m],_=b&&b.prototype;if(_&&(_[l]||u(_,l,d),_[f]||u(_,f,m),s[m]=d,g))for(y in r)_[y]||i(_,y,r[y],!0)}},function(e,t,n){(function(t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),u=new h(r||[]);return a._invoke=c(e,n,u),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function n(t,o,i,a){var u=r(e[t],e,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,i,a)},function(e){n("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}function o(e,t){function r(){return new Promise(function(r,o){n(e,t,r,o)})}return i=i?i.then(r,r):r()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var i;this._invoke=o}function c(e,t,n){var o=S;return function(i,a){if(o===A)throw new Error("Generator is already running");if(o===j){if("throw"===i)throw a;return v()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=l(u,n);if(s){if(s===T)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===S)throw o=j,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=A;var c=r(e,t,n);if("normal"===c.type){if(o=n.done?j:O,c.arg===T)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=j,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,l(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,T;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,T):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function p(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:v}}function v(){return{value:y,done:!0}}var y,m=Object.prototype,g=m.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",k=b.toStringTag||"@@toStringTag",E="object"==typeof e,x=t.regeneratorRuntime;if(x)return void(E&&(e.exports=x));x=t.regeneratorRuntime=E?e.exports:{},x.wrap=n;var S="suspendedStart",O="suspendedYield",A="executing",j="completed",T={},D={};D[_]=function(){return this};var C=Object.getPrototypeOf,M=C&&C(C(p([])));M&&M!==m&&g.call(M,_)&&(D=M);var R=a.prototype=o.prototype=Object.create(D);i.prototype=R.constructor=a,a.constructor=i,a[k]=i.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(R),e},x.awrap=function(e){return{__await:e}},u(s.prototype),s.prototype[w]=function(){return this},x.AsyncIterator=s,x.async=function(e,t,r,o){var i=new s(n(e,t,r,o));return x.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(R),R[k]="Generator",R[_]=function(){return this},R.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},x.values=p,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),u=g.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,T):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;d(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),T}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(21))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(445),n(446),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(461),n(462),n(463),n(464),n(465),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(482),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(498),n(499),n(500),n(501),n(502),n(504),n(505),n(506),n(507),n(508),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(220),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554);var o=n(0),i=r(o),a=n(0),u=n(731),s=r(u),c=n(5),l=n(34),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["var","val"];return e[t[0]]=t[1],e},d=function(){return window.location.search.substring(1).split("&").map(function(e){return e.split("=")}).reduce(f,{})};document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("[role=application]"),t=e.dataset,r=window.location?window.location.protocol:"https:",o=r+"//"+t.cozyDomain,u=d(),f=u.intent,h=new l.CozyClient({cozyURL:o,token:t.cozyToken,offline:{doctypes:["io.cozy.files"]}});(0,a.render)(i.default.createElement(c.I18n,{lang:t.cozyLocale,dictRequire:function(e){return n(249)("./"+e)}},i.default.createElement(l.CozyProvider,{client:h},i.default.createElement(s.default,{intentId:f}))),e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(732),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(733),d=r(f),h=n(736),p=r(h),v=n(737),y=r(v),m=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={component:null,service:null,intent:null},t}return u(n,t),s(n,[{key:"componentDidMount",value:function(){this.startService()}},{key:"startService",value:function(){function t(){return n.apply(this,arguments)}var n=o(regeneratorRuntime.mark(function t(){var n,r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.props.intentId,r=void 0,o=void 0,i=void 0,t.prev=4,t.next=7,e.intents.createService(n,window);case 7:o=t.sent,i=o.getIntent(),"OPEN"===i.attributes.action&&"io.cozy.suggestions"===i.attributes.type?r=y.default:"OPEN"===i.attributes.action&&"io.cozy.files"===i.attributes.type?r=d.default:"GET_URL"===i.attributes.action&&(r=p.default),this.setState({component:r,service:o,intent:i}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),o.throw(t.t0);case 16:case"end":return t.stop()}},t,this,[[4,13]])}));return t}()},{key:"render",value:function(){var e=this.state,t=e.service,n=e.intent,r=this.state.component;return r?l.default.createElement(r,{service:t,intent:n}):null}}]),n}(l.default.Component);t.default=m}).call(t,n(10))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(734),d=r(f),h=n(735),p=r(h),v=n(39),y=r(v),m=n(28),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0},n}return u(t,e),s(t,[{key:"componentDidMount",value:function(){this.fetchFileUrl()}},{key:"fetchFileUrl",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.service,e.prev=1,n=t.getData(),r=n.id,e.next=5,(0,m.getFileDownloadUrl)(r);case 5:o=e.sent,this.setState({url:o,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return e}()},{key:"render",value:function(){return l.default.createElement("div",null,this.state.loading&&l.default.createElement(y.default,{size:"xxlarge",loadingType:"message",middle:"true"}),this.state.error&&l.default.createElement("pre",{className:p.default["u-error"]},this.state.error.toString()),this.state.url&&l.default.createElement("embed",{className:d.default.fullscreen,src:this.state.url}))}}]),t}(l.default.Component);t.default=g},function(e,t){e.exports={fullscreen:"fullscreen--3m0DF"}},function(e,t){e.exports={"coz-error":"coz-error--CT7gL","u-error":"u-error--J1phh","coz-error--warning":"coz-error--warning--2e0T_","u-error--warning":"u-error--warning--kZNzZ","u-valid":"u-valid--2lgzX","u-warn":"u-warn--29Vd4"}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(28),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.getURL()}},{key:"getURL",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.service,e.prev=1,n=t.getData(),r=n.id,e.next=5,(0,l.getFileDownloadUrl)(r);case 5:o=e.sent,t.terminate({url:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.throw(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return e}()}]),t}(c.default.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(738),d=r(f),h=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.intent;this.hasIndexedFiles=!1,window.addEventListener("message",function(n){if(n.origin!==t.attributes.client)return null;var r=n.data.query;e.provideSuggestions(r,t)}),this.context.client.startReplicationFrom(function(){})}},{key:"provideSuggestions",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasIndexedFiles){e.next=3;break}return e.next=3,this.indexFiles();case 3:r=this.fuzzyPathSearch.search(t),window.parent.postMessage({type:"intent-"+n._id+":data",suggestions:r.map(function(e){return{id:e.id,title:e.name,subtitle:e.path,term:e.name,onSelect:"open:"+e.url}})},n.attributes.client);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"indexFiles",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=o(regeneratorRuntime.mark(function e(n){var r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.context.client.fetchDocuments("files","io.cozy.files");case 2:r=e.sent,o=r.data,i=o.filter(function(e){return"directory"===e.type}),a=o.filter(function(e){return!1===e.trashed}).map(function(e){var t="directory"===e.type,n=t?e._id:e.dir_id,r=void 0;if(t)r=e.path;else{var o=i.find(function(t){return t._id===e.dir_id});r=o&&o.path?o.path:""}return{id:e._id,name:e.name,path:r,url:window.location.origin+"/#/folder/"+n}}),t.fuzzyPathSearch=new d.default(a),t.hasIndexedFiles=!0,n();case 9:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return e}()}]),t}(l.default.Component);t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(739),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,e),this.files=t,this.previousQuery=[],this.previousSuggestions=t}return o(e,[{key:"search",value:function(e){if(!e)return[];var t=(0,i.remove)(e.replace(/\//g," ").trim().toLowerCase()).split(" "),n=t.map(function(e){return{word:e,isAugmentedWord:!1,isNewWord:!0}}),r=this.isAugmentingPreviousQuery(n),o=r?this.sortQueryByRevelance(n):this.sortQuerybyLength(n),a=void 0;return a=r&&0!==this.previousSuggestions.length?this.filterAndScore(this.previousSuggestions,o.map(function(e){return e.word})):this.filterAndScore(this.files,o.map(function(e){return e.word})),this.previousQuery=o,this.previousSuggestions=a,a}},{key:"isAugmentingPreviousQuery",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=!1,s=!0,c=!1,l=void 0;try{for(var f,d=this.previousQuery[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var h=f.value;if(a.word.includes(h.word)){u=!0;break}}}catch(e){c=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw l}}if(!1===u)return!1}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return!0}},{key:"sortQueryByRevelance",value:function(e){var t=[],n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=!0,l=!1,f=void 0;try{for(var d,h=this.previousQuery[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=d.value;s.word.includes(p.word)&&(s.word!==p.word?(s.isAugmentedWord=!0,t.push(s)):(s.isNewWord=!1,n.push(s)))}}catch(e){l=!0,f=e}finally{try{!c&&h.return&&h.return()}finally{if(l)throw f}}t.push(s)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return this.sortQuerybyLength(t).concat(this.sortQuerybyLength(n))}},{key:"sortQuerybyLength",value:function(e){return e.sort(function(e,t){return t.word.length-e.word.length})}},{key:"filterAndScore",value:function(e,t){var n=[];return e.forEach(function(e){var r=0,o=!0,a=!1,u=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){for(var l=s.value,f=0,d=1e4,h=!0,p=(0,i.remove)((e.path+"/"+e.name).toLowerCase()).split("/"),v=p.length,y=0;y<v;++y){var m=p[y];m.includes(l)?(h?(d=52428800,f+=d/2*(1+l.length/m.length),h=!1):f-=d*(1-l.length/m.length),d/=2):(f-=d,d/=2,y===v-1&&(f/=2)),d/=2}if(f<0)return;r+=f}}catch(e){a=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw u}}r>0&&n.push({file:e,score:r})}),n.sort(function(e,t){var n=e.score-t.score;return 0!==n?n:e.file.path.localeCompare(t.file.path)}),n.map(function(e){return e.file})}}]),e}();t.default=a},function(e,t){function n(e){return e.replace(/[^\u0000-\u007e]/g,function(e){return o[e]||e})}t.remove=n;for(var r=[{base:" ",chars:" "},{base:"0",chars:"߀"},{base:"A",chars:"ⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",chars:"Ꜳ"},{base:"AE",chars:"ÆǼǢ"},{base:"AO",chars:"Ꜵ"},{base:"AU",chars:"Ꜷ"},{base:"AV",chars:"ꜸꜺ"},{base:"AY",chars:"Ꜽ"},{base:"B",chars:"ⒷＢḂḄḆɃƁ"},{base:"C",chars:"ⒸＣꜾḈĆCĈĊČÇƇȻ"},{base:"D",chars:"ⒹＤḊĎḌḐḒḎĐƊƉᴅꝹ"},{base:"Dh",chars:"Ð"},{base:"DZ",chars:"ǱǄ"},{base:"Dz",chars:"ǲǅ"},{base:"E",chars:"ɛⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎᴇ"},{base:"F",chars:"ꝼⒻＦḞƑꝻ"},{base:"G",chars:"ⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾɢ"},{base:"H",chars:"ⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",chars:"ⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",chars:"ⒿＪĴɈȷ"},{base:"K",chars:"ⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",chars:"ⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",chars:"Ǉ"},{base:"Lj",chars:"ǈ"},{base:"M",chars:"ⓂＭḾṀṂⱮƜϻ"},{base:"N",chars:"ꞤȠⓃＮǸŃÑṄŇṆŅṊṈƝꞐᴎ"},{base:"NJ",chars:"Ǌ"},{base:"Nj",chars:"ǋ"},{base:"O",chars:"ⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OE",chars:"Œ"},{base:"OI",chars:"Ƣ"},{base:"OO",chars:"Ꝏ"},{base:"OU",chars:"Ȣ"},{base:"P",chars:"ⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",chars:"ⓆＱꝖꝘɊ"},{base:"R",chars:"ⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",chars:"ⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",chars:"ⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"Th",chars:"Þ"},{base:"TZ",chars:"Ꜩ"},{base:"U",chars:"ⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",chars:"ⓋＶṼṾƲꝞɅ"},{base:"VY",chars:"Ꝡ"},{base:"W",chars:"ⓌＷẀẂŴẆẄẈⱲ"},{base:"X",chars:"ⓍＸẊẌ"},{base:"Y",chars:"ⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",chars:"ⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",chars:"ⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑ"},{base:"aa",chars:"ꜳ"},{base:"ae",chars:"æǽǣ"},{base:"ao",chars:"ꜵ"},{base:"au",chars:"ꜷ"},{base:"av",chars:"ꜹꜻ"},{base:"ay",chars:"ꜽ"},{base:"b",chars:"ⓑｂḃḅḇƀƃɓƂ"},{base:"c",chars:"ｃⓒćĉċčçḉƈȼꜿↄ"},{base:"d",chars:"ⓓｄḋďḍḑḓḏđƌɖɗƋᏧԁꞪ"},{base:"dh",chars:"ð"},{base:"dz",chars:"ǳǆ"},{base:"e",chars:"ⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇǝ"},{base:"f",chars:"ⓕｆḟƒ"},{base:"ff",chars:"ﬀ"},{base:"fi",chars:"ﬁ"},{base:"fl",chars:"ﬂ"},{base:"ffi",chars:"ﬃ"},{base:"ffl",chars:"ﬄ"},{base:"g",chars:"ⓖｇǵĝḡğġǧģǥɠꞡꝿᵹ"},{base:"h",chars:"ⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",chars:"ƕ"},{base:"i",chars:"ⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",chars:"ⓙｊĵǰɉ"},{base:"k",chars:"ⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",chars:"ⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇɭ"},{base:"lj",chars:"ǉ"},{base:"m",chars:"ⓜｍḿṁṃɱɯ"},{base:"n",chars:"ⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥлԉ"},{base:"nj",chars:"ǌ"},{base:"o",chars:"ⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿꝋꝍɵɔᴑ"},{base:"oe",chars:"œ"},{base:"oi",chars:"ƣ"},{base:"oo",chars:"ꝏ"},{base:"ou",chars:"ȣ"},{base:"p",chars:"ⓟｐṕṗƥᵽꝑꝓꝕρ"},{base:"q",chars:"ⓠｑɋꝗꝙ"},{base:"r",chars:"ⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",chars:"ⓢｓśṥŝṡšṧṣṩșşȿꞩꞅẛʂ"},{base:"ss",chars:"ß"},{base:"t",chars:"ⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"th",chars:"þ"},{base:"tz",chars:"ꜩ"},{base:"u",chars:"ⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",chars:"ⓥｖṽṿʋꝟʌ"},{base:"vy",chars:"ꝡ"},{base:"w",chars:"ⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",chars:"ⓧｘẋẍ"},{base:"y",chars:"ⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",chars:"ⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],o={},i=0;i<r.length;i+=1)for(var a=r[i].chars,u=0;u<a.length;u+=1)o[a[u]]=r[i].base;t.replacementList=r,t.diacriticsMap=o}]);